(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{122:function(e,t,n){},183:function(e,t,n){},194:function(e,t,n){},195:function(e,t,n){},252:function(e,t,n){},253:function(e,t,n){},283:function(e,t,n){},284:function(e,t,n){},285:function(e,t,n){},286:function(e,t,n){},287:function(e,t,n){},288:function(e,t,n){},289:function(e,t,n){},290:function(e,t,n){},291:function(e,t,n){},292:function(e,t,n){},293:function(e,t,n){},295:function(e,t,n){},323:function(e,t,n){},329:function(e,t,n){},330:function(e,t,n){},331:function(e,t,n){},332:function(e,t,n){},333:function(e,t,n){},334:function(e,t,n){},335:function(e,t,n){},336:function(e,t,n){},337:function(e,t,n){},342:function(e,t,n){},343:function(e,t,n){},344:function(e,t,n){},345:function(e,t,n){},355:function(e,t,n){},356:function(e,t,n){},357:function(e,t,n){},358:function(e,t,n){},359:function(e,t,n){},361:function(e,t,n){},362:function(e,t,n){},363:function(e,t,n){"use strict";n.r(t);var a=n(1),c=n.n(a),s=n(58),o=n.n(s),i=(n(252),n(253),n(3)),r=n(29),l=n(198),d=n(16),j=n(4),u=n(41),b=Object(u.c)({name:"user",initialState:{user:{name:"Abhinav kallungal",email:null,token:null}},reducers:{loginAction:function(e,t){e.user=Object(j.a)({},t.payload)},logoutAction:function(e){e.user=null,localStorage.removeItem("token"),localStorage.removeItem("user"),window.location.reload()}}}),h=b.actions,m=h.loginAction,O=h.logoutAction,x=b.reducer,f=Object(u.c)({name:"socket",initialState:{socket:null},reducers:{setSoketAction:function(e,t){e.socket=t.payload}}}),p=(f.actions.setSoketAction,f.reducer),g=Object(u.c)({name:"notificationCount",initialState:{notificationCount:0},reducers:{setNotificationCountAction:function(e,t){console.log(t.payload),e.notificationCount=t.payload}}}),v=g.actions.setNotificationCountAction,w=g.reducer,y=n(224),N=Object(y.a)("http://localhost:4000",{transports:["websocket"]});console.log(N);var S=JSON.parse(localStorage.getItem("user"));N.on("connect",(function(){S&&N&&(alert(),N.emit("login",{id:N.id,userId:S._id}))})),N.on("connect_error",(function(e){console.log("connect_error due to ".concat(e))}));var C=N,P=n(489),k=n(488),I=n(422),E=n(484),A=n(487),_=n(495),R=n(60),T=n.n(R),F=n(493),z=n(498),D=n(503),W=n(494),L=n(225),M=n(512),B=n(14),U=n.n(B),q=n(23),H=n(20),K=n.n(H),V=function(e){return console.log("checking"),new Promise(function(){var t=Object(q.a)(U.a.mark((function t(n,a){return U.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,K.a.post("http://localhost:4000/api/v1/user/checkUserName",e).then((function(e){console.log(e),n(e)})).catch((function(e){console.log(e),a({usernameExist:!0,message:"choose another one"})}));case 2:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}())},Y=function(e){return console.log(e),new Promise(function(){var t=Object(q.a)(U.a.mark((function t(n,a){return U.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,K.a.post("http://localhost:4000/api/v1/user/signup",e).then((function(e){n(e.data)})).catch((function(e){a(e)}));case 2:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}())},J=function(e){var t=e.email;return new Promise(function(){var e=Object(q.a)(U.a.mark((function e(n,a){return U.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:K.a.post("http://localhost:4000/api/v1/user/thirdPartyLogin",{email:t}).then((function(e){console.log("login data",e),localStorage.setItem("token",e.data.token),console.log("login user",e.data.user),console.log("login success"),localStorage.setItem("user",JSON.stringify(e.data.user)),n(e.data)})).catch((function(e){console.log("err",e),a(e)}));case 1:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}())},$=function(e){return console.log(">>>>>>>>>>>>>>>>>>>>",e),console.log(1),new Promise(function(){var t=Object(q.a)(U.a.mark((function t(n,a){var c;return U.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:console.log(e),c=localStorage.getItem("token"),K.a.post("http://localhost:4000/api/v1/user/addpost",e,{headers:{Authorization:c,"Content-Type":"multipart/form-data"}}).then((function(e){console.log(4),n(e.data.post)})).catch((function(e){console.log("err",e),a(e)}));case 3:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}())},Z=function(e){var t=e.userId;return console.log(t),new Promise(function(){var e=Object(q.a)(U.a.mark((function e(n,a){var c;return U.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:c=localStorage.getItem("token"),K.a.get("http://localhost:4000/api/v1/user/getFriends/".concat(t),{headers:{Authorization:c}}).then((function(e){n(e.data.friends)})).catch((function(e){console.log("err",e),a(e)}));case 2:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}())},G=function(e){var t=e.userId,n=e.currentuserId;return new Promise((function(e,a){var c=localStorage.getItem("token");K.a.post("http://localhost:4000/api/v1/user/follow",{userId:t,currentuserId:n},{headers:{Authorization:c}}).then((function(t){console.log(t),e(t.data)})).catch((function(e){a(e)}))}))},Q=function(){return console.log(1),new Promise(function(){var e=Object(q.a)(U.a.mark((function e(t,n){var a;return U.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a=localStorage.getItem("token"),K.a.get("http://localhost:4000/api/v1/user/getALLStories",{headers:{Authorization:a}}).then((function(e){console.log(4),console.log(e.data),t(e.data)})).catch((function(e){console.log("err",e),n(e)}));case 2:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}())},X=function(){return console.log(1),new Promise(function(){var e=Object(q.a)(U.a.mark((function e(t,n){var a;return U.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a=localStorage.getItem("token"),K.a.get("http://localhost:4000/api/v1/user/getStoriesSideBar",{headers:{Authorization:a}}).then((function(e){console.log(4),console.log(e.data),t(e.data)})).catch((function(e){console.log("err",e),n(e)}));case 2:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}())},ee=n(129),te=n.n(ee),ne=n(13),ae=n(423),ce=n(428),se=n(496),oe=n(0);function ie(e){return Object(oe.jsxs)(F.a,Object(j.a)(Object(j.a)({variant:"body2",color:"text.secondary",align:"center"},e),{},{children:["Copyright \xa9 ",Object(oe.jsx)(ne.b,{color:"inherit",href:"https://mui.com/",children:"Your Website"})," ",(new Date).getFullYear(),"."]}))}var re=Object(L.a)();function le(){var e=Object(r.g)(),t=Object(a.useState)({email:"",name:"",username:"",password:"",usernameExist:!0,otp:""}),n=Object(i.a)(t,2),c=n[0],s=n[1],o=Object(a.useState)({usernameExist:"",name:"",username:"",password:"",email:"",otp:""}),l=Object(i.a)(o,2),d=l[0],u=l[1],b=Object(a.useState)(!1),h=Object(i.a)(b,2),m=h[0],O=h[1],x=Object(a.useState)(!1),f=Object(i.a)(x,2),p=f[0],g=f[1],v=Object(a.useState)(!1),w=Object(i.a)(v,2),y=w[0],N=w[1],S=Object(a.useState)({minute:"",seconds:""}),C=Object(i.a)(S,2),R=C[0],L=C[1];Object(a.useEffect)((function(){var e=10;if(p);else var t=setInterval((function(){L({minute:Math.floor(e/60),seconds:Math.floor(e%60)}),-1===--e&&(clearInterval(t),g(!0))}),1e3)}),[p]);var B=function(e){if(e.preventDefault(),N(!0),""===d.name&&""!==c.name&&""===d.username&&""===d.usernameExist&&""!==c.username&&""===d.email&&""!==c.email&&""===d.password&&""!==c.password)console.log("test"),Y(c).then((function(){O(!0)})).catch((function(e){console.log(e),N(!1)}));else{N(!1);!function(e){var t={};""===e.name&&(t=Object(j.a)(Object(j.a)({},t),{},{name:"name is requierd"})),""===e.username&&(t=Object(j.a)(Object(j.a)({},t),{},{username:"username is requierd"})),""===e.email&&(t=Object(j.a)(Object(j.a)({},t),{},{email:"Email is requierd"})),""===e.password&&(t=Object(j.a)(Object(j.a)({},t),{},{password:"password is requierd"})),u(Object(j.a)(Object(j.a)({},d),t))}(c)}};return Object(oe.jsx)(M.a,{theme:re,children:Object(oe.jsxs)(W.a,{component:"main",maxWidth:"xs",children:[m?Object(oe.jsxs)(z.a,{className:"card py-5 px-4 mt-5 shadow",children:[Object(oe.jsx)(I.a,{}),Object(oe.jsx)(F.a,{variant:"h4",className:"text-center fw-bold Typography ",style:{color:"#1877F2",fontFamily:"Montserrat"},children:"Social Media"}),Object(oe.jsxs)(_.a,{sx:{marginTop:4,display:"flex",flexDirection:"column",alignItems:"center"},children:[Object(oe.jsx)(F.a,{component:"h1",variant:"h5",children:"OTP VERIFICATION"}),Object(oe.jsxs)(A.a,{container:!0,flexDirection:"column",alignItems:"center",className:"mt-5",children:[Object(oe.jsx)(ae.a,{style:{fontSize:"50px"}}),Object(oe.jsxs)(F.a,{children:["Enter the code we sent to ",c.email]})]}),Object(oe.jsxs)(_.a,{component:"form",noValidate:!0,onSubmit:B,sx:{mt:3},children:[Object(oe.jsx)(A.a,{container:!0,spacing:2,children:Object(oe.jsxs)(A.a,{item:!0,xs:12,sm:12,children:[Object(oe.jsx)(te.a,{value:c.otp,onChange:function(e){s(Object(j.a)(Object(j.a)({},c),{},{otp:e})),console.log(c)},type:"number",numInputs:4,separator:Object(oe.jsx)("span",{children:"-"}),name:"otp",inputStyle:{width:"2.5rem",height:"2.5rem",margin:"0 1rem",fontSize:"2rem",borderRadius:4,border:"1px solid rgba(0,0,0,0.3)"}}),d.otp?Object(oe.jsx)(F.a,{component:"span",style:{color:"red",textAlign:"center",width:"100%",marginTop:"20px"},children:d.otp}):null]})}),Object(oe.jsx)(k.a,{type:"submit",fullWidth:!0,variant:"contained",sx:{mt:3,mb:2},onClick:function(){var t;(t={email:c.email,otp:c.otp},new Promise(function(){var e=Object(q.a)(U.a.mark((function e(n,a){return U.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:K.a.post("http://localhost:4000/api/v1/user/verifyEmailOtp",t).then((function(e){localStorage.setItem("token",e.data.token),localStorage.setItem("user",JSON.stringify(e.data.user)),n(e)})).catch((function(e){a(e.data)}));case 1:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}())).then((function(t){console.log(">>>>>>>>>2",t.data.user),e.push("/")})).catch((function(e){u(Object(j.a)(Object(j.a)({},e),{},{otp:"invalid Otp"}))}))},disabled:p,children:"Verify OTP"}),Object(oe.jsxs)(A.a,{container:!0,flexDirection:"column",alignItems:"center",className:"my-3",children:[Object(oe.jsxs)(_.a,{children:[R.minute," : ",R.seconds]}),Object(oe.jsx)(k.a,{disabled:!p,onClick:function(){(function(e){var t=e.email;return console.log(t),new Promise(function(){var e=Object(q.a)(U.a.mark((function e(n,a){return U.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:K.a.post("http://localhost:4000/api/v1/user/reSendEmailOtp",{email:t}).then((function(e){n(e)})).catch((function(e){a(e.response.data)}));case 1:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}())})({email:c.email}).then((function(e){g(!1)}))},children:"Resend OTP"})]}),d.message?Object(oe.jsx)(F.a,{component:"span",style:{color:"red"},children:d.message}):null,Object(oe.jsx)(A.a,{container:!0,justifyContent:"flex-end",children:Object(oe.jsxs)(A.a,{item:!0,children:[Object(oe.jsx)(ne.b,{to:"/login",variant:"body2",children:"Already have an account? Sign in"}),Object(oe.jsx)(ne.b,{to:"/signup;",children:"Signup"})]})})]})]})]}):Object(oe.jsxs)(z.a,{className:"card py-5 px-4 mt-5 shadow",children:[Object(oe.jsx)(I.a,{}),Object(oe.jsx)(F.a,{variant:"h4",className:"text-center fw-bold Typography ",style:{color:"#1877F2",fontFamily:"Montserrat"},children:"Social Media"}),Object(oe.jsxs)(_.a,{sx:{marginTop:4,display:"flex",flexDirection:"column",alignItems:"center"},children:[Object(oe.jsx)(P.a,{sx:{m:1,bgcolor:"secondary.main"},children:Object(oe.jsx)(T.a,{})}),Object(oe.jsx)(F.a,{component:"h1",variant:"h5",children:"Sign up Using Email"}),Object(oe.jsxs)(_.a,{component:"form",noValidate:!0,onSubmit:B,sx:{mt:3},children:[Object(oe.jsxs)(A.a,{container:!0,spacing:2,children:[Object(oe.jsxs)(A.a,{item:!0,xs:12,sm:12,children:[Object(oe.jsx)(E.a,{autoComplete:"off",name:"name",required:!0,fullWidth:!0,id:"firstName",label:"First Name",autoFocus:!0,onChange:function(e){var t=e.target.value.trim();if(s(Object(j.a)(Object(j.a)({},c),{},{name:t})),""===t){var n=Object(j.a)(Object(j.a)({},d),{},{name:"name is requierd"});u(n),console.log(d)}else if(new RegExp("^[A-Za-z\\s]{4,29}$").test(t)){var a=Object(j.a)(Object(j.a)({},d),{},{name:""});u(a)}else{var o=Object(j.a)(Object(j.a)({},d),{},{name:"Name containe mini 5 char or amx 29 char or name does't containe number or spesial char  "});u(o)}},error:d.name}),d.name?Object(oe.jsx)(F.a,{component:"span",style:{color:"red"},children:d.name}):null]}),Object(oe.jsxs)(A.a,{item:!0,xs:12,sm:12,children:[Object(oe.jsx)(E.a,{required:!0,fullWidth:!0,id:"Username",label:"Username",name:"username",autoComplete:"off",onBlur:function(e){""===d.username&&""!==c.username&&(u(Object(j.a)(Object(j.a)({},d),{},{usernameExist:"username  Checking....."})),V({username:c.username}).then((function(e){e.data.usernameExist?(u(Object(j.a)(Object(j.a)({},d),{},{usernameExist:"username already  exist"})),s(Object(j.a)(Object(j.a)({},c),{},{usernameExist:!0}))):s(Object(j.a)(Object(j.a)({},c),{},{usernameExist:!1}))})).catch((function(e){u(Object(j.a)(Object(j.a)({},d),{},{usernameExist:e.message}))})))},onChange:function(e){var t=e.target.value.trim();if(s(Object(j.a)(Object(j.a)({},c),{},{username:t})),""===t){var n=Object(j.a)(Object(j.a)({},d),{},{username:"username is requierd"});u(n)}else if(new RegExp("^[A-Za-z\\s]{4,29}$").test(t))u(Object(j.a)(Object(j.a)({},d),{},{username:""}));else{var a=Object(j.a)(Object(j.a)({},d),{},{username:" Username containe mini 5 char or amx 29 char or name does't containe number or spesial char  "});u(a)}},error:d.username||d.usernameExist}),d.username?Object(oe.jsx)(F.a,{component:"span",style:{color:"red"},children:d.username}):null,d.usernameExist?Object(oe.jsx)(F.a,{component:"span",style:{color:"red"},children:d.usernameExist}):null]}),Object(oe.jsxs)(A.a,{item:!0,xs:12,children:[Object(oe.jsx)(E.a,{autoComplete:"off",required:!0,fullWidth:!0,id:"email",label:"Email",type:"tel",name:"email",onChange:function(e){var t=e.target.value.trim();if(s(Object(j.a)(Object(j.a)({},c),{},{email:t})),""===t){var n=Object(j.a)(Object(j.a)({},d),{},{email:"Email is requierd"});u(n),console.log(d)}else if(new RegExp(/\S+@\S+\.\S+/).test(t)){var a=Object(j.a)(Object(j.a)({},d),{},{email:""});u(a)}else{var o=Object(j.a)(Object(j.a)({},d),{},{email:"Not  a valid Email"});u(o)}},error:d.email}),d.email?Object(oe.jsx)(F.a,{component:"span",style:{color:"red"},children:d.email}):null]}),Object(oe.jsxs)(A.a,{item:!0,xs:12,children:[Object(oe.jsx)(E.a,{required:!0,fullWidth:!0,name:"password",label:"Password",type:"password",id:"password",autoComplete:"off",onChange:function(e){var t=e.target.value.trim();if(s(Object(j.a)(Object(j.a)({},c),{},{password:t})),""===t){var n=Object(j.a)(Object(j.a)({},d),{},{password:"password is requierd"});u(n)}else if(new RegExp("^(?=.*[0-9])(?=.*[a-z])(?=.*[A-Z])(?=.*[@#$%^&+=!*])(?=\\S+$).{8,20}$").test(t)){var a=Object(j.a)(Object(j.a)({},d),{},{password:""});u(a)}else{var o=Object(j.a)(Object(j.a)({},d),{},{password:"Minimum 8 and maximum 20 characters, at least one uppercase letter, one lowercase letter, one number and one special character:"});u(o)}},error:d.password}),d.password?Object(oe.jsx)(F.a,{component:"span",style:{color:"red"},children:d.password}):null]})]}),Object(oe.jsx)(k.a,{type:"submit",fullWidth:!0,variant:"contained",sx:{mt:3,mb:2},disabled:y,children:y?Object(oe.jsx)(se.a,{}):"Sign Up"}),d.message?Object(oe.jsx)(F.a,{component:"span",style:{color:"red"},children:d.message}):null,Object(oe.jsxs)(A.a,{container:!0,justifyContent:"center",flexDirection:"column",alignItems:"center",children:[Object(oe.jsx)(D.a,{style:{borderRadius:10},size:"medium",onClick:function(){return e.push("/signup")},children:Object(oe.jsx)(ce.a,{style:{color:"#1976D2",fontSize:"50",borderRadius:10,border:"3px solid #ffffff"},size:"large"})}),Object(oe.jsx)(F.a,{children:"Signup with Phone"})]}),Object(oe.jsx)(A.a,{container:!0,justifyContent:"flex-end",className:"mt-3",children:Object(oe.jsx)(A.a,{item:!0,children:Object(oe.jsx)(ne.b,{to:"/login",variant:"body2",children:"Already have an account? Sign in"})})})]})]})]}),Object(oe.jsx)(ie,{sx:{mt:5}})]})})}var de=n(5),je=n(429),ue=n(430),be=n(208),he=n(209),me=n.n(he);function Oe(e){return Object(oe.jsxs)(F.a,Object(j.a)(Object(j.a)({variant:"body2",color:"text.secondary",align:"center"},e),{},{children:["Copyright \xa9 ",Object(oe.jsx)(ne.b,{color:"inherit",href:"https://mui.com/",children:"Your Website"})," ",(new Date).getFullYear(),"."]}))}console.log("socket",C);var xe=Object(L.a)();function fe(){var e=Object(d.b)(),t=Object(r.g)(),n=c.a.useState({email:null,password:""}),a=Object(i.a)(n,2),s=(a[0],a[1],c.a.useState({})),o=Object(i.a)(s,2),l=o[0],u=o[1],b=c.a.useState({error:!1,emailErr:"",passwordErr:""}),h=Object(i.a)(b,2),O=h[0],x=h[1],f=function(e){if("email"===e.target.name){console.log("emailtest");var t=e.target.value.trim();if(""===t)x({error:!0,emailErr:"username or email or phone number is required "});else if(new RegExp(/[a-z0-9._%+-]+@[a-z0-9.-]+\.[a-z]{2,15}/g).test(t)){var n=l.password;u({password:n,email:t}),console.log("test2"),x({error:!1,emailErr:""})}else if(new RegExp("^[A-Za-z]\\w{4,29}$").test(t)){var a=l.password;u({password:a,username:t}),x({error:!1,emailErr:""})}else if(new RegExp(/^([+]\d{2})?\d{10}$/).test(t)){var c=l.password;u({password:c,phone:t}),x({error:!1,emailErr:""})}else x({error:!0,emailErr:"username or email or phone number is required "})}if("password"===e.target.name){var s=e.target.value.trim();console.log(s),""===s?x({error:!0,passwordErr:"password is required "}):(console.log("password"),u(Object(j.a)(Object(j.a)({},l),{},{password:s})),x({error:!1,passwordErr:""}))}},p=function(n){console.log(n.Du.tv);var a=n.Du.tv;J({email:a}).then((function(n){console.log("login data from server",n.user),e(m(n.user)),e(v(n.unReadNotificationsCount)),null===C||void 0===C||C.emit("login",{id:C.id,userId:n.user._id}),t.push("/")})).catch((function(e){var t,n;x({error:!0,emailErr:null===e||void 0===e||null===(t=e.response)||void 0===t||null===(n=t.data)||void 0===n?void 0:n.message})}))},g=function(n){console.log(n.email),J({email:n.email}).then((function(n){null===C||void 0===C||C.emit("login",{id:C.id,userId:n.user._id}),console.log("login data from server",n.user),e(m(n.user)),e(v(n.unReadNotificationsCount)),t.push("/")})).catch((function(e){x({error:!0,emailErr:e.response.data.message})}))};return Object(oe.jsx)(M.a,{theme:xe,children:Object(oe.jsxs)(W.a,{component:"main",maxWidth:"xs",children:[Object(oe.jsxs)(z.a,{className:"card py-5 px-4 mt-5 shadow",children:[Object(oe.jsx)(I.a,{}),Object(oe.jsx)(F.a,{variant:"h4",className:"text-center fw-bold Typography ",style:{color:"#1877F2",fontFamily:"Montserrat"},children:"Social Media"}),Object(oe.jsxs)(_.a,{sx:{marginTop:4,display:"flex",flexDirection:"column",alignItems:"center"},children:[Object(oe.jsx)(P.a,{sx:{m:1,bgcolor:"secondary.main"},children:Object(oe.jsx)(T.a,{})}),Object(oe.jsx)(F.a,{className:"Typography ",component:"h1",variant:"h5",children:"Sign in"}),Object(oe.jsxs)(_.a,{component:"form",onSubmit:function(n){var a;n.preventDefault(),void 0===l.email&&void 0===l.username&&void 0===l.phone?x({error:!0,emailErr:"Invalied Detailes"}):void 0===l.password?x({error:!0,passwordErr:"password is required "}):O.error||(a=l,new Promise(function(){var e=Object(q.a)(U.a.mark((function e(t,n){return U.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:console.log(a),K.a.post("http://localhost:4000/api/v1/user/login",a).then((function(e){console.log("login data",e),localStorage.setItem("token",e.data.token),console.log("login user",e.data.user),console.log("login success"),localStorage.setItem("user",JSON.stringify(e.data.user)),t(e.data)})).catch((function(e){console.log("err",e),n(e)}));case 2:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}())).then((function(n){C.emit("login",{id:C.id,userId:n.user._id}),e(m(n.user)),e(v(n.unReadNotificationsCount)),t.push("/")})).catch((function(e){var t,n;x({error:!0,emailErr:null===e||void 0===e||null===(t=e.response)||void 0===t||null===(n=t.data)||void 0===n?void 0:n.message})}))},noValidate:!0,sx:{mt:1},children:[Object(oe.jsx)(E.a,{margin:"normal",required:!0,fullWidth:!0,id:"email",label:"Email Address",name:"email",autoComplete:"email",autoFocus:!0,onChange:f}),Object(oe.jsx)(F.a,{variant:"span",style:{color:"red"},children:O.error?O.emailErr:null}),Object(oe.jsx)(E.a,{margin:"normal",required:!0,fullWidth:!0,name:"password",label:"Password",type:"password",id:"password",autoComplete:"current-password",onChange:f}),Object(oe.jsx)(F.a,{variant:"span",style:{color:"red"},children:O.error?O.passwordErr:null}),Object(oe.jsx)(k.a,{type:"submit",fullWidth:!0,variant:"contained",sx:{mt:3,mb:2},children:"Sign In"}),Object(oe.jsx)("hr",{}),Object(oe.jsxs)("div",{className:"d-flex justify-content-evenly",children:[Object(oe.jsx)(be.GoogleLogin,{clientId:"967826436699-lmpvmcre1r12tn050u52phkfs9aro8jv.apps.googleusercontent.com",buttonText:"Login",render:function(e){return Object(oe.jsx)(D.a,{style:{backgroundColor:"#F7010130",borderRadius:10},size:"medium",onClick:e.onClick,disabled:e.disabled,children:Object(oe.jsx)(je.a,{style:{color:"#F70101",fontSize:"50",borderRadius:10,border:"3px solid #ffffff"},size:"large"})})},onSuccess:p,onFailure:p,cookiePolicy:"single_host_origin"}),Object(oe.jsx)(me.a,Object(de.a)({appId:"4796539330410041",autoLoad:!1,fields:"name,email,picture",callback:g,render:function(e){return Object(oe.jsx)(D.a,{style:{backgroundColor:"#1877F230",borderRadius:10},size:"medium",onClick:function(){return e.onClick},children:Object(oe.jsx)(ue.a,{style:{color:"#1877F2",fontSize:"50",borderRadius:10,border:"3px solid #ffffff"},size:"large"})})}},"callback",g)),","]}),Object(oe.jsx)("hr",{}),Object(oe.jsxs)(A.a,{container:!0,children:[Object(oe.jsx)(A.a,{item:!0,xs:!0,children:Object(oe.jsx)(ne.b,{to:"/forgotpassword",variant:"body2",children:"Forgot password?"})}),Object(oe.jsx)(A.a,{item:!0,children:Object(oe.jsx)(ne.b,{to:"/signup",variant:"body2",children:"Don't have an account? Sign Up"})})]})]})]})]}),Object(oe.jsx)(Oe,{sx:{mt:8,mb:4}})]})})}n(283);var pe=n(504),ge=n(505),ve=n(486),we=n(226),ye=n(491),Ne=n(436),Se=n(437),Ce=n(132),Pe=n.n(Ce),ke=n(79),Ie=n.n(ke),Ee=n(431),Ae=n(432),_e=n(433),Re=n(434),Te=n(435),Fe=n(478),ze=Object(Fe.a)({logo:{color:"#007FFF",fontFamily:"Montserrat, sans-serif",fontWeight:700,fontSize:22},navItem:{maxWidth:"42px",maxHeight:"42px",minWidth:"42px",minHeight:"42px",borderRadius:10,backgroundColor:"#f1f1f1",padding:0},mobileNavbar:{display:"none"},root:{background:"linear-gradient(45deg, #2196F3 30%, #21CBF3 90%)",border:0,borderRadius:3,boxShadow:"0 3px 5px 2px rgba(33, 203, 243, .3)",color:"#ffffff",height:42,padding:"0 30px"}});var De=function(){var e=Object(d.b)(),t=Object(r.g)(),n=c.a.useState(null),s=Object(i.a)(n,2),o=s[0],l=s[1],j=Object(a.useState)(""),u=Object(i.a)(j,2),b=u[0],h=(u[1],Boolean(o)),m=function(){l(null)},x=ze(),f=Object(d.c)((function(e){return e.user.user})),p=Object(d.c)((function(e){return e.notificationCount.notificationCount}));return Object(oe.jsx)(oe.Fragment,{children:Object(oe.jsx)(pe.a,{style:{backgroundColor:"#fff"},sx:{width:"100%",position:"fixed",top:0,left:0,right:0},children:Object(oe.jsxs)(ge.a,{children:[Object(oe.jsxs)("div",{className:"nav",children:[Object(oe.jsx)(F.a,{className:x.logo,variant:"p",children:"Social Media"}),Object(oe.jsxs)("div",{className:"navItems",children:[Object(oe.jsx)(k.a,{variant:"text",className:(x.navItem,"navItem"),sx:x.mobileNavbar,component:ne.b,to:"/",children:Object(oe.jsx)(Ee.a,{color:"primary",fontSize:"medium"})}),Object(oe.jsx)(k.a,{variant:"text",className:(x.navItem,"navItem"),component:ne.b,to:"/search",children:Object(oe.jsx)(Ae.a,{color:"primary",size:"medium"})}),Object(oe.jsx)(k.a,{variant:"text",className:(x.navItem,"navItem"),component:ne.b,to:"/notification",children:Object(oe.jsx)(ve.a,{badgeContent:p,color:"primary",children:Object(oe.jsx)(_e.a,{color:"action"})})}),Object(oe.jsx)(k.a,{variant:"text",className:(x.navItem,"navItem"),component:ne.b,to:"/Messenger",children:Object(oe.jsx)(Re.a,{color:"primary",size:"medium"})}),Object(oe.jsx)(k.a,{variant:"text",className:(x.navItem,"navItem"),children:Object(oe.jsx)(Te.a,{color:"primary",size:"medium"})}),Object(oe.jsx)(k.a,{variant:"text",className:x.root,style:{color:"#ffffff"},component:ne.b,to:"/createpost",children:"Create Post"}),Object(oe.jsx)(D.a,{onClick:function(e){l(e.currentTarget)},size:"small",sx:{ml:2},children:b?Object(oe.jsx)("img",{src:"https://source.unsplash.com/user/erondu/32x32",style:{borderRadius:10},alt:""}):Object(oe.jsx)(P.a,{sx:{width:32,height:32},children:"M"})})]})]}),Object(oe.jsxs)(we.a,{anchorEl:o,open:h,onClose:m,onClick:m,PaperProps:{elevation:0,sx:{overflow:"visible",filter:"drop-shadow(0px 2px 8px rgba(0,0,0,0.32))",mt:1.5,"& .MuiAvatar-root":{width:32,height:32,ml:-.5,mr:1},"&:before":{content:'""',display:"block",position:"absolute",top:0,right:14,width:10,height:10,bgcolor:"background.paper",transform:"translateY(-50%) rotate(45deg)",zIndex:0}}},transformOrigin:{horizontal:"right",vertical:"top"},anchorOrigin:{horizontal:"right",vertical:"bottom"},children:[Object(oe.jsx)(ne.b,{to:"/profile/".concat(f._id),component:k.a,children:Object(oe.jsxs)(ye.a,{children:[Object(oe.jsx)(P.a,{})," Profile"]})}),Object(oe.jsxs)(ye.a,{children:[Object(oe.jsx)(P.a,{})," My account"]}),Object(oe.jsx)(Ne.a,{}),Object(oe.jsx)(ye.a,{children:Object(oe.jsxs)(ne.b,{to:"/settings",children:[Object(oe.jsx)(Se.a,{children:Object(oe.jsx)(Ie.a,{fontSize:"small"})}),"Settings"]})}),Object(oe.jsxs)(ye.a,{onClick:function(n){e(O()),t.push("/login")},children:[Object(oe.jsx)(Se.a,{children:Object(oe.jsx)(Pe.a,{fontSize:"small"})}),"Logout"]})]})]})})})},We=(n(284),n(506)),Le=n(507),Me=n(438),Be=function(){return Object(oe.jsx)(ve.a,{badgeContent:0,color:"primary",children:Object(oe.jsx)(Me.a,{color:"action"})})};var Ue=function(){var e=c.a.useState("recents"),t=Object(i.a)(e,2),n=t[0],a=t[1];return Object(d.c)((function(e){return e.notificationCount.notificationCount})),Object(oe.jsx)("div",{className:"BottomBar",children:Object(oe.jsxs)(We.a,{sx:{width:"100%",position:"fixed",bottom:0,left:0,right:0},value:n,onChange:function(e,t){a(t)},children:[Object(oe.jsx)(Le.a,{label:"Home",value:"Home",component:ne.b,to:"/",icon:Object(oe.jsx)(Ee.a,{})}),Object(oe.jsx)(Le.a,{label:"Search",value:"Search",component:ne.b,to:"/search",icon:Object(oe.jsx)(Ae.a,{})}),Object(oe.jsx)(Le.a,{label:"Notifications",value:"Notifications",icon:Object(oe.jsx)(Be,{color:"action"})}),Object(oe.jsx)(Le.a,{label:"Chat",value:"Chat",component:ne.b,to:"/Messenger",icon:Object(oe.jsx)(Re.a,{})}),Object(oe.jsx)(Le.a,{label:"Friends",value:"Friends",icon:Object(oe.jsx)(Te.a,{})})]})})},qe=(n(285),n(286),n.p+"static/media/userAvathar.6c66ac2f.jpg");var He=function(){Object(r.g)();var e=Object(d.c)((function(e){return e.user.user})),t=e,n=null===t||void 0===t?void 0:t.ProfilePhotos;return Object(a.useEffect)((function(){}),[e]),Object(oe.jsx)(ne.b,{to:"/profile/".concat(t._id),style:{textDecoration:"none"},children:Object(oe.jsx)("div",{className:"ProfileCard",children:Object(oe.jsxs)("div",{className:"d-flex",children:[Object(oe.jsx)("div",{className:"img",children:Object(oe.jsx)("img",{src:n?n[n.length-1]:qe,alt:""})}),Object(oe.jsxs)("div",{children:[Object(oe.jsxs)("p",{children:[" ",t.name]}),Object(oe.jsxs)("span",{children:["@",t.username]})]})]})})})},Ke=(n(287),n(212)),Ve=n.n(Ke),Ye=n(213),Je=n.n(Ye),$e=n(439),Ze=Object(Fe.a)({Button:{width:"100%",textAlign:"left",display:"flex",justifyContent:"space-between",height:"50px",color:"#383860"},ButtonContent:{display:"flex",alignItems:"center",width:"100%"},badge:{width:"30px",height:"25px",backgroundColor:"#7169697d",color:"white",fontWeight:"bold",borderRadius:"50%",textAlign:"center"},navIcons:{color:"#716969"}});var Ge=function(){var e=Ze(),t=Object(d.b)(),n=Object(r.g)(),a=Object(d.c)((function(e){return e.notificationCount.notificationCount}));return Object(oe.jsxs)("div",{className:"SideNav",children:[Object(oe.jsx)("div",{className:"navItem",children:Object(oe.jsx)(k.a,{variant:"text",className:e.Button,component:ne.b,to:"/",children:Object(oe.jsxs)("div",{className:e.ButtonContent,children:[Object(oe.jsx)(Ve.a,{className:e.navIcons}),Object(oe.jsx)("span",{children:"Home"})]})})}),Object(oe.jsx)("div",{className:"navItem",children:Object(oe.jsxs)(k.a,{variant:"text",className:e.Button,component:ne.b,to:"/notification",children:[Object(oe.jsxs)("div",{className:e.ButtonContent,children:[Object(oe.jsx)(Je.a,{className:e.navIcons}),Object(oe.jsx)("span",{children:"Notifications"})]}),Object(oe.jsx)("div",{className:e.badge,children:a})]})}),Object(oe.jsx)("div",{className:"navItem",children:Object(oe.jsx)(k.a,{variant:"text",className:e.Button,component:ne.b,to:"/settings",children:Object(oe.jsxs)("div",{className:e.ButtonContent,children:[Object(oe.jsx)(Ie.a,{className:e.navIcons}),Object(oe.jsx)("span",{children:"Settings"})]})})}),Object(oe.jsx)("div",{className:"navItem",children:Object(oe.jsx)(k.a,{variant:"text",className:e.Button,onClick:function(e){t(O()),n.push("/login")},children:Object(oe.jsxs)("div",{className:e.ButtonContent,children:[Object(oe.jsx)($e.a,{className:e.navIcons}),Object(oe.jsx)("span",{children:"Logout"})]})})})]})};n(288);var Qe=function(){var e=Object(a.useState)(null),t=Object(i.a)(e,2),n=t[0],c=t[1];return Object(a.useEffect)((function(){new Promise(function(){var e=Object(q.a)(U.a.mark((function e(t,n){var a;return U.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a=localStorage.getItem("token"),K.a.get("http://localhost:4000/api/v1/user/getBanner",{headers:{Authorization:a}}).then((function(e){console.log(e.data),t(e.data)})).catch((function(e){console.log("err",e),n(e)}));case 2:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()).then((function(e){c(e)}))}),[]),Object(oe.jsxs)("div",{className:"SidebarBanner",children:[Object(oe.jsx)(F.a,{className:"mb-1",children:"Sponsored*"}),n?Object(oe.jsxs)("div",{className:"banner",children:[Object(oe.jsx)("img",{src:null===n||void 0===n?void 0:n.files[0],alt:""}),Object(oe.jsx)("span",{children:null===n||void 0===n?void 0:n.description})]}):null,Object(oe.jsx)("div",{className:"bannerButtons"})]})};n(289);var Xe=function(e){var t=e.request,n=e.follow,a=Object(r.g)();return Object(oe.jsxs)("div",{className:"RequestCard",children:[Object(oe.jsxs)("div",{className:"details",children:[Object(oe.jsx)("div",{className:"img",children:Object(oe.jsx)("img",{src:(null===t||void 0===t?void 0:t.ProfilePhotos)?null===t||void 0===t?void 0:t.ProfilePhotos:qe,alt:""})}),Object(oe.jsx)("div",{className:"content",children:Object(oe.jsxs)("p",{children:[Object(oe.jsx)("span",{children:null===t||void 0===t?void 0:t.name})," want to add you to friend"]})})]}),Object(oe.jsxs)("div",{className:"btns",children:[Object(oe.jsx)(k.a,{variant:"contained",style:{fontSize:"12px",fontWeight:"bold",height:"40px",marginRight:"20px"},className:"btn",onClick:function(){return n(t._id)},children:"Follow "}),Object(oe.jsx)(k.a,{variant:"outlined",style:{fontSize:"12px",fontWeight:"bold",height:"40px"},onClick:function(){return e=t._id,void a.push("/profile/"+e);var e},children:"View Profile"})]})]})},et=(n(290),n(42)),tt=n(214),nt=n.n(tt);var at=function(e){var t=e.user,n=Object(a.useState)(""),c=Object(i.a)(n,2),s=(c[0],c[1]),o=Object(r.g)();return Object(oe.jsxs)("div",{className:"Addpost",onClick:function(){o.push("/createPost")},children:[Object(oe.jsxs)("div",{className:"d-flex w-100",children:[Object(oe.jsx)("img",{src:t.ProfilePhotos?t.ProfilePhotos.slice(-1).pop():Object(oe.jsx)(qe,{}),alt:""}),Object(oe.jsx)(et.c,{sx:{ml:1,flex:1},fullWidth:!0,style:{width:"100%"},placeholder:"What\u2019s New, "+(null===t||void 0===t?void 0:t.name)+"?",inputProps:{"aria-label":"What\u2019s New, Abhinav? "},onChange:function(e){return s(e.target.value)}})]}),Object(oe.jsx)(k.a,{variant:"contained",endIcon:Object(oe.jsx)(nt.a,{}),children:"POST"})]})},ct=(n(291),n(292),n(440));var st=function(){var e=Object(r.g)();return Object(oe.jsxs)("div",{className:"HeroAddStory",onClick:function(){return e.push("/createStories")},children:[Object(oe.jsx)("div",{className:"img",children:Object(oe.jsx)("img",{src:"https://source.unsplash.com/user/erondu/100x180",alt:""})}),Object(oe.jsxs)("div",{className:"content",children:[Object(oe.jsx)("span",{children:"Add Story"}),Object(oe.jsx)(D.a,{"aria-label":"fingerprint",style:{color:"white"},children:Object(oe.jsx)(ct.a,{style:{color:"white",border:"2px solid white",borderRadius:"5px"}})})]})]})};n(293);var ot=n(441),it=n(442),rt=n(480),lt=(n(122),n(215)),dt=n.n(lt),jt=n(54),ut=n.n(jt),bt={position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",width:"100vw",height:"100vh",boxShadow:24,p:4,borderRadius:5,zIndex:2,backdropFilter:" blur(5px)"};var ht=function(e){var t,n,s,o,r,l=e.story,j=e.stories,u=c.a.useState(!1),b=Object(i.a)(u,2),h=b[0],m=b[1],O=Object(a.useRef)(),x=Object(d.c)((function(e){return e.user.user})),f=function(){return m(!1)},p=Object(a.useState)([]),g=Object(i.a)(p,2),v=g[0],w=g[1],y=Object(a.useState)({}),N=Object(i.a)(y,2),S=N[0],C=N[1];return Object(a.useEffect)((function(){if(h){var e=j.findIndex(a);function a(e){return e._id==l._id}console.log("stories",j),console.log("stories.slice",j.slice(e,j.length));var t=j.slice(e,j.length),n=[];t.filter((function(e,t){var a,c;console.log(e.createdAt);var s=null===e||void 0===e||null===(a=e.files)||void 0===a||null===(c=a.file)||void 0===c?void 0:c.split("."),o=s[s.length-1];return"png"===o||"jpes"===o||"jpg"===o?(console.log("image",e.files.file),n.push({url:e.files.file}),{type:"image",url:e.files.file,originalContent:e._id}):"mp4"===o?(n.push({type:"video",url:e.files.file}),{type:"video",url:e.files.file}):void alert()}));w(n)}}),[h]),Object(oe.jsxs)("div",{className:"CreatePostModal ViewStoryModal",children:[Object(oe.jsxs)("div",{className:"HeroViewStory",onClick:function(){return m(!0)},children:[Object(oe.jsx)("div",{className:"img",children:Object(oe.jsx)("img",{src:(null===l||void 0===l||null===(t=l.user)||void 0===t?void 0:t.ProfilePhotos)?null===l||void 0===l||null===(n=l.user)||void 0===n?void 0:n.ProfilePhotos:"https://source.unsplash.com/user/erondu/100x180",alt:""})}),Object(oe.jsxs)("div",{className:"content",children:[Object(oe.jsx)("span",{children:l.user.name}),l.trending?Object(oe.jsx)(ot.a,{style:{color:"#007fff"}}):null]})]}),Object(oe.jsx)(rt.a,{open:h,onClose:f,"aria-labelledby":"modal-modal-title","aria-describedby":"modal-modal-description",children:Object(oe.jsxs)(_.a,{sx:bt,className:"box p-0",children:[Object(oe.jsx)("div",{className:"header d-flex justify-content-end align-items-center",style:{position:"fixed",top:0,left:10,right:10,zIndex:100},children:Object(oe.jsx)(D.a,{size:"large",style:{backgroundColor:"#eeeeee30"},onClick:f,children:Object(oe.jsx)(it.a,{})})}),Object(oe.jsx)("div",{className:"d-flex justify-content-center w-100",style:{zIndex:1},children:Object(oe.jsx)("div",{className:"view",style:{height:"100vh",width:"33vw",backgroundColor:"#dddddd",minWidth:"360px",overflow:"hidden"},children:Object(oe.jsxs)("div",{className:"StoryContent d-flex flex-column h-100 align-items-center justify-content-center",ref:O,children:[Object(oe.jsx)("div",{style:{width:"100%"},children:S?Object(oe.jsxs)("div",{className:"Profile",children:[Object(oe.jsx)("div",{className:"img",children:Object(oe.jsx)("img",{src:(null===S||void 0===S||null===(s=S.user)||void 0===s?void 0:s.ProfilePhotos)?null===S||void 0===S||null===(o=S.user)||void 0===o?void 0:o.ProfilePhotos:"https://source.unsplash.com/user/erondu/100x180",style:{width:"50px",height:"50px",marginRight:"20px",marginLeft:"20px"},alt:""})}),Object(oe.jsxs)("div",{children:[Object(oe.jsx)("span",{children:null===S||void 0===S||null===(r=S.user)||void 0===r?void 0:r.name}),Object(oe.jsx)("p",{children:ut()(null===S||void 0===S?void 0:S.createdAt).fromNow()})]})]}):null}),Object(oe.jsx)(dt.a,{keyboardNavigation:!0,defaultInterval:3e3,stories:v,onStoryStart:function(e,t){console.log("st",t.url);var n=j.find((function(e){return console.log(e),e.files.file==t.url}));C(n),console.log("viewdStory",n),function(e){var t=e.storyId,n=e.ViewerId;return new Promise(function(){var e=Object(q.a)(U.a.mark((function e(a,c){var s;return U.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:s=localStorage.getItem("token"),K.a.post("http://localhost:4000/api/v1/user/viewSroty",{storyId:t,ViewerId:n},{headers:{Authorization:s}}).then((function(e){console.log(e.data),a(e.data)})).catch((function(e){console.log("err",e),c(e)}));case 2:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}())}({storyId:n.files.id,ViewerId:x._id}).then((function(e){console.log(e)})).catch((function(e){console.log(e)}))},onAllStoriesEnd:f,onStoryEnd:function(e,t){return console.log("story ended",e,t)}})]})})})]})})]})};var mt=function(){var e=Object(a.useState)([]),t=Object(i.a)(e,2),n=t[0],c=t[1],s=Object(a.useState)([]),o=Object(i.a)(s,2),r=o[0],l=o[1],d=Object(a.useState)([]),j=Object(i.a)(d,2),u=j[0],b=j[1];return Object(a.useEffect)((function(){X().then((function(e){c(e.stories)}))}),[]),Object(a.useEffect)((function(){Q().then((function(e){l(e.stories)}))}),[]),Object(a.useEffect)((function(){new Promise(function(){var e=Object(q.a)(U.a.mark((function e(t,n){var a;return U.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a=localStorage.getItem("token"),K.a.get("http://localhost:4000/api/v1/user/getTrendingStories",{headers:{Authorization:a}}).then((function(e){console.log(e.data),t(e.data)})).catch((function(e){n(e)}));case 2:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()).then((function(e){b(e.trendingStories)}))}),[]),Object(oe.jsx)("div",{className:"HeroStorySection",children:Object(oe.jsxs)("div",{className:"d-flex",children:[Object(oe.jsx)(st,{}),null===n||void 0===n?void 0:n.map((function(e){return Object(oe.jsx)(ht,{stories:r,story:e})})),null===u||void 0===u?void 0:u.map((function(e){return Object(oe.jsx)(ht,{stories:r,story:e})}))]})})},Ot=(n(183),n(216)),xt=n.n(Ot),ft=n(219),pt=n.n(ft),gt=n(57),vt=n(38),wt=n(485),yt=n(502),Nt=n(483),St={position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",width:400,bgcolor:"background.paper",boxShadow:24,p:4,borderRadius:"10px"};var Ct=function(e){var t=e.userId,n=e.postId,s=c.a.useState(!1),o=Object(i.a)(s,2),r=o[0],l=o[1],d=Object(a.useState)(""),j=Object(i.a)(d,2),u=j[0],b=j[1],h=Object(a.useState)(""),m=Object(i.a)(h,2),O=m[0],x=m[1],f=function(){l(!1)};return Object(oe.jsxs)("div",{className:"AddPro",children:[Object(oe.jsx)(k.a,{style:{backgroundColor:"#ffffff50"},onClick:function(){return l(!0)},children:"  Report Post  "}),Object(oe.jsx)(rt.a,{open:r,onClose:f,"aria-labelledby":"modal-modal-title","aria-describedby":"modal-modal-description",children:Object(oe.jsxs)(_.a,{sx:St,className:"box",children:[Object(oe.jsxs)("div",{className:"header d-flex justify-content-between align-items-center mb-4",children:[Object(oe.jsx)(F.a,{variant:"h6",component:"h2",style:{fontWeight:"bold"},children:"Report Post"}),Object(oe.jsx)(D.a,{size:"large",style:{backgroundColor:"#eeeeee"},onClick:f,children:Object(oe.jsx)(it.a,{})})]}),Object(oe.jsxs)("div",{children:[Object(oe.jsx)(F.a,{variant:"h6",component:"h2",children:" Please select a problem"}),Object(oe.jsx)(F.a,{variant:"body2",children:"If someone is in immediate danger, get help before reporting to Facebook. Don't wait."})]}),Object(oe.jsxs)("div",{className:"mt-4",children:[Object(oe.jsxs)(yt.a,{fullWidth:!0,children:[Object(oe.jsx)(wt.a,{id:"demo-simple-select-label",children:"Select a problem"}),Object(oe.jsxs)(Nt.a,{labelId:"demo-simple-select-label",id:"demo-simple-select",value:O,label:"Select a problem",onChange:function(e){x(e.target.value)},children:[Object(oe.jsx)(ye.a,{value:"nudity",children:"Nudity"}),Object(oe.jsx)(ye.a,{value:"Violence",children:"Violence"}),Object(oe.jsx)(ye.a,{value:"Harassment",children:"Harassment"}),Object(oe.jsx)(ye.a,{value:"Spam",children:"Spam"}),Object(oe.jsx)(ye.a,{value:"Something else",children:"Something else"})]})]}),Object(oe.jsx)(yt.a,{fullWidth:!0,className:"mt-3",children:Object(oe.jsx)(E.a,{id:"outlined-multiline-static",label:"Message",multiline:!0,rows:4,value:u,onChange:function(e){return b(e.target.value)}})})]}),Object(oe.jsxs)("div",{className:"d-flex align-items-end justify-content-end mt-2",children:[Object(oe.jsx)(k.a,{color:"warning",variant:"contained",className:"me-3",onClick:f,children:"Cancel"}),Object(oe.jsx)(k.a,{color:"success",variant:"contained",onClick:function(){(function(e){var t=e.postId,n=e.userId,a=e.optoion,c=e.message;return new Promise((function(e,s){var o=localStorage.getItem("token");K.a.post("http://localhost:4000/api/v1/user/report",{userId:n,postId:t,optoion:a,message:c},{headers:{Authorization:o}}).then((function(t){e(t.data.comment)})).catch((function(e){s(e)}))}))})({userId:t,postId:n,option:O,message:u}).then((function(){f()})).catch((function(){f()}))},children:"Report"})]}),Object(oe.jsx)("span",{style:{color:"red"}})]})})]})},Pt=(n(148),n(149),n(482)),kt=n(217),It=n.n(kt),Et=n(218),At=n.n(Et),_t=n(443),Rt=n(444),Tt=n(445),Ft={position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",width:400,bgcolor:"background.paper",boxShadow:24,p:4,borderRadius:"10px"};var zt=function(e){var t=c.a.useState(!1),n=Object(i.a)(t,2),s=n[0],o=n[1],l=Object(a.useState)([]),d=Object(i.a)(l,2),j=d[0],u=d[1],b=Object(r.g)(),h=function(){o(!1)};return Object(oe.jsxs)("span",{className:"ViewTags",children:[Object(oe.jsxs)("span",{style:{backgroundColor:"#ffffff50"},onClick:function(){(function(e){var t=e.postId;return console.log(t),new Promise(function(){var e=Object(q.a)(U.a.mark((function e(n,a){var c;return U.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:c=localStorage.getItem("token"),K.a.post("http://localhost:4000/api/v1/user/getTagsDetailes",{postId:t},{headers:{Authorization:c}}).then((function(e){console.log(e),n(e.data.tagWith)})).catch((function(e){console.log("err",e),a(e)}));case 2:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}())})({postId:e.postId}).then((function(e){console.log(e),u(e)})).catch((function(e){console.log(e)})),o(!0)},children:[" ",e.children,"  "]}),Object(oe.jsx)(rt.a,{open:s,onClose:h,"aria-labelledby":"modal-modal-title","aria-describedby":"modal-modal-description",children:Object(oe.jsxs)(_.a,{sx:Ft,className:"box",children:[Object(oe.jsxs)("div",{className:"header d-flex justify-content-between align-items-center mb-4",children:[Object(oe.jsx)(F.a,{variant:"h6",component:"h2",style:{fontWeight:"bold"},children:"This Post Tag with"}),Object(oe.jsx)(D.a,{size:"large",style:{backgroundColor:"#eeeeee"},onClick:h,children:Object(oe.jsx)(it.a,{})})]}),Object(oe.jsx)("div",{className:"tags",children:(null===j||void 0===j?void 0:j.length)>0?j.map((function(e){return Object(oe.jsxs)("div",{className:"tag",onClick:function(){return t=e._id,o(!1),void b.push("/profile/".concat(t));var t},children:[Object(oe.jsx)("div",{className:"img",children:Object(oe.jsx)("img",{src:e.ProfilePhotos,alt:""})}),Object(oe.jsx)("p",{className:"name",children:e.name})]})})):null})]})})]})},Dt={inputProps:{"aria-label":"Checkbox demo"}};vt.d.use([vt.c]);var Wt=function(e){var t,n,s,o,l,u=Object(d.c)((function(e){return e.user.user})),b=Object(r.g)(),h=e.post,m=e.user,O=h.files,x=null===h||void 0===h?void 0:h.video,f=null===h||void 0===h||null===(t=h.user)||void 0===t?void 0:t.ProfilePhotos,p=Object(a.useState)(null===(n=h.likes)||void 0===n?void 0:n.length),g=Object(i.a)(p,2),v=g[0],w=g[1],y=Object(a.useState)(!1),N=Object(i.a)(y,2),S=N[0],P=N[1],I=Object(a.useState)(!1),E=Object(i.a)(I,2),A=E[0],_=E[1],R=Object(a.useState)(!1),T=Object(i.a)(R,2),F=T[0],z=T[1],W=Object(a.useState)(!1),L=Object(i.a)(W,2),M=L[0],B=L[1],H=Object(a.useState)(null===(s=h.comments)||void 0===s?void 0:s.length),V=Object(i.a)(H,2),Y=V[0],J=V[1],$=Object(a.useState)(""),Z=Object(i.a)($,2),G=Z[0],Q=Z[1],X=Object(a.useState)(!1),ee=Object(i.a)(X,2),te=ee[0],ae=ee[1],ce=Object(a.useState)([]),se=Object(i.a)(ce,2),ie=se[0],re=se[1];Object(a.useEffect)((function(){var e,t,n=null===h||void 0===h||null===(e=h.likes)||void 0===e?void 0:e.findIndex((function(e){return e===u._id}));P(-1!==n);var a=null===u||void 0===u||null===(t=u.SavedPost)||void 0===t?void 0:t.findIndex((function(e){return e===h._id}));_(-1!==a&&void 0!==a)}),[]),Object(a.useEffect)((function(){(null===h||void 0===h?void 0:h.userId)===(null===u||void 0===u?void 0:u._id)?z(!0):z(!1)}),[]);var le=c.a.useState(null),de=Object(i.a)(le,2),je=de[0],ue=de[1],be=Boolean(je),he=function(){ue(null)},me=function(){te?ae(!1):(ae(!0),function(e){var t=e.postId;return new Promise(function(){var e=Object(q.a)(U.a.mark((function e(n,a){var c;return U.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:c=localStorage.getItem("token"),K.a.post("http://localhost:4000/api/v1/user/getPostComments",{postId:t},{headers:{Authorization:c}}).then((function(e){console.log(e),n(e.data.comments)})).catch((function(e){console.log("err",e),a(e)}));case 2:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}())}({postId:h._id}).then((function(e){re(e)})).catch((function(e){403==e.response.status&&(localStorage.removeItem("token"),localStorage.removeItem("user"),b.push("/login"))})))};return Object(oe.jsxs)("div",{className:"ViewPostCard",style:M?{display:"none"}:null,children:[Object(oe.jsxs)("div",{className:"postHeader",children:[Object(oe.jsxs)("div",{className:"profile",children:[Object(oe.jsx)("div",{className:"img",children:Object(oe.jsx)("img",{src:f||qe,alt:""})}),Object(oe.jsxs)("div",{children:[Object(oe.jsxs)("span",{children:[" ",Object(oe.jsx)(ne.b,{to:"/profile/".concat(h.user._id),className:"Link",children:null===h||void 0===h||null===(o=h.user)||void 0===o?void 0:o.name})," "]}),(null===h||void 0===h||null===(l=h.tag)||void 0===l?void 0:l.length)>0||h.location?Object(oe.jsxs)("span",{children:[" is ",h.tag.length>0?Object(oe.jsxs)("span",{children:["with ",Object(oe.jsxs)("span",{className:"fw-bold",children:[" ",Object(oe.jsxs)(ne.b,{to:"/profile/".concat(h.tag[0]._id),className:"Link",children:[" ",h.tag[0].name]})]})]}):null," ",h.tag.length>1?Object(oe.jsxs)("span",{className:"fw-bold",children:["and     ",Object(oe.jsxs)(zt,{postId:null===h||void 0===h?void 0:h._id,children:[" ",Object(oe.jsxs)("span",{children:[" ",h.tag.length-1]})," others"]})," "]}):null," ",h.location?Object(oe.jsxs)("span",{children:["in ",Object(oe.jsx)("span",{className:"fw-bold",children:h.location})," "]}):null]}):null,Object(oe.jsx)("p",{children:ut()(h.postedDate).fromNow()})]}),Object(oe.jsx)("div",{children:h.trending?Object(oe.jsx)(ot.a,{color:"red",style:{color:"#007fff",fontSize:"36px",marginLeft:"20px"}}):null})]}),Object(oe.jsxs)(D.a,{size:"medium",onClick:function(e){ue(e.currentTarget)},children:[" ",Object(oe.jsx)(xt.a,{size:"medium"})]}),Object(oe.jsxs)(we.a,{anchorEl:je,open:be,onClose:he,PaperProps:{elevation:0,sx:{overflow:"visible",filter:"drop-shadow(0px 2px 8px rgba(0,0,0,0.32))",mt:1.5,"& .MuiAvatar-root":{width:32,height:32,ml:-.5,mr:1},"&:before":{content:'""',display:"block",position:"absolute",top:0,right:14,width:10,height:10,bgcolor:"background.paper",transform:"translateY(-50%) rotate(45deg)",zIndex:0}}},transformOrigin:{horizontal:"right",vertical:"top"},anchorOrigin:{horizontal:"right",vertical:"bottom"},children:[F?Object(oe.jsx)(ye.a,{children:" Edit Post"}):null,F?Object(oe.jsx)(ye.a,{onClick:function(){he(),function(e){var t=e.postId,n=e.userId;return new Promise((function(e,a){var c=localStorage.getItem("token");K.a.delete("http://localhost:4000/api/v1/user/deletePost",{userId:n,postId:t},{headers:{Authorization:c}}).then((function(t){console.log(t),e(t.data)})).catch((function(e){a(e)}))}))}({userId:u._id,postId:h._id}).then((function(e){B(!0)})).catch((function(e){}))},children:" Delete Post"}):null,Object(oe.jsx)(Ct,{userId:null===m||void 0===m?void 0:m._id,postId:null===h||void 0===h?void 0:h._id,children:"Report Post"})]})]}),Object(oe.jsxs)("div",{className:"postContent",children:[Object(oe.jsx)("span",{children:h.desc}),null!==O||null!==x?Object(oe.jsx)(oe.Fragment,{children:Object(oe.jsxs)(gt.a,{pagination:!0,className:"mySwiper",children:[x?Object(oe.jsx)(gt.b,{children:Object(oe.jsxs)("video",{width:"500",height:"300",controls:!0,className:"imgOne",children:[Object(oe.jsx)("source",{src:x}),"This browser doesn't support video tag."]})}):null,null===O||void 0===O?void 0:O.map((function(e,t){return Object(oe.jsx)(gt.b,{children:Object(oe.jsx)("div",{className:"imgOne",children:Object(oe.jsx)("img",{className:"",src:e,alt:""})})},t)}))]})}):null]}),Object(oe.jsxs)("div",{className:"engageCount",children:[Object(oe.jsx)(k.a,{children:Object(oe.jsxs)("span",{children:[v," likes"]})}),Object(oe.jsx)(k.a,{children:Object(oe.jsxs)("span",{onClick:me,children:[Y," Comments"]})})]}),Object(oe.jsxs)("div",{className:"postBottom",children:[Object(oe.jsxs)("div",{className:"d-flex",children:[Object(oe.jsx)(Pt.a,Object(j.a)(Object(j.a)({onClick:function(){(function(e){var t=e.postId,n=e.userId;return console.log(n,t),new Promise((function(e,a){var c=localStorage.getItem("token");K.a.post("http://localhost:4000/api/v1/user/postLike",{userId:n,postId:t},{headers:{Authorization:c}}).then((function(t){console.log(t),e(t.data)})).catch((function(e){a(e)}))}))})({userId:u._id,postId:h._id}).then((function(e){e.NotificationId&&C.emit("dolike",{NotificationId:e.NotificationId}),w(e.likes),P(e.liked)})).catch((function(e){var t;console.log(e),403==(null===e||void 0===e||null===(t=e.response)||void 0===t?void 0:t.status)&&(localStorage.removeItem("token"),localStorage.removeItem("user"),b.push("/login"))}))},checked:S,size:"large"},Dt),{},{icon:Object(oe.jsx)(It.a,{size:"large"}),checkedIcon:Object(oe.jsx)(At.a,{})})),Object(oe.jsx)(D.a,{size:"large",onClick:me,children:Object(oe.jsx)(pt.a,{size:"large"})})]}),Object(oe.jsx)(Pt.a,Object(j.a)(Object(j.a)({onClick:function(){(function(e){var t=e.postId,n=e.userId;return new Promise((function(e,a){var c=localStorage.getItem("token");K.a.post("http://localhost:4000/api/v1/user/postSave",{userId:n,postId:t},{headers:{Authorization:c}}).then((function(t){console.log(t),localStorage.setItem("user",JSON.stringify(t.data.user)),e(t.data)})).catch((function(e){a(e)}))}))})({userId:u._id,postId:h._id}).then((function(e){_(e.saved)})).catch((function(e){403==e.response.status&&(localStorage.removeItem("token"),localStorage.removeItem("user"),b.push("/login"))}))},checked:A,size:"large"},Dt),{},{icon:Object(oe.jsx)(_t.a,{size:"large"}),checkedIcon:Object(oe.jsx)(Rt.a,{})}))]}),Object(oe.jsxs)("div",{className:"commentSection",children:[Object(oe.jsxs)("div",{className:"commentInput",children:[Object(oe.jsx)("input",{type:"text",onChange:function(e){Q(e.target.value)},value:G,placeholder:"Add A Comment............"}),Object(oe.jsx)(D.a,{className:"sendcomment",onClick:function(){Q(""),function(e){var t=e.postId,n=e.userId,a=e.comment;return console.log(t,n,a),new Promise((function(e,c){var s=localStorage.getItem("token");K.a.post("http://localhost:4000/api/v1/user/comment",{userId:n,postId:t,comment:a},{headers:{Authorization:s}}).then((function(t){console.log(t.data.comments),e({comments:t.data.comments,NotificationId:t.data.NotificationId})})).catch((function(e){c(e)}))}))}({userId:u._id,postId:h._id,comment:G}).then((function(e){var t=e.comments,n=e.NotificationId;t&&(re(t),ae(!0),J(null===t||void 0===t?void 0:t.length)),n&&C.emit("docomment",{NotificationId:n})})).catch((function(e){403==e.response.status&&(localStorage.removeItem("token"),localStorage.removeItem("user"),b.push("/login"))}))},children:Object(oe.jsx)(Tt.a,{style:{color:"#fff"}})})]}),te?Object(oe.jsx)("div",{className:"comments",children:null===ie||void 0===ie?void 0:ie.map((function(e,t){return Object(oe.jsxs)("div",{className:"comment",children:[Object(oe.jsx)("div",{className:"profilePhoto",children:Object(oe.jsx)("img",{src:e.user.ProfilePhotos,alt:""})}),Object(oe.jsxs)("div",{className:"content",children:[Object(oe.jsxs)("div",{className:"header",children:[Object(oe.jsxs)("span",{className:"me-4",children:[" ",e.user.name]}),Object(oe.jsx)("span",{className:"date ms-4",children:ut()(e.date).fromNow()})]}),Object(oe.jsx)("h6",{children:e.comment})]})]},t)}))}):null]})]},h._id)},Lt=n(492),Mt=n(446);var Bt=function(){return Object(oe.jsx)("div",{className:"FeedSkeleton p-5",children:Object(oe.jsxs)(Mt.a,{children:[Object(oe.jsxs)("div",{className:"postHeader d-flex justify-content-between align-items-center",children:[Object(oe.jsxs)("div",{className:"profile  d-flex justify-content-between",children:[Object(oe.jsx)("div",{className:"img me-3",children:Object(oe.jsx)(Lt.a,{variant:"circular",width:40,height:40})}),Object(oe.jsxs)("div",{children:[Object(oe.jsx)(Lt.a,{variant:"text",width:150}),Object(oe.jsx)(Lt.a,{variant:"text",width:50})]})]}),Object(oe.jsx)(Lt.a,{variant:"rectangular",width:10,height:30})]}),Object(oe.jsx)(Lt.a,{variant:"text"}),Object(oe.jsx)(Lt.a,{variant:"text"}),Object(oe.jsx)(Lt.a,{variant:"rectangular",width:"100%",height:260,className:"mt-3"}),Object(oe.jsxs)("div",{className:"profile  d-flex justify-content-between mt-3",children:[Object(oe.jsx)(Lt.a,{variant:"text",width:50}),Object(oe.jsx)(Lt.a,{variant:"text",width:50})]})]})})},Ut=n(19);function qt(e){var t=e.page,n=e.userId,c=Object(a.useState)(!0),s=Object(i.a)(c,2),o=s[0],r=s[1],l=Object(a.useState)(!1),d=Object(i.a)(l,2),j=d[0],u=d[1],b=Object(a.useState)([]),h=Object(i.a)(b,2),m=h[0],O=h[1],x=Object(a.useState)(!1),f=Object(i.a)(x,2),p=f[0],g=f[1];return Object(a.useEffect)((function(){r(!0),u(!1),function(e){var t=e.userId,n=e.page;return console.log(t,n),new Promise(function(){var e=Object(q.a)(U.a.mark((function e(a,c){var s;return U.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:s=localStorage.getItem("token"),K.a.post("http://localhost:4000/api/v1/user/getAllPost",{userId:t,page:n},{headers:{Authorization:s}}).then((function(e){console.log(e),a(e.data.posts)})).catch((function(e){console.log("err",e),c(e)}));case 2:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}())}({page:t,userId:n}).then((function(e){O((function(t){return Object(Ut.a)(new Set([].concat(Object(Ut.a)(t),Object(Ut.a)(e))))})),g(e.length>0),r(!1)})).catch((function(e){u(!0)}))}),[t,n]),{loading:o,error:j,posts:m,hasMore:p}}var Ht=function(e){var t=e.user,n=Object(a.useState)([]),c=Object(i.a)(n,2),s=c[0],o=c[1];Object(a.useEffect)((function(){void 0!==t._id&&function(e){var t=e.userId;return new Promise(function(){var e=Object(q.a)(U.a.mark((function e(n,a){var c;return U.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:c=localStorage.getItem("token"),K.a.get("http://localhost:4000/api/v1/user/getFollowRequest/".concat(t),{headers:{Authorization:c}}).then((function(e){n(e.data)})).catch((function(e){a(e)}));case 2:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}())}({userId:null===t||void 0===t?void 0:t._id}).then((function(e){o(e.followRequest)})).catch((function(e){}))}),[null===t||void 0===t?void 0:t._id]);var r=function(e){var n=s.filter((function(t){return e!==t._id}));G({userId:e,currentuserId:t._id}).then((function(e){o(n)})).catch((function(e){}))};return Object(oe.jsxs)("div",{children:[s.length<1?Object(oe.jsx)(Qe,{}):null,null===s||void 0===s?void 0:s.map((function(e,t){return Object(oe.jsx)(Xe,{follow:r,request:e})}))]})},Kt=Object(Fe.a)({left:{padding:"20px"},right:{padding:"20px"},navItem:{maxWidth:"42px",maxHeight:"42px",minWidth:"42px",minHeight:"42px",borderRadius:10,backgroundColor:"#f1f1f1",padding:0},root:{background:"linear-gradient(45deg, #2196F3 30%, #21CBF3 90%)",border:0,borderRadius:3,boxShadow:"0 3px 5px 2px rgba(33, 203, 243, .3)",color:"#ffffff",height:42,padding:"0 30px"}});var Vt=function(){var e=Kt(),t=Object(d.c)((function(e){return e.user.user})),n=t,c=Object(a.useState)(1),s=Object(i.a)(c,2),o=s[0],r=s[1],l=qt({page:o,userId:n._id}),j=l.posts,u=l.hasMore,b=l.loading,h=l.error,m=Object(a.useRef)(),O=Object(a.useCallback)((function(e){b||(m.current&&m.current.disconnect(),m.current=new IntersectionObserver((function(e){e[0].isIntersecting&&u&&r((function(e){return e+1}))})),e&&m.current.observe(e))}),[b,u]),x=Object(a.useState)([]),f=Object(i.a)(x,2),p=f[0],g=f[1];return Object(a.useEffect)((function(){new Promise((function(e,t){var n=localStorage.getItem("token");K.a.get("http://localhost:4000/api/v1/user/getTrendingPost",{headers:{Authorization:n}}).then((function(t){console.log(t),e(t.data)})).catch((function(e){t(e)}))})).then((function(e){g(e)})).catch((function(e){console.log(e)}))}),[]),Object(oe.jsx)("div",{className:"Hero",children:Object(oe.jsxs)(A.a,{container:!0,children:[Object(oe.jsx)(A.a,{item:!0,xs:12,md:2.5,sx:{display:{xs:"none",md:"none",lg:"block"}},className:e.left,children:Object(oe.jsxs)("div",{style:{position:"sticky",top:"-30px"},children:[Object(oe.jsx)(He,{}),Object(oe.jsx)(Ge,{}),Object(oe.jsx)(Qe,{})]})}),Object(oe.jsxs)(A.a,{item:!0,xs:12,md:6.5,className:"mx-auto",children:[Object(oe.jsx)(mt,{}),Object(oe.jsx)(at,{user:n}),b?Object(oe.jsxs)("div",{children:[" ",Object(oe.jsx)(Bt,{})," ",Object(oe.jsx)(Bt,{}),"  ",Object(oe.jsx)(Bt,{})]}):null,p.map((function(e,n){return Object(oe.jsx)("div",{children:Object(oe.jsx)(Wt,{post:e,user:t},n)},n)})),j.map((function(e,n){return j.length===n+1?Object(oe.jsx)("div",{ref:O,children:Object(oe.jsx)(Wt,{post:e,user:t})},n):Object(oe.jsx)(Wt,{post:e,user:t},n)})),Object(oe.jsx)("div",{children:b&&"Loading..."}),Object(oe.jsx)("div",{children:h&&"Error"})]}),Object(oe.jsx)(A.a,{item:!0,xs:12,md:3,sx:{display:{xs:"none",md:"none",lg:"block"}},className:e.right,children:Object(oe.jsx)("div",{style:{position:"sticky",top:"110px"},children:Object(oe.jsx)(Ht,{user:n})})})]})})};var Yt=function(){return Object(oe.jsxs)("div",{children:[Object(oe.jsx)(De,{}),Object(oe.jsx)(Vt,{}),Object(oe.jsx)(Ue,{})]})},Jt=(n(295),n.p+"static/media/undraw_add_files.1a535b7f.svg"),$t=n(133),Zt=n.n($t),Gt=(n(188),n(109)),Qt=n.n(Gt),Xt=n(447),en={position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",width:400,bgcolor:"background.paper",boxShadow:24,p:4,borderRadius:"10px"},tn={bucketName:Object({NODE_ENV:"production",PUBLIC_URL:"/social-media-user-side",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}).REACT_APP_S3_BUCKET_NAME,dirName:"profiephotos",region:Object({NODE_ENV:"production",PUBLIC_URL:"/social-media-user-side",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}).REACT_APP_REGION,accessKeyId:Object({NODE_ENV:"production",PUBLIC_URL:"/social-media-user-side",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}).REACT_APP_S3_ACCESS_KEY_ID,secretAccessKey:Object({NODE_ENV:"production",PUBLIC_URL:"/social-media-user-side",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}).REACT_APP_S3_SECRET_ACCESS_KEY};var nn=function(){var e=Object(d.c)((function(e){return e.user.user})),t=Object(d.b)(),n=Object(r.g)(),s=c.a.useState(!1),o=Object(i.a)(s,2),l=o[0],j=o[1],u=Object(a.useState)(null),b=Object(i.a)(u,2),h=b[0],O=b[1],x=Object(a.useState)(null),f=Object(i.a)(x,2),p=f[0],g=f[1],v=Object(a.useState)(null),w=Object(i.a)(v,2),y=w[0],N=w[1],S=Object(a.useState)(null),C=Object(i.a)(S,2),P=C[0],I=C[1],E=Object(a.useState)({unit:"%",width:30,aspect:1}),A=Object(i.a)(E,2),R=A[0],T=A[1],z=Object(a.useState)(null),W=Object(i.a)(z,2),L=W[0],M=W[1],B=function(){j(!1),O(null)},U=function(e){if(L&&e.width&&e.height){console.log("onCropComplete2");q(L,e);N(y)}},q=function(e,t){console.log("getCroppedImg");var n=document.createElement("canvas"),a=e.naturalWidth/e.width,c=e.naturalHeight/e.height;n.width=t.width,n.height=t.height,n.getContext("2d").drawImage(e,t.x*a,t.y*c,t.width*a,t.height*c,0,0,t.width,t.height);var s=new FileReader;n.toBlob((function(e){var t=+new Date;s.readAsDataURL(e),s.onloadend=function(){H(s.result,"".concat(t,".jpg"))}}))},H=function(e,t){console.log("dataURLtoFile");for(var n=e.split(","),a=n[0].match(/:(.*?);/)[1],c=atob(n[1]),s=c.length,o=new Uint8Array(s);s--;)o[s]=c.charCodeAt(s);var i=new File([o],t,{type:a});I(i),console.log("croppedImage",i)};return Object(oe.jsxs)("div",{className:"AddPro",children:[Object(oe.jsxs)(D.a,{style:{backgroundColor:"#ffffff50"},onClick:function(){return j(!0)},children:["  ",Object(oe.jsx)(Xt.a,{}),"  "]}),Object(oe.jsx)(rt.a,{open:l,onClose:B,"aria-labelledby":"modal-modal-title","aria-describedby":"modal-modal-description",children:Object(oe.jsxs)(_.a,{sx:en,className:"box",children:[Object(oe.jsxs)("div",{className:"header d-flex justify-content-between align-items-center mb-4",children:[Object(oe.jsx)(F.a,{variant:"h6",component:"h2",style:{fontWeight:"bold"},children:"Add Profile Photo"}),Object(oe.jsx)(D.a,{size:"large",style:{backgroundColor:"#eeeeee"},onClick:B,children:Object(oe.jsx)(it.a,{})})]}),h?Object(oe.jsxs)("div",{children:[Object(oe.jsx)(Zt.a,{src:p,crop:R,onImageLoaded:function(e){M(e)},onComplete:U,onChange:function(e){T(e)}}),Object(oe.jsx)(k.a,{onClick:function(){U(R)},children:"crop"}),Object(oe.jsx)(k.a,{onClick:function(){console.log(P),B(),Qt.a.uploadFile(P,tn).then((function(a){console.log(a),function(e){var t=e.profilePhoto,n=e.currentuserId;return new Promise((function(e,a){var c=localStorage.getItem("token");K.a.post("http://localhost:4000/api/v1/user/addProfilePhoto",{profilePhoto:t,currentuserId:n},{headers:{Authorization:c}}).then((function(t){console.log(t),localStorage.setItem("user",JSON.stringify(t.data.user)),e(t.data.user)})).catch((function(e){a(e)}))}))}({profilePhoto:a.location,currentuserId:e._id}).then((function(e){t(m(e))})).catch((function(e){403==e.response.status&&(localStorage.removeItem("token"),localStorage.removeItem("user"),n.push("/login"))}))})).catch((function(e){console.log(e)}))},children:"save"}),Object(oe.jsx)("img",{src:y,alt:""})]}):Object(oe.jsx)("div",{className:"content d-flex align-items-center   justify-content-center",children:Object(oe.jsxs)("div",{className:"img",onClick:function(e){document.getElementById("input").click()},children:[Object(oe.jsx)("img",{src:Jt,alt:""}),Object(oe.jsx)("input",{type:"file",accept:"image/*",id:"input",style:{display:"none"},onChange:function(e){O(e.target.files[0]);var t=new FileReader;t.addEventListener("load",(function(){return g(t.result)})),t.readAsDataURL(e.target.files[0])}})]})})]})})]})},an=(n(323),{position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",width:400,bgcolor:"background.paper",boxShadow:24,p:4,borderRadius:"10px"}),cn={bucketName:Object({NODE_ENV:"production",PUBLIC_URL:"/social-media-user-side",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}).REACT_APP_S3_BUCKET_NAME,dirName:"CoverPhoto",region:Object({NODE_ENV:"production",PUBLIC_URL:"/social-media-user-side",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}).REACT_APP_REGION,accessKeyId:Object({NODE_ENV:"production",PUBLIC_URL:"/social-media-user-side",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}).REACT_APP_S3_ACCESS_KEY_ID,secretAccessKey:Object({NODE_ENV:"production",PUBLIC_URL:"/social-media-user-side",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}).REACT_APP_S3_SECRET_ACCESS_KEY};var sn=function(){var e=Object(d.c)((function(e){return e.user.user})),t=Object(d.b)(),n=Object(r.g)(),s=c.a.useState(!1),o=Object(i.a)(s,2),l=o[0],j=o[1],u=Object(a.useState)(null),b=Object(i.a)(u,2),h=b[0],O=b[1],x=Object(a.useState)(null),f=Object(i.a)(x,2),p=f[0],g=f[1],v=Object(a.useState)(null),w=Object(i.a)(v,2),y=w[0],N=w[1],S=Object(a.useState)(null),C=Object(i.a)(S,2),P=C[0],I=C[1],E=Object(a.useState)({unit:"%",width:30,aspect:1.5}),A=Object(i.a)(E,2),R=A[0],T=A[1],z=Object(a.useState)(null),W=Object(i.a)(z,2),L=W[0],M=W[1],B=function(){j(!1),O(null)},U=function(e,t){console.log("getCroppedImg");var n=document.createElement("canvas"),a=e.naturalWidth/e.width,c=e.naturalHeight/e.height;n.width=t.width,n.height=t.height,n.getContext("2d").drawImage(e,t.x*a,t.y*c,t.width*a,t.height*c,0,0,t.width,t.height);var s=new FileReader;n.toBlob((function(e){var t=+new Date;s.readAsDataURL(e),s.onloadend=function(){q(s.result,"".concat(t,".jpg"))}}))},q=function(e,t){console.log("dataURLtoFile");for(var n=e.split(","),a=n[0].match(/:(.*?);/)[1],c=atob(n[1]),s=c.length,o=new Uint8Array(s);s--;)o[s]=c.charCodeAt(s);var i=new File([o],t,{type:a});I(i),console.log("croppedImage",i)};return Object(oe.jsxs)("div",{className:"AddPro",children:[Object(oe.jsxs)(D.a,{style:{backgroundColor:"#ffffff50"},onClick:function(){return j(!0)},children:["  ",Object(oe.jsx)(Xt.a,{}),"  "]}),Object(oe.jsx)(rt.a,{open:l,onClose:B,"aria-labelledby":"modal-modal-title","aria-describedby":"modal-modal-description",children:Object(oe.jsxs)(_.a,{sx:an,className:"box",children:[Object(oe.jsxs)("div",{className:"header d-flex justify-content-between align-items-center mb-4",children:[Object(oe.jsx)(F.a,{variant:"h6",component:"h2",style:{fontWeight:"bold"},children:"Add Cover Photo"}),Object(oe.jsx)(D.a,{size:"large",style:{backgroundColor:"#eeeeee"},onClick:B,children:Object(oe.jsx)(it.a,{})})]}),h?Object(oe.jsxs)("div",{children:[Object(oe.jsx)(Zt.a,{src:p,crop:R,onImageLoaded:function(e){M(e)},onComplete:function(e){if(L&&e.width&&e.height){console.log("onCropComplete2");var t=U(L,e);N(t)}},onChange:function(e){T(e)}}),Object(oe.jsx)(k.a,{onClick:function(){console.log(P),B(),Qt.a.uploadFile(P,cn).then((function(a){console.log(a),function(e){var t=e.coverPhoto,n=e.currentuserId;return new Promise((function(e,a){var c=localStorage.getItem("token");K.a.post("http://localhost:4000/api/v1/user/addCoverPhoto",{coverPhoto:t,currentuserId:n},{headers:{Authorization:c}}).then((function(t){console.log(t),localStorage.setItem("user",JSON.stringify(t.data.user)),e(t.data.user)})).catch((function(e){a(e)}))}))}({coverPhoto:a.location,currentuserId:e._id}).then((function(e){t(m(e))})).catch((function(e){403==e.response.status&&(localStorage.removeItem("token"),localStorage.removeItem("user"),n.push("/login"))}))})).catch((function(e){console.log(e)}))},children:"save"}),Object(oe.jsx)("img",{src:y,alt:""})]}):Object(oe.jsx)("div",{className:"content d-flex align-items-center   justify-content-center",children:Object(oe.jsxs)("div",{className:"img",onClick:function(e){document.getElementById("input").click()},children:[Object(oe.jsx)("img",{src:Jt,alt:""}),Object(oe.jsx)("input",{type:"file",accept:"image/*",id:"input",style:{display:"none"},onChange:function(e){O(e.target.files[0]);var t=new FileReader;t.addEventListener("load",(function(){return g(t.result)})),t.readAsDataURL(e.target.files[0])}})]})})]})})]})},on=n(56),rn=n.n(on),ln=n(220),dn=n.n(ln),jn=(n(329),dn()(rn.a));var un=function(e){var t,n,c=e.user,s=Object(a.useState)(null),o=Object(i.a)(s,2),r=o[0],l=o[1],j=Object(d.c)((function(e){return e.user.user}));return Object(a.useEffect)((function(){var e,t=null===j||void 0===j||null===(e=j.followings)||void 0===e?void 0:e.findIndex((function(e){return console.log(e),e==c._id}));console.log(t),l(-1!==t)}),[c]),j._id===c._id?(t=null===j||void 0===j?void 0:j.ProfilePhotos,n=null===j||void 0===j?void 0:j.coverPhoto):(t=null===c||void 0===c?void 0:c.ProfilePhotos,n=null===c||void 0===c?void 0:c.coverPhoto),Object(oe.jsx)("div",{className:"main",children:Object(oe.jsx)("div",{className:"main-container",children:Object(oe.jsxs)("div",{className:"profile",children:[Object(oe.jsxs)("div",{className:"profile-avatar",children:[Object(oe.jsxs)("div",{children:[j._id===c._id?Object(oe.jsxs)(D.a,{className:"profile-ChangeIcon",style:{backgroundColor:"#ffffff50"},children:[" ",Object(oe.jsx)(nn,{}),"  "]}):null,Object(oe.jsx)("img",{src:t?t[t.length-1]:qe,alt:"",className:"profile-img"})]}),Object(oe.jsx)("div",{className:"profile-name",children:c.name})]}),Object(oe.jsx)("div",{children:j._id===c._id?Object(oe.jsxs)(D.a,{className:"cover-ChangeIcon",style:{backgroundColor:"#ffffff50"},children:["  ",Object(oe.jsx)(sn,{}),"  "]}):null}),Object(oe.jsx)("img",{src:n||"https://images.unsplash.com/photo-1508247967583-7d982ea01526?ixlib=rb-1.2.1&ixid=eyJhcHBfaWQiOjEyMDd9&auto=format&fit=crop&w=2250&q=80",alt:"",className:"profile-cover"}),Object(oe.jsx)("div",{className:"profile-menu",children:Object(oe.jsx)("div",{className:" m-3 ms-auto ",children:j._id===c._id?Object(oe.jsx)(k.a,{variant:"outlined",children:" Edit Profile"}):Object(oe.jsxs)("div",{children:[Object(oe.jsx)(k.a,{variant:"contained",className:"me-3 followbtn",onClick:function(){return e=c._id,t=j._id,void(r?jn.fire({title:"Are you sure?",text:"You won't be able to Unfollow this!",icon:"warning",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Yes, Unfollow"}).then((function(n){n.isConfirmed&&(l((function(e){return!e})),G({userId:e,currentuserId:t}).then((function(e){console.log(e)})).catch((function(e){console.log(e)})))})):(l((function(e){return!e})),G({userId:e,currentuserId:t}).then((function(e){console.log(e)})).catch((function(e){console.log(e)}))));var e,t},children:r?"Unfollow":"Follow"}),Object(oe.jsx)(k.a,{variant:"outlined",children:" Message"})]})})})]})})})},bn=n(448),hn=n(449),mn=n(450);n(330);var On=function(e){var t=e.user;return console.log(t),Object(oe.jsx)("div",{className:"ProfileIntroCard mt-3",children:Object(oe.jsxs)("div",{className:"card shadow p-4",children:[Object(oe.jsx)("div",{className:"Heder fw-bold mb-3",children:"INTRODUCTION"}),t.hometown?Object(oe.jsxs)("div",{className:"mb-2",children:[" ",Object(oe.jsx)(bn.a,{})," Lives in ",Object(oe.jsx)("span",{className:"fw-bold",children:t.hometown}),"    "]}):null,t.city?Object(oe.jsxs)("div",{className:"mb-2",children:[" ",Object(oe.jsx)(hn.a,{})," From  ",Object(oe.jsx)("span",{className:"fw-bold",children:t.city}),"  "]}):null,t.college?Object(oe.jsxs)("div",{className:"mb-2",children:[" ",Object(oe.jsx)(mn.a,{})," Went to ",Object(oe.jsxs)("span",{className:"fw-bold",children:[" ",t.college]})," "]}):t.highersecondary?Object(oe.jsxs)("div",{className:"mb-2",children:[" ",Object(oe.jsx)(mn.a,{})," Went to ",Object(oe.jsxs)("span",{className:"fw-bold",children:[" ",t.highersecondary]})," "]}):t.highschool?Object(oe.jsxs)("div",{className:"mb-2",children:[" ",Object(oe.jsx)(mn.a,{})," Went to ",Object(oe.jsxs)("span",{className:"fw-bold",children:[" ",t.highschool]})," "]}):null]})})};n(331);var xn=function(e){return Object(oe.jsx)("div",{className:"ProfilePostListcard mt-3",children:Object(oe.jsxs)("div",{className:"card p-3 shadow",children:[Object(oe.jsx)("div",{className:"header fw-bold mb-3",children:"POSTS"}),Object(oe.jsx)("div",{className:"row mx-autp",children:(null===e||void 0===e?void 0:e.ProfilePhotos)?null===e||void 0===e?void 0:e.ProfilePhotos.map((function(e,t){return t<6&&Object(oe.jsx)("div",{className:"img",children:Object(oe.jsx)("img",{src:e,alt:""})})})):null})]})})},fn=n(508),pn=n(457),gn=n(479),vn=n(497);var wn=function(e){var t=e.posts,n=e.user;return Object(oe.jsx)("div",{className:"ProfilePageViewPost",children:null!==t?t.map((function(e,t){return Object(oe.jsx)(Wt,{post:e,user:n},t)})):null})};var yn=function(e){var t=e.user,n=Object(a.useState)([]),c=Object(i.a)(n,2),s=c[0],o=c[1];return Object(a.useEffect)((function(){(function(e){var t=e.userId;return new Promise(function(){var e=Object(q.a)(U.a.mark((function e(n,a){var c;return U.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:c=localStorage.getItem("token"),K.a.get("http://localhost:4000/api/v1/user/getTagedPost/".concat(t),{headers:{Authorization:c}}).then((function(e){console.log(e),n(e.data)})).catch((function(e){console.log("err",e),a(e)}));case 2:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}())})({userId:t._id}).then((function(e){o(e.TagedPost)})).catch((function(e){console.log(e)}))}),[t]),Object(oe.jsx)("div",{className:"ProfilePageTagedPost",children:null!==s?s.map((function(e){return Object(oe.jsx)(Wt,{post:e,user:t})})):null})};var Nn=function(e){var t=e.user,n=Object(a.useState)([]),c=Object(i.a)(n,2),s=c[0],o=c[1];return Object(a.useEffect)((function(){(function(e){var t=e.userId;return new Promise(function(){var e=Object(q.a)(U.a.mark((function e(n,a){var c;return U.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:c=localStorage.getItem("token"),K.a.get("http://localhost:4000/api/v1/user/getSavedPosts/".concat(t),{headers:{Authorization:c}}).then((function(e){console.log(e),n(e.data)})).catch((function(e){console.log("err",e),a(e)}));case 2:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}())})({userId:t._id}).then((function(e){o(e.SavedPosts)})).catch((function(e){console.log(e)}))}),[t]),Object(oe.jsx)("div",{className:"ProfilePageSavedPost",children:null!==s?s.map((function(e){return Object(oe.jsx)(Wt,{post:e,user:t})})):null})};n(194);var Sn=function(e){var t=e.user,n=Object(a.useState)([]),c=Object(i.a)(n,2),s=c[0],o=c[1],l=Object(r.g)();return Object(a.useEffect)((function(){(function(e){var t=e.userId;return new Promise(function(){var e=Object(q.a)(U.a.mark((function e(n,a){var c;return U.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:c=localStorage.getItem("token"),K.a.get("http://localhost:4000/api/v1/user/getFollowers/".concat(t),{headers:{Authorization:c}}).then((function(e){console.log(e),n(e.data)})).catch((function(e){console.log("err",e),a(e)}));case 2:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}())})({userId:t._id}).then((function(e){o(e.followers)})).catch((function(){}))}),[t]),Object(oe.jsx)("div",{className:"getFollowers",children:Object(oe.jsx)("div",{className:"row",children:s.map((function(e){return console.log(e),Object(oe.jsx)("div",{className:"col-md-6",children:Object(oe.jsxs)("div",{className:"card",onClick:function(){return l.push("/profile/".concat(e._id))},children:[Object(oe.jsx)("div",{className:"img",children:Object(oe.jsx)("img",{src:e.ProfilePhotos?e.ProfilePhotos:null,alt:""})}),Object(oe.jsxs)("div",{children:[Object(oe.jsx)("span",{className:"fw-bold",children:e.name}),Object(oe.jsxs)("p",{children:["@",e.username]})]})]})})}))})})};var Cn=function(e){var t=e.user,n=Object(a.useState)([]),c=Object(i.a)(n,2),s=c[0],o=c[1],l=Object(r.g)();return Object(a.useEffect)((function(){(function(e){var t=e.userId;return new Promise(function(){var e=Object(q.a)(U.a.mark((function e(n,a){var c;return U.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:c=localStorage.getItem("token"),K.a.get("http://localhost:4000/api/v1/user/getFollowings/".concat(t),{headers:{Authorization:c}}).then((function(e){console.log(e),n(e.data)})).catch((function(e){console.log("err",e),a(e)}));case 2:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}())})({userId:t._id}).then((function(e){o(e.followings)})).catch((function(){}))}),[t]),Object(oe.jsx)("div",{className:"getFollowers",children:Object(oe.jsx)("div",{className:"row",children:null===s||void 0===s?void 0:s.map((function(e){return console.log(e),console.log(s),Object(oe.jsx)("div",{className:"col-md-6",children:Object(oe.jsxs)("div",{className:"card",onClick:function(){return l.push("/profile/".concat(e._id))},children:[Object(oe.jsx)("div",{className:"img",children:Object(oe.jsx)("img",{src:(null===e||void 0===e?void 0:e.ProfilePhotos)?null===e||void 0===e?void 0:e.ProfilePhotos:null,alt:""})}),Object(oe.jsxs)("div",{children:[Object(oe.jsx)("span",{className:"fw-bold",children:null===e||void 0===e?void 0:e.name}),Object(oe.jsxs)("p",{children:["@",null===e||void 0===e?void 0:e.username]})]})]})})}))})})},Pn=n(451),kn=n(452),In=n(453),En=n(454),An=n(455),_n=n(456);var Rn=function(e){var t=e.user;return console.log(t),Object(oe.jsxs)("div",{className:"ProfilePageAbout ",children:[Object(oe.jsx)("div",{className:"card shadow p-5",children:Object(oe.jsxs)(F.a,{variant:"h5",children:["ABOUT ",Object(oe.jsx)("span",{className:"heading",children:t.name})," "]})}),Object(oe.jsx)("div",{className:"card shadow p-5",children:Object(oe.jsxs)("div",{className:"Profile",children:[Object(oe.jsx)("div",{className:"img",children:Object(oe.jsx)("img",{src:t.ProfilePhotos?t.ProfilePhotos.pop():null,alt:"",className:"ProfilePhoto"})}),Object(oe.jsxs)("div",{children:[t.name?Object(oe.jsxs)(F.a,{margin:"10px",children:["  ",Object(oe.jsx)(Pn.a,{}),"   ",t.name," "]}):null,t.username?Object(oe.jsxs)(F.a,{margin:"10px",children:["   ",Object(oe.jsx)(Pn.a,{}),"  @",t.username," "]}):null,t.email?Object(oe.jsxs)(F.a,{margin:"10px",children:[" ",Object(oe.jsx)(kn.a,{}),"   ",t.email," "]}):null,t.phone?Object(oe.jsxs)(F.a,{margin:"10px",children:[" ",Object(oe.jsx)(ce.a,{}),"  ",t.phone," "]}):null]})]})}),Object(oe.jsx)("div",{className:"card shadow p-5",children:Object(oe.jsxs)("div",{className:"d-flex justify-content-between",children:[t.Facebook?Object(oe.jsxs)("a",{href:t.Facebook,children:[Object(oe.jsx)(In.a,{style:{color:"#4065AD"}})," "]}):null,t.Twitter?Object(oe.jsxs)("a",{href:t.Twitter,children:[Object(oe.jsx)(En.a,{style:{color:"#00acee"}})," "]}):null,t.LinkedIn?Object(oe.jsxs)("a",{href:t.LinkedIn,children:[Object(oe.jsx)(An.a,{style:{color:"#0e76a8"}})," "]}):null,t.Instagram?Object(oe.jsxs)("a",{href:t.Instagram,children:[Object(oe.jsx)(_n.a,{style:{color:"#E1416A",size:"40px"}})," "]}):null]})})]})};var Tn=function(){var e=Object(r.i)().userId,t=Object(a.useState)({}),n=Object(i.a)(t,2),s=n[0],o=n[1],l=Object(a.useState)([]),d=Object(i.a)(l,2),j=d[0],u=d[1],b=c.a.useState("1"),h=Object(i.a)(b,2),m=h[0],O=h[1];return Object(a.useEffect)((function(){console.log(e),function(e){return console.log(e),new Promise(function(){var t=Object(q.a)(U.a.mark((function t(n,a){var c;return U.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:c=localStorage.getItem("token"),K.a.get("http://localhost:4000/api/v1/user/getProfileDetails/".concat(e),{headers:{Authorization:c}}).then((function(e){console.log(e),n({user:e.data.user[0],posts:e.data.posts})})).catch((function(e){console.log("err",e),a(e)}));case 2:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}())}(e).then((function(e){var t=e.user,n=e.posts;o(t),u(n),console.log(t,n)})).catch((function(e){console.log(e)}))}),[e]),Object(oe.jsxs)("div",{className:"ProfilePage",children:[Object(oe.jsx)(De,{}),Object(oe.jsxs)("div",{className:"row mt-5 me-0",children:[Object(oe.jsx)("div",{className:"col-lg-3 p-2 pt-5 d-md-none d-lg-block   left",children:Object(oe.jsxs)("div",{style:{position:"sticky",top:"-170px"},children:[Object(oe.jsx)(He,{}),Object(oe.jsx)(Ge,{}),Object(oe.jsx)(Qe,{})]})}),Object(oe.jsxs)("div",{className:"col-lg-9 mt-5 center",children:[Object(oe.jsx)(un,{user:s}),Object(oe.jsxs)("div",{className:"row me-0",children:[Object(oe.jsxs)("div",{className:"col-lg-5 order-lg-last",children:[Object(oe.jsx)(On,{user:s}),Object(oe.jsx)(xn,{user:s})]}),Object(oe.jsx)("div",{className:"col-lg-7  order-lg-first ",children:Object(oe.jsxs)(pn.a,{value:m,children:[Object(oe.jsx)(_.a,{sx:{borderBottom:1,borderColor:"divider"},children:Object(oe.jsxs)(gn.a,{onChange:function(e,t){O(t)},"aria-label":"lab API tabs example",variant:"scrollable",scrollButtons:"auto",children:[Object(oe.jsx)(fn.a,{label:"Posts",value:"1"}),Object(oe.jsx)(fn.a,{label:"Taged Posts",value:"2"}),Object(oe.jsx)(fn.a,{label:"Saved Posts",value:"3"}),Object(oe.jsx)(fn.a,{label:"Followers",value:"4"}),Object(oe.jsx)(fn.a,{label:"Followings",value:"5"}),Object(oe.jsx)(fn.a,{label:"About",value:"6"})]})}),Object(oe.jsx)(vn.a,{value:"1",children:Object(oe.jsx)(wn,{posts:j,user:s})}),Object(oe.jsx)(vn.a,{value:"2",children:Object(oe.jsx)(yn,{user:s})}),Object(oe.jsx)(vn.a,{value:"3",children:Object(oe.jsx)(Nn,{user:s})}),Object(oe.jsx)(vn.a,{value:"4",children:Object(oe.jsx)(Sn,{user:s})}),Object(oe.jsx)(vn.a,{value:"5",children:Object(oe.jsx)(Cn,{user:s})}),Object(oe.jsx)(vn.a,{value:"6",children:Object(oe.jsx)(Rn,{user:s})})]})})]})]})]}),Object(oe.jsx)(Ue,{})]})},Fn=n(458),zn=n(459),Dn=n(460),Wn=n(461),Ln=n(462);n(332);var Mn=function(){return Object(oe.jsx)("div",{className:"Settings",children:Object(oe.jsxs)("div",{className:"card p-4",children:[Object(oe.jsx)("div",{className:"head fw-bold",children:"Settings"}),Object(oe.jsx)("div",{className:"subhead",children:"Genaral"}),Object(oe.jsx)("div",{className:"item",children:Object(oe.jsxs)(ne.b,{to:"/AccountDetails",children:[Object(oe.jsx)(Fn.a,{}),"  Account Informations"]})}),Object(oe.jsxs)("div",{className:"item",children:[Object(oe.jsx)(bn.a,{})," Saved Address"]}),Object(oe.jsx)("div",{className:"item",children:Object(oe.jsxs)(ne.b,{to:"/AddSocialAccount",children:[Object(oe.jsx)(zn.a,{})," Social Acount"]})}),Object(oe.jsx)("div",{className:"subhead",children:"Account"}),Object(oe.jsxs)("div",{className:"item",children:[Object(oe.jsx)(Pn.a,{}),"  My Account"]}),Object(oe.jsx)("div",{className:"item",children:Object(oe.jsxs)(ne.b,{to:"/resetPasswords",children:[Object(oe.jsx)(Dn.a,{})," Password"]})}),Object(oe.jsx)("div",{className:"subhead",children:"Others"}),Object(oe.jsx)("div",{className:"item",children:Object(oe.jsxs)(k.a,{to:"/notification",component:ne.b,children:[Object(oe.jsx)(Wn.a,{}),"  Notification"]})}),Object(oe.jsxs)("div",{className:"item",children:[Object(oe.jsx)(Ln.a,{})," Help"]}),Object(oe.jsxs)("div",{className:"item",children:[Object(oe.jsx)($e.a,{})," Logout"]})]})})},Bn=(n(333),Object(Fe.a)({left:{padding:"20px"},right:{padding:"20px"},navItem:{maxWidth:"42px",maxHeight:"42px",minWidth:"42px",minHeight:"42px",borderRadius:10,backgroundColor:"#f1f1f1",padding:0},root:{background:"linear-gradient(45deg, #2196F3 30%, #21CBF3 90%)",border:0,borderRadius:3,boxShadow:"0 3px 5px 2px rgba(33, 203, 243, .3)",color:"#ffffff",height:42,padding:"0 30px"}}));var Un=function(){var e=Bn(),t=Object(d.c)((function(e){return e.user.user}));return Object(oe.jsxs)("div",{className:"settingsPage ",children:[Object(oe.jsx)(De,{}),Object(oe.jsxs)(A.a,{container:!0,children:[Object(oe.jsx)(A.a,{item:!0,xs:12,md:2.5,sx:{display:{xs:"none",md:"none",lg:"block"}},className:e.left,children:Object(oe.jsxs)("div",{style:{position:"sticky",top:"-150px"},children:[Object(oe.jsx)(He,{}),Object(oe.jsx)(Ge,{}),Object(oe.jsx)(Qe,{})]})}),Object(oe.jsx)(A.a,{item:!0,xs:12,md:6.5,className:"mx-auto",children:Object(oe.jsx)(Mn,{})}),Object(oe.jsx)(A.a,{item:!0,xs:12,md:3,sx:{display:{xs:"none",md:"none",lg:"block"}},className:e.right,children:Object(oe.jsx)("div",{style:{position:"sticky",top:"100px"},children:Object(oe.jsx)(Ht,{user:t})})})]}),Object(oe.jsx)(Ue,{})]})},qn=n(463);n(334);var Hn=function(){var e=Object(r.g)(),t=Object(d.c)((function(e){return e.user.user})),n=Object(j.a)({},t),a=function(e){n=Object(j.a)(Object(j.a)({},n),{},Object(de.a)({},e.target.name,e.target.value))};return Object(oe.jsx)("div",{className:"AccountDetails",children:Object(oe.jsxs)("div",{className:"card ",children:[Object(oe.jsxs)("div",{className:"Head",children:[Object(oe.jsx)("div",{className:"backIcon",children:Object(oe.jsxs)(D.a,{style:{backgroundColor:"#ffffff",marginRight:"20px"},children:["  ",Object(oe.jsx)(qn.a,{style:{color:"#007fff"}})]})}),"Account Details"]}),Object(oe.jsxs)("div",{className:"profile p-3",children:[Object(oe.jsx)("div",{className:"img",children:Object(oe.jsx)("img",{src:"",alt:""})}),Object(oe.jsx)(F.a,{variant:"h5",children:n.name}),Object(oe.jsxs)(F.a,{variant:"h6",children:["@",n.username]})]}),Object(oe.jsx)("div",{className:"Details p-3",children:Object(oe.jsx)("form",{action:"",children:Object(oe.jsxs)("div",{className:"row",children:[Object(oe.jsx)("div",{className:"col-lg-6",children:Object(oe.jsx)(E.a,{fullWidth:!0,id:"FirstName",label:"Name",autoComplete:"family-name",value:n.name,disabled:!0})}),Object(oe.jsx)("div",{className:"col-lg-6",children:Object(oe.jsx)(E.a,{required:!0,fullWidth:!0,disabled:!0,id:"Last name",label:"User Name",value:n.username,autoComplete:"family-name"})}),Object(oe.jsx)("div",{className:"col-lg-6",children:Object(oe.jsx)(E.a,{required:!0,fullWidth:!0,disabled:!!n.email,id:"Email",label:"Email",name:"email",value:n.email?n.email:null,autoComplete:"family-name"})}),Object(oe.jsx)("div",{className:"col-lg-6",children:Object(oe.jsx)(E.a,{required:!0,fullWidth:!0,disabled:!!n.phone,id:"Phone",label:"Phone Nummber",value:n.phone?n.phone:null,name:"phone",onChange:a,autoComplete:"family-name"})}),Object(oe.jsx)("div",{className:"col-lg-12",children:Object(oe.jsx)(E.a,{required:!0,fullWidth:!0,id:"address",label:"Address Line 1",name:"address1",value:n.address1?n.address1:null,autoComplete:"family-name",onChange:a})}),Object(oe.jsx)("div",{className:"col-lg-12",children:Object(oe.jsx)(E.a,{required:!0,fullWidth:!0,id:"addresstwo",label:"Address Line 2",name:"address2",value:n.address2?n.address2:null,autoComplete:"family-name",onChange:a})}),Object(oe.jsx)("div",{className:"col-lg-6",children:Object(oe.jsx)(E.a,{required:!0,fullWidth:!0,id:"HomeTown",label:"Home Town",name:"hometown",value:n.hometown?n.hometown:null,onChange:a})}),Object(oe.jsx)("div",{className:"col-lg-6",children:Object(oe.jsx)(E.a,{required:!0,fullWidth:!0,id:"City",label:"City",name:"city",value:n.city?n.city:null,autoComplete:"family-name",onChange:a})}),Object(oe.jsx)("div",{className:"col-lg-6",children:Object(oe.jsx)(E.a,{required:!0,fullWidth:!0,id:"State",label:"State",name:"state",value:n.state?n.state:null,autoComplete:"state",onChange:a})}),Object(oe.jsx)("div",{className:"col-lg-6",children:Object(oe.jsx)(E.a,{required:!0,fullWidth:!0,id:"Pincode",label:"PinCode",value:n.pincode?n.pincode:null,name:"pincode",autoComplete:"family-name",onChange:a})}),Object(oe.jsx)("div",{className:"col-lg-6",children:Object(oe.jsx)(E.a,{required:!0,fullWidth:!0,id:"EmployStatus",label:"Employ Status",name:"employstatus",autoComplete:"family-name",value:n.employstatus&&n.employstatus,onChange:a})}),Object(oe.jsx)("div",{className:"col-lg-6",children:Object(oe.jsx)(E.a,{required:!0,fullWidth:!0,id:"c",label:"Current Working Place",name:"workingplace",autoComplete:"family-name",value:n.workingplace?n.workingplace:null,onChange:a})}),Object(oe.jsx)("div",{className:"col-lg-6",children:Object(oe.jsx)(E.a,{required:!0,fullWidth:!0,id:"qualification",label:"Education Qualification",name:"qualification",autoComplete:"family-name",value:n.qualification?n.qualification:null,onChange:a})}),Object(oe.jsx)("div",{className:"col-lg-6",children:Object(oe.jsx)(E.a,{required:!0,fullWidth:!0,id:"highschool",label:"High School",name:"highschool",value:n.highschool?n.highschool:null,autoComplete:"family-name",onChange:a})}),Object(oe.jsx)("div",{className:"col-lg-6",children:Object(oe.jsx)(E.a,{required:!0,fullWidth:!0,id:"highersecondary",label:"Higher Secondary",name:"highersecondary",autoComplete:"family-name",value:n.highersecondary&&n.highersecondary,onChange:a})}),Object(oe.jsx)("div",{className:"col-lg-6",children:Object(oe.jsx)(E.a,{required:!0,fullWidth:!0,id:"college",label:"College",name:"college",autoComplete:"family-name",onChange:a,value:n.college?n.college:null})}),Object(oe.jsx)("div",{className:"saveButton",children:Object(oe.jsx)(k.a,{variant:"contained",onClick:function(){var t;console.log(n),(t=n,console.log(t.state,t.phone),new Promise(function(){var e=Object(q.a)(U.a.mark((function e(n,a){var c;return U.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:c=localStorage.getItem("token"),K.a.post("http://localhost:4000/api/v1/user/addAccountDetails",{userdata:t},{headers:{Authorization:c}}).then((function(e){console.log(e),localStorage.setItem("user",JSON.stringify(e.data)),n(e.data.user)})).catch((function(e){console.log("err",e),a(e)}));case 2:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}())).then((function(e){})).catch((function(t){403==t.response.status&&(localStorage.removeItem("token"),localStorage.removeItem("user"),e.push("/login"))}))},children:"Save Data"})})]})})})]})})};n(335);var Kn=function(){var e=Object(d.c)((function(e){return e.user.user}));return Object(oe.jsxs)("div",{className:"AccountDetailsPage",children:[Object(oe.jsx)(De,{}),Object(oe.jsxs)("div",{className:"row",children:[Object(oe.jsxs)("div",{className:"col-lg-3",children:[Object(oe.jsx)(He,{}),Object(oe.jsx)(Ge,{}),Object(oe.jsx)(Qe,{})]}),Object(oe.jsx)("div",{className:"col-lg-6",children:Object(oe.jsx)(Hn,{})}),Object(oe.jsx)("div",{className:"col-lg-3",children:Object(oe.jsx)(Ht,{user:e})})]}),Object(oe.jsx)(Ue,{})]})},Vn=(n(336),n(464));var Yn=function(){var e=Object(r.g)(),t=Object(a.useState)([]),n=Object(i.a)(t,2),c=n[0],s=n[1],o=Object(d.c)((function(e){return e.user.user}));return Object(oe.jsx)("div",{className:"Search",children:Object(oe.jsxs)("div",{className:"card ",children:[Object(oe.jsxs)("div",{className:"Head",children:[Object(oe.jsx)("div",{className:"backIcon",children:Object(oe.jsxs)(D.a,{style:{backgroundColor:"#ffffff",marginRight:"20px"},children:["  ",Object(oe.jsx)(qn.a,{style:{color:"#007fff"}})]})}),Object(oe.jsx)(E.a,{fullWidth:!0,id:"standard-bare",autoComplete:"off",variant:"standard",placeholder:"Search",onChange:function(e){(function(e){var t=e.keyword,n=e.userId;return new Promise(function(){var e=Object(q.a)(U.a.mark((function e(a,c){var s;return U.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:s=localStorage.getItem("token"),K.a.get("http://localhost:4000/api/v1/user/search/".concat(n,"/").concat(t),{headers:{Authorization:s}}).then((function(e){a(e.data)})).catch((function(e){c(e)}));case 2:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}())})({keyword:e.target.value,userId:o._id}).then((function(e){s(e),console.log(e)})).catch((function(){}))},style:{color:"red"},InputProps:{endAdornment:Object(oe.jsx)(D.a,{children:Object(oe.jsx)(Vn.a,{style:{color:"#ffffff"},autocomplete:"off"})})}})]}),Object(oe.jsx)("div",{className:"resuls",children:c?c.map((function(t,n){return Object(oe.jsxs)("div",{className:"searchcard",children:[Object(oe.jsxs)("div",{className:"searchbody",onClick:function(){return n=t._id,void e.push("/profile/".concat(n));var n},children:[Object(oe.jsx)("div",{className:"img",children:Object(oe.jsx)("img",{src:"",alt:""})}),Object(oe.jsxs)("div",{children:[Object(oe.jsx)("h6",{children:t.name}),Object(oe.jsx)("h5",{children:t.username})]})]}),Object(oe.jsx)("div",{className:"followbtn flex-end",children:t.following?null:Object(oe.jsx)(k.a,{children:"follow"})})]},t._id)})):"fdfasdf"})]})})},Jn=(n(337),Object(Fe.a)({left:{padding:"20px"},right:{padding:"20px"},navItem:{maxWidth:"42px",maxHeight:"42px",minWidth:"42px",minHeight:"42px",borderRadius:10,backgroundColor:"#f1f1f1",padding:0},root:{background:"linear-gradient(45deg, #2196F3 30%, #21CBF3 90%)",border:0,borderRadius:3,boxShadow:"0 3px 5px 2px rgba(33, 203, 243, .3)",color:"#ffffff",height:42,padding:"0 30px"}}));var $n=function(){var e=Jn(),t=Object(d.c)((function(e){return e.user.user}));return Object(oe.jsxs)("div",{className:"Searchpage",children:[Object(oe.jsx)(De,{}),Object(oe.jsxs)(A.a,{container:!0,children:[Object(oe.jsx)(A.a,{item:!0,xs:12,md:2.5,sx:{display:{xs:"none",md:"none",lg:"block"}},className:e.left,children:Object(oe.jsxs)("div",{style:{position:"sticky",top:"-150px"},children:[Object(oe.jsx)(He,{}),Object(oe.jsx)(Ge,{}),Object(oe.jsx)(Qe,{})]})}),Object(oe.jsx)(A.a,{item:!0,xs:12,md:6.5,className:"mx-auto",children:Object(oe.jsx)(Yn,{})}),Object(oe.jsx)(A.a,{item:!0,xs:12,md:3,sx:{display:{xs:"none",md:"none",lg:"block"}},className:e.right,children:Object(oe.jsx)("div",{style:{position:"sticky",top:"100px"},children:Object(oe.jsx)(Ht,{user:t})})})]}),Object(oe.jsx)(Ue,{})]})},Zn=n(466),Gn=n(467),Qn=n(468),Xn=n(469),ea=n(509),ta=n(7),na=n(136),aa=n.n(na);n(342);var ca,sa=function(e){var t=e.setLocation,n=Object(a.useState)(""),c=Object(i.a)(n,2),s=c[0],o=c[1];return Object(oe.jsx)(aa.a,{value:s,onChange:function(e){o(e)},onSelect:function(e){console.log(e);var n=e.split(",");t(n[0]),Object(na.geocodeByAddress)(e).then((function(e){return Object(na.getLatLng)(e[0])})).then((function(e){return console.log("Success",e)})).catch((function(e){return console.error("Error",e)}))},children:function(e){var t=e.getInputProps,n=e.suggestions,a=e.getSuggestionItemProps,c=e.loading;return Object(oe.jsxs)("div",{children:[Object(oe.jsx)("input",Object(j.a)({style:{borderRadius:"25px",padding:"10px",border:"1px solid black",maxWdth:"360px"},label:"Search Places ..."},t({placeholder:"Search Places ...",className:"location-search-input"}))),Object(oe.jsxs)("div",{className:"autocomplete-dropdown-container",children:[c&&Object(oe.jsx)("div",{children:"Loading..."}),n.map((function(e){var t=e.active?"suggestion-item--active":"suggestion-item",n=e.active?{backgroundColor:"#fafafa",cursor:"pointer"}:{backgroundColor:"#ffffff",cursor:"pointer"};return Object(oe.jsx)("div",Object(j.a)(Object(j.a)({},a(e,{className:t,style:n})),{},{children:Object(oe.jsx)("span",{children:e.description})}))}))]})]})}})},oa=(n(343),n(100)),ia=n(30),ra=n(465),la=n(222),da=n.n(la),ja=n(221),ua=n.n(ja),ba=["label","onDelete"],ha=Object(ta.a)("div")((function(e){var t=e.theme;return"\n  color: ".concat("dark"===t.palette.mode?"rgba(255,255,255,0.65)":"rgba(0,0,0,.85)",";\n  font-size: 14px;\n")})),ma=Object(ta.a)("label")(ca||(ca=Object(ia.a)(["\n  padding: 0 0 4px;\n  line-height: 1.5;\n  display: block;\n"]))),Oa=Object(ta.a)("div")((function(e){var t=e.theme;return"\n  min-width: 340px;\n  max-width: 360px;\n  border: 1px solid ".concat("dark"===t.palette.mode?"#434343":"#d9d9d9",";\n  background-color: ").concat("dark"===t.palette.mode?"#141414":"#fff",";\n  border-radius: 25px;\n  padding: 10px;\n  display: flex;\n  flex-wrap: wrap;\n\n  &:hover {\n    border-color: ").concat("dark"===t.palette.mode?"#177ddc":"#40a9ff",";\n  }\n\n  &.focused {\n    border-color: ").concat("dark"===t.palette.mode?"#177ddc":"#40a9ff",";\n    box-shadow: 0 0 0 2px rgba(24, 144, 255, 0.2);\n  }\n\n  & input {\n    background-color: ").concat("dark"===t.palette.mode?"#141414":"#fff",";\n    color: ").concat("dark"===t.palette.mode?"rgba(255,255,255,0.65)":"rgba(0,0,0,.85)",";\n    height: 30px;\n    box-sizing: border-box;\n    padding: 4px 6px;\n    width: 0;\n    min-width: 30px;\n    flex-grow: 1;\n    border: 0;\n    margin: 0;\n    outline: 0;\n  }\n")}));var xa=Object(ta.a)((function(e){var t=e.label,n=e.onDelete,a=Object(oa.a)(e,ba);return Object(oe.jsxs)("div",Object(j.a)(Object(j.a)({},a),{},{children:[Object(oe.jsx)("span",{children:t}),Object(oe.jsx)(ua.a,{onClick:n})]}))}))((function(e){var t=e.theme;return"\n  display: flex;\n  align-items: center;\n  height: 24px;\n  margin: 2px;\n  line-height: 22px;\n  background-color: ".concat("dark"===t.palette.mode?"rgba(255,255,255,0.08)":"#fafafa",";\n  border: 1px solid ").concat("dark"===t.palette.mode?"#303030":"#e8e8e8",";\n  border-radius: 2px;\n  box-sizing: content-box;\n  padding: 0 4px 0 10px;\n  outline: 0;\n  overflow: hidden;\n\n  &:focus {\n    border-color: ").concat("dark"===t.palette.mode?"#177ddc":"#40a9ff",";\n    background-color: ").concat("dark"===t.palette.mode?"#003b57":"#e6f7ff",";\n  }\n\n  & span {\n    overflow: hidden;\n    white-space: nowrap;\n    text-overflow: ellipsis;\n  }\n\n  & svg {\n    font-size: 12px;\n    cursor: pointer;\n    padding: 4px;\n  }\n")})),fa=Object(ta.a)("ul")((function(e){var t=e.theme;return"\n  width: 300px;\n  margin: 2px 0 0;\n  padding: 0;\n  position: absolute;\n  list-style: none;\n  background-color: ".concat("dark"===t.palette.mode?"#141414":"#fff",";\n  overflow: auto;\n  max-height: 250px;\n  border-radius: 4px;\n  box-shadow: 0 2px 8px rgba(0, 0, 0, 0.15);\n  z-index: 1;\n\n  & li {\n    padding: 5px 12px;\n    display: flex;\n\n    & span {\n      flex-grow: 1;\n    }\n\n    & svg {\n      color: transparent;\n    }\n  }\n\n  & li[aria-selected='true'] {\n    background-color: ").concat("dark"===t.palette.mode?"#2b2b2b":"#fafafa",";\n    font-weight: 600;\n\n    & svg {\n      color: #1890ff;\n    }\n  }\n\n  & li[data-focus='true'] {\n    background-color: ").concat("dark"===t.palette.mode?"#003b57":"#e6f7ff",";\n    cursor: pointer;\n\n    & svg {\n      color: currentColor;\n    }\n  }\n")}));function pa(e){var t=e.userId,n=e.setTag,c=Object(a.useState)([]),s=Object(i.a)(c,2),o=s[0],l=s[1],d=Object(r.g)();Object(a.useEffect)((function(){console.log(t),Z({userId:t}).then((function(e){console.log(e),l(e)})).catch((function(e){403==e.response.status&&(localStorage.removeItem("token"),localStorage.removeItem("user"),d.push("/login"))}))}),[]);var u=Object(ra.a)({id:"customized-hook-demo",multiple:!0,options:o,getOptionLabel:function(e){return e.user.name}}),b=u.getRootProps,h=u.getInputLabelProps,m=u.getInputProps,O=u.getTagProps,x=u.getListboxProps,f=u.getOptionProps,p=u.groupedOptions,g=u.value,v=u.focused,w=u.setAnchorEl;return Object(a.useEffect)((function(){n(g)}),[g]),Object(oe.jsxs)(ha,{children:[Object(oe.jsxs)("div",Object(j.a)(Object(j.a)({},b()),{},{children:[Object(oe.jsx)(ma,Object(j.a)(Object(j.a)({},h()),{},{children:"Tag Post With Your friends"})),Object(oe.jsxs)(Oa,{ref:w,className:v?"focused":"",children:[g.map((function(e,t){return Object(oe.jsx)(xa,Object(j.a)({label:e.user.name},O(e.user.name)))})),Object(oe.jsx)("input",Object(j.a)({},m()))]})]})),p.length>0?Object(oe.jsx)(fa,Object(j.a)(Object(j.a)({},x()),{},{children:p.map((function(e,t){return Object(oe.jsxs)("li",Object(j.a)(Object(j.a)({},f({option:e,index:t})),{},{children:[Object(oe.jsx)("span",{children:e.user.name}),Object(oe.jsx)(da.a,{fontSize:"small"})]}))}))})):null]})}vt.d.use([vt.c]);var ga=Object(ta.a)("input")({display:"none"}),va=5120;var wa=function(){var e=Object(a.useState)([]),t=Object(i.a)(e,2),n=t[0],c=t[1],s=Object(a.useState)([]),o=Object(i.a)(s,2),l=o[0],j=o[1],u=Object(a.useState)(""),b=Object(i.a)(u,2),h=b[0],m=b[1],O=Object(a.useState)("PUBLIC"),x=Object(i.a)(O,2),f=x[0],p=(x[1],Object(a.useState)([])),g=Object(i.a)(p,2),v=(g[0],g[1],Object(a.useState)("")),w=Object(i.a)(v,2),y=w[0],N=w[1],S=Object(a.useState)(""),C=Object(i.a)(S,2),P=C[0],I=C[1],E=Object(a.useState)(""),A=Object(i.a)(E,2),R=A[0],T=A[1],z=Object(a.useState)(!1),W=Object(i.a)(z,2),L=W[0],M=W[1],B=Object(a.useState)([]),U=Object(i.a)(B,2),q=U[0],H=U[1],V=Object(a.useState)(""),Y=Object(i.a)(V,2),J=Y[0],Z=Y[1],G=Object(a.useState)([]),Q=Object(i.a)(G,2),X=Q[0],ee=Q[1],te=Object(a.useState)(null),ne=Object(i.a)(te,2),ae=ne[0],ce=ne[1],se=Object(a.useState)(null),ie=Object(i.a)(se,2),re=ie[0],le=ie[1],de=Object(a.useState)(null),je=Object(i.a)(de,2),ue=je[0],be=je[1],he=Object(a.useState)(null),me=Object(i.a)(he,2),Oe=me[0],xe=me[1],fe=new FormData,pe=Object(d.c)((function(e){return e.user.user})),ge=pe,ve=null===ge||void 0===ge?void 0:ge.ProfilePhotos,we=Object(r.g)();function ye(){var e=new FileReader,t=X[ae];if(t){var n=ue*va,a=n+va,c=t.slice(n,a);e.onload=function(e){return function(e){var t=X[ae],n=e.target.result,a=new URLSearchParams;console.log(t),console.log(n),a.set("name",t.name),a.set("postId",J),a.set("size",t.size),a.set("currentChunkIndex",ue),a.set("totalChunks",Math.ceil(t.size/va));var c={"Content-Type":"application/octet-stream"},s="http://localhost:4000/api/v1/user/upload?"+a.toString();K.a.post(s,n,{headers:c}).then((function(e){var t=X[ae],n=X[ae].size,a=Math.ceil(n/va)-1;ue===a?(t.finalFilename=e.data.finalFilename,le(ae),be(null),Z(e.postId),M(!1),we.push("/")):be(ue+1)}))}(e)},e.readAsDataURL(c)}}return Object(a.useEffect)((function(){console.log(q)}),[q]),Object(a.useEffect)((function(){if(null!==re){var e=re===X.length-1;ce(e?null:ae+1)}}),[re]),Object(a.useEffect)((function(){X.length>0&&null===ae&&ce(null===re?0:re+1)}),[J]),Object(a.useEffect)((function(){null!==ae&&be(0)}),[ae]),Object(a.useEffect)((function(){null!==ue&&ye()}),[ue]),Object(a.useEffect)((function(){null===X||void 0===X||X.map((function(e,t){if(xe(0),e.finalFilename)xe(100);else{var n=t===ae,a=Math.ceil(e.size/va);xe(n?Math.round(ue/a*100):0)}}))}),[ue]),Object(oe.jsx)("div",{className:"CreatePost",children:Object(oe.jsxs)("div",{className:"card",children:[Object(oe.jsxs)("div",{className:"Head",children:[Object(oe.jsx)("div",{className:"backIcon",children:Object(oe.jsxs)(D.a,{style:{backgroundColor:"#ffffff",marginRight:"20px"},children:["  ",Object(oe.jsx)(qn.a,{style:{color:"#007fff"}})]})}),Object(oe.jsx)(F.a,{className:"Typography",children:"Create Post"})]}),Object(oe.jsx)("div",{children:Oe>1?Object(oe.jsx)(_.a,{sx:{width:"100%",marginTop:"25px"},children:Object(oe.jsx)(ea.a,{variant:"buffer",value:Oe})}):null}),Object(oe.jsxs)("div",{className:"content",children:[Object(oe.jsx)("div",{children:Object(oe.jsx)("div",{className:"img",children:Object(oe.jsx)("img",{src:ve?ve[ve.length-1]:null,alt:""})})}),Object(oe.jsxs)("div",{className:"w-100",children:[Object(oe.jsxs)("div",{children:[Object(oe.jsx)("span",{className:"fw-bold",children:ge.name}),q.length>0||P?Object(oe.jsxs)("span",{children:[" is ",q.length>0?Object(oe.jsxs)("span",{children:["with ",Object(oe.jsx)("span",{className:"fw-bold",children:q[0].user.name})]}):null," ",q.length>1?Object(oe.jsxs)("span",{className:"fw-bold",children:["and ",Object(oe.jsx)("span",{children:q.length-1})," others"]}):null," ",P?Object(oe.jsxs)("span",{children:["in ",Object(oe.jsx)("span",{className:"fw-bold",children:P})," "]}):null]}):null]}),Object(oe.jsx)("textarea",{name:"",id:"",placeholder:"Create a Post",onChange:function(e){m(e.target.value)}})]})]}),Object(oe.jsx)("div",{className:"imagePreview",children:n.length||X.length>0?Object(oe.jsx)(oe.Fragment,{children:Object(oe.jsxs)(gt.a,{pagination:!0,className:"mySwiper",children:[n.map((function(e){return Object(oe.jsx)(gt.b,{children:Object(oe.jsx)("div",{className:"imgOne",children:Object(oe.jsx)("img",{className:"mx-auto  ",src:e,alt:""})})})})),null===X||void 0===X?void 0:X.map((function(e){var t=URL.createObjectURL(e);return console.log(t),Object(oe.jsxs)(gt.b,{children:[" ",Object(oe.jsxs)("video",{autoPlay:!0,muted:!0,className:"",children:[" ",Object(oe.jsx)("source",{src:t}),"This browser doesn't support video tag."]})," "]})}))]})}):null}),Object(oe.jsxs)("div",{className:"addtoPost",children:[Object(oe.jsx)(F.a,{children:"Add to Your Post"}),Object(oe.jsxs)("div",{children:[Object(oe.jsxs)("label",{htmlFor:"contained-button-file",children:[Object(oe.jsx)(ga,{accept:"image/*",id:"contained-button-file",multiple:!0,onChange:function(e){var t=[];if(console.log(1),0!==e.target.files.length){var n,a=e.target.files;j(a),console.log(2);for(var s=0;s<a.length;s++)n=URL.createObjectURL(a[s]),t=[].concat(Object(Ut.a)(t),[n]),c(t),console.log(n);console.log(5)}else j([]),c([]);console.log(4),console.log(t)},type:"file"}),Object(oe.jsx)(D.a,{style:{backgroundColor:"#D0FAE4",marginRight:10},"aria-label":"upload picture",component:"span",children:Object(oe.jsx)(Zn.a,{style:{color:"#06966A"}})})]}),Object(oe.jsxs)("label",{htmlFor:"contained-button-video",children:[Object(oe.jsx)(ga,{accept:"video/*",id:"contained-button-video",multiple:!0,onChange:function(e){e.preventDefault(),URL.createObjectURL(e.target.files[0]),ee([].concat(Object(Ut.a)(X),Object(Ut.a)(e.target.files)))},type:"file"}),Object(oe.jsx)(D.a,{style:{backgroundColor:"#ffb30999",marginRight:10},"aria-label":"upload video",component:"span",children:Object(oe.jsx)(Gn.a,{style:{color:"#fff"}})})]}),Object(oe.jsx)(D.a,{style:{backgroundColor:"#FEE2E2",marginRight:10},onClick:function(){return T("location")},children:Object(oe.jsx)(Qn.a,{style:{color:"#DD2726"}})}),Object(oe.jsx)(D.a,{style:{backgroundColor:"#DBEBFF",marginRight:10},onClick:function(){return T("tagFriend")},children:Object(oe.jsx)(Xn.a,{style:{color:"#2764EA"}})})]})]}),Object(oe.jsxs)("span",{className:"error",children:[y," "]}),Object(oe.jsxs)("div",{className:"footer",children:[Object(oe.jsxs)("div",{className:"p-3",children:["location"===R?Object(oe.jsx)(sa,{setLocation:I}):null,"tagFriend"===R?Object(oe.jsx)(pa,{userId:ge._id,setTag:H}):null]}),Object(oe.jsxs)("div",{className:"buttons p-3",children:[Object(oe.jsx)(k.a,{variant:"outlined",className:"me-4",children:"Cancel"}),Object(oe.jsx)(k.a,{variant:"contained",onClick:function(e){if(e.preventDefault(),M(!0),console.log(h,l.length),fe.append("desc",h),fe.append("Accessibility",f),fe.append("userId",pe._id),fe.append("location",P),q.length>0){console.log(q);var t=[];q.map((function(e){t.push({_id:e.user._id,name:e.user.name})})),fe.append("tag",JSON.stringify(t))}if(""===h&&0===l.length&&0===X.length)N("post is empty"),M(!1);else if(0!==l.length){console.log("post with files"),N("");for(var n=0;n<l.length;n++)fe.append("files",l[n]);$(fe).then((function(e){console.log("post updated"),X.length>0?Z(e._id):(M(!1),console.log(e),we.push("/"))})).catch((function(e){M(!1),403==e.response.status&&(localStorage.removeItem("token"),localStorage.removeItem("user")),N(e.message)}))}else N(""),console.log("only test"),$(fe).then((function(e){console.log("post updated"),X.length>0?Z(e._id):(M(!1),console.log(e),we.push("/"))})).catch((function(e){M(!1),403==e.response.status&&(localStorage.removeItem("token"),localStorage.removeItem("user"),we.push("/login")),N(e.message)}))},disabled:L,children:"POST"})]})]})]})})},ya=Object(Fe.a)({left:{padding:"20px"},right:{padding:"20px"},navItem:{maxWidth:"42px",maxHeight:"42px",minWidth:"42px",minHeight:"42px",borderRadius:10,backgroundColor:"#f1f1f1",padding:0},root:{background:"linear-gradient(45deg, #2196F3 30%, #21CBF3 90%)",border:0,borderRadius:3,boxShadow:"0 3px 5px 2px rgba(33, 203, 243, .3)",color:"#ffffff",height:42,padding:"0 30px"}});var Na=function(){var e=ya(),t=Object(d.c)((function(e){return e.user.user}));return Object(oe.jsxs)("div",{className:"CreatePostPage",children:[Object(oe.jsx)(De,{}),Object(oe.jsxs)(A.a,{container:!0,className:"mt-5",children:[Object(oe.jsx)(A.a,{item:!0,xs:12,md:2.5,sx:{display:{xs:"none",md:"none",lg:"block"}},className:e.left,children:Object(oe.jsxs)("div",{style:{position:"sticky",top:"-150px"},children:[Object(oe.jsx)(He,{}),Object(oe.jsx)(Ge,{}),Object(oe.jsx)(Qe,{})]})}),Object(oe.jsx)(A.a,{item:!0,xs:12,md:6.5,className:"mx-auto mb-5 mt-4",children:Object(oe.jsx)(wa,{})}),Object(oe.jsx)(A.a,{item:!0,xs:12,md:3,sx:{display:{xs:"none",md:"none",lg:"block"}},className:e.right,children:Object(oe.jsx)("div",{style:{position:"sticky",top:"100px"},children:Object(oe.jsx)(Ht,{user:t})})})]}),Object(oe.jsx)(Ue,{})]})};n(344),n(345);var Sa=function(){var e=Object(d.c)((function(e){return e.user.user})),t=Object(d.c)((function(e){return e.socket.socket})),n=Object(d.b)(),c=Object(a.useState)([]),s=Object(i.a)(c,2),o=s[0],r=s[1],l=e;return console.log(l),Object(a.useEffect)((function(){(function(e){var t=e.userId;return new Promise((function(e,n){var a=localStorage.getItem("token");K.a.post("http://localhost:4000/api/v1/user/getAllNotifications",{userId:t},{headers:{Authorization:a}}).then((function(t){console.log(t),e(t.data.notifications)})).catch((function(e){n(e)}))}))})({userId:l._id}).then((function(e){r(e)}))}),[e]),Object(a.useEffect)((function(){var e=l._id;null===t||void 0===t||t.emit("notificationSeen",e),n(v(null))}),[t]),Object(oe.jsx)("div",{className:"Notification",children:Object(oe.jsxs)("div",{className:"card ",children:[Object(oe.jsxs)("div",{className:"Head",children:[Object(oe.jsx)("div",{className:"backIcon",children:Object(oe.jsxs)(D.a,{style:{backgroundColor:"#ffffff",marginRight:"20px"},children:["  ",Object(oe.jsx)(qn.a,{style:{color:"#007fff"}})]})}),"Notifications"]}),Object(oe.jsx)("div",{className:"notifications",children:o?o.map((function(e){return"like"===e.type?Object(oe.jsx)(Ca,{notification:e}):"follow"===e.type?Object(oe.jsx)(Pa,{notification:e}):null})):null})]})})},Ca=function(e){var t=e.notification;return Object(oe.jsxs)("div",{className:t.read?"notification read":"notification",children:[Object(oe.jsx)("div",{className:"img",children:Object(oe.jsx)("img",{src:t.user.ProfilePhotos,alt:""})}),Object(oe.jsxs)("div",{className:"content",children:[Object(oe.jsxs)("p",{children:[Object(oe.jsxs)(ne.b,{className:"name",to:"/profile/".concat(t.from),children:[t.user.name,"  "]}),"liked your Post"]}),Object(oe.jsxs)("span",{className:"time",children:[" ",ut()(t.date).fromNow()," "]})]})]})},Pa=function(e){var t=e.notification;return Object(oe.jsxs)("div",{className:t.read?"notification read":"notification",children:[Object(oe.jsx)("div",{className:"img",children:Object(oe.jsx)("img",{src:t.user.ProfilePhotos,alt:""})}),Object(oe.jsxs)("div",{className:"content",children:[Object(oe.jsxs)("p",{children:[Object(oe.jsxs)(ne.b,{className:"name",to:"/profile/".concat(t.from),children:[t.user.name,"  "]}),"Started to Follow You"]}),Object(oe.jsxs)("span",{className:"time",children:[" ",ut()(t.date).fromNow()," "]})]})]})};var ka=function(){var e=Object(d.c)((function(e){return e.user.user}));return Object(oe.jsx)("div",{children:Object(oe.jsxs)("div",{className:"NotificationPage",children:[Object(oe.jsx)(De,{}),Object(oe.jsxs)(A.a,{container:!0,children:[Object(oe.jsx)(A.a,{item:!0,xs:12,md:2.5,sx:{display:{xs:"none",md:"none",lg:"block"}},className:"left",children:Object(oe.jsxs)("div",{style:{position:"sticky",top:"-150px"},children:[Object(oe.jsx)(He,{}),Object(oe.jsx)(Ge,{}),Object(oe.jsx)(Qe,{})]})}),Object(oe.jsx)(A.a,{item:!0,xs:12,md:6.5,className:"mx-auto",children:Object(oe.jsx)(Sa,{})}),Object(oe.jsx)(A.a,{item:!0,xs:12,md:3,sx:{display:{xs:"none",md:"none",lg:"block"}},className:"right",children:Object(oe.jsx)("div",{style:{position:"sticky",top:"100px"},children:Object(oe.jsx)(Ht,{user:e})})})]}),Object(oe.jsx)(Ue,{})]})})},Ia=n(470);function Ea(e){return Object(oe.jsxs)(F.a,Object(j.a)(Object(j.a)({variant:"body2",color:"text.secondary",align:"center"},e),{},{children:["Copyright \xa9 ",Object(oe.jsx)(ne.b,{color:"inherit",href:"https://mui.com/",children:"Your Website"})," ",(new Date).getFullYear(),"."]}))}var Aa=Object(L.a)();function _a(){var e=Object(r.g)(),t=Object(a.useState)({phone:"",name:"",username:"",password:"",usernameExist:!0,otp:""}),n=Object(i.a)(t,2),c=n[0],s=n[1],o=Object(a.useState)({usernameExist:"",name:"",username:"",password:"",phone:"",otp:""}),l=Object(i.a)(o,2),d=l[0],u=l[1],b=Object(a.useState)(!1),h=Object(i.a)(b,2),m=h[0],O=h[1],x=Object(a.useState)(!1),f=Object(i.a)(x,2),p=f[0],g=f[1],v=Object(a.useState)(!1),w=Object(i.a)(v,2),y=w[0],N=w[1],S=Object(a.useState)({minute:"",seconds:""}),C=Object(i.a)(S,2),R=C[0],L=C[1];Object(a.useEffect)((function(){var e=180;if(p);else var t=setInterval((function(){L({minute:Math.floor(e/60),seconds:Math.floor(e%60)}),-1===--e&&(clearInterval(t),N(!0),g(!0))}),1e3)}),[p]);var B=function(e){if(e.preventDefault(),N(!0),""===d.name&&""!==c.name&&""===d.username&&""===d.usernameExist&&""!==c.username&&""===d.phone&&""!==c.phone&&""===d.password&&""!==c.password)console.log("test"),Y(c).then((function(){O(!0)})).catch((function(e){console.log(e),N(!1)}));else{N(!1);!function(e){var t={};""===e.name&&(t=Object(j.a)(Object(j.a)({},t),{},{name:"name is requierd"})),""===e.username&&(t=Object(j.a)(Object(j.a)({},t),{},{username:"username is requierd"})),""===e.phone&&(t=Object(j.a)(Object(j.a)({},t),{},{phone:"Phone Number is requierd"})),""===e.password&&(t=Object(j.a)(Object(j.a)({},t),{},{password:"password is requierd"})),u(Object(j.a)(Object(j.a)({},d),t))}(c)}};return Object(oe.jsx)(M.a,{theme:Aa,children:Object(oe.jsxs)(W.a,{component:"main",maxWidth:"xs",children:[m?Object(oe.jsxs)(z.a,{className:"card py-5 px-4 mt-5 shadow",children:[Object(oe.jsx)(I.a,{}),Object(oe.jsx)(F.a,{variant:"h4",className:"text-center fw-bold Typography ",style:{color:"#1877F2",fontFamily:"Montserrat"},children:"Social Media"}),Object(oe.jsxs)(_.a,{sx:{marginTop:4,display:"flex",flexDirection:"column",alignItems:"center"},children:[Object(oe.jsx)(F.a,{component:"h1",variant:"h5",children:"OTP VERIFICATION"}),Object(oe.jsxs)(A.a,{container:!0,flexDirection:"column",alignItems:"center",className:"mt-5",children:[Object(oe.jsx)(ae.a,{style:{fontSize:"50px"}}),Object(oe.jsxs)(F.a,{children:["Enter the code we sent to ",c.phone]})]}),Object(oe.jsxs)(_.a,{component:"form",noValidate:!0,onSubmit:B,sx:{mt:3},children:[Object(oe.jsx)(A.a,{container:!0,spacing:2,children:Object(oe.jsxs)(A.a,{item:!0,xs:12,sm:12,children:[Object(oe.jsx)(te.a,{value:c.otp,onChange:function(e){s(Object(j.a)(Object(j.a)({},c),{},{otp:e})),console.log(c)},type:"number",numInputs:4,separator:Object(oe.jsx)("span",{children:"-"}),name:"otp",inputStyle:{width:"2.5rem",height:"2.5rem",margin:"0 1rem",fontSize:"2rem",borderRadius:4,border:"1px solid rgba(0,0,0,0.3)"}}),d.otp?Object(oe.jsx)(F.a,{component:"span",style:{color:"red",textAlign:"center",width:"100%",marginTop:"20px"},children:d.otp}):null]})}),Object(oe.jsx)(k.a,{type:"submit",fullWidth:!0,variant:"contained",sx:{mt:3,mb:2},onClick:function(){var t;N(!0),O(!0),(t={phone:c.phone,otp:c.otp},new Promise(function(){var e=Object(q.a)(U.a.mark((function e(n,a){return U.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:K.a.post("http://localhost:4000/api/v1/user/verifyMobileOtp",t).then((function(e){localStorage.setItem("token",e.data.token),localStorage.setItem("user",JSON.stringify(e.data.user)),n(e)})).catch((function(e){console.log("otpverifissssscation err"),console.log("err",e),a(e)}));case 1:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}())).then((function(t){e.push("/")})).catch((function(e){N(!1),console.log(e)}))},disabled:y,children:"Verify OTP"}),Object(oe.jsxs)(A.a,{container:!0,flexDirection:"column",alignItems:"center",className:"my-3",children:[Object(oe.jsxs)(_.a,{children:[R.minute," : ",R.seconds]}),Object(oe.jsx)(k.a,{disabled:!p,onClick:function(){N(!1),function(e){var t=e.phone;return console.log(t),new Promise(function(){var e=Object(q.a)(U.a.mark((function e(n,a){return U.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:K.a.post("http://localhost:4000/api/v1/user/reSendEmailOtp",{phone:t}).then((function(e){n(e)})).catch((function(e){a(e.response.data)}));case 1:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}())}({phone:c.phone}).then((function(){g(!1)})).catch((function(){u(Object(j.a)(Object(j.a)({},d),{},{otp:"invalid Otp"}))}))},children:"Resend OTP"})]}),d.message?Object(oe.jsx)(F.a,{component:"span",style:{color:"red"},children:d.message}):null,Object(oe.jsx)(A.a,{container:!0,justifyContent:"flex-end",children:Object(oe.jsxs)(A.a,{item:!0,children:[Object(oe.jsx)(ne.b,{to:"/login",variant:"body2",children:"Already have an account? Sign in"}),Object(oe.jsx)(ne.b,{to:"/signup;",children:"Signup"})]})})]})]})]}):Object(oe.jsxs)(z.a,{className:"card py-5 px-4 mt-5 shadow",children:[Object(oe.jsx)(I.a,{}),Object(oe.jsx)(F.a,{variant:"h4",className:"text-center fw-bold Typography ",style:{color:"#1877F2",fontFamily:"Montserrat"},children:"Social Media"}),Object(oe.jsxs)(_.a,{sx:{marginTop:4,display:"flex",flexDirection:"column",alignItems:"center"},children:[Object(oe.jsx)(P.a,{sx:{m:1,bgcolor:"secondary.main"},children:Object(oe.jsx)(T.a,{})}),Object(oe.jsx)(F.a,{component:"h1",variant:"h5",children:"Sign up Using Mobile"}),Object(oe.jsxs)(_.a,{component:"form",noValidate:!0,onSubmit:B,sx:{mt:3},children:[Object(oe.jsxs)(A.a,{container:!0,spacing:2,children:[Object(oe.jsxs)(A.a,{item:!0,xs:12,sm:12,children:[Object(oe.jsx)(E.a,{autoComplete:"off",name:"name",required:!0,fullWidth:!0,id:"firstName",label:"First Name",autoFocus:!0,onChange:function(e){var t=e.target.value.trim();if(s(Object(j.a)(Object(j.a)({},c),{},{name:t})),""===t){var n=Object(j.a)(Object(j.a)({},d),{},{name:"name is requierd"});u(n),console.log(d)}else if(new RegExp("^[A-Za-z\\s]{4,29}$").test(t)){var a=Object(j.a)(Object(j.a)({},d),{},{name:""});u(a)}else{var o=Object(j.a)(Object(j.a)({},d),{},{name:"Name containe mini 5 char or amx 29 char or name does't containe number or spesial char  "});u(o)}},error:d.name}),d.name?Object(oe.jsx)(F.a,{component:"span",style:{color:"red"},children:d.name}):null]}),Object(oe.jsxs)(A.a,{item:!0,xs:12,sm:12,children:[Object(oe.jsx)(E.a,{required:!0,fullWidth:!0,id:"Username",label:"Username",name:"username",autoComplete:"off",onBlur:function(e){""===d.username&&""!==c.username&&(u(Object(j.a)(Object(j.a)({},d),{},{usernameExist:"username  Checking....."})),V({username:c.username}).then((function(e){e.data.usernameExist?(u(Object(j.a)(Object(j.a)({},d),{},{usernameExist:"username already  exist"})),s(Object(j.a)(Object(j.a)({},c),{},{usernameExist:!0}))):(s(Object(j.a)(Object(j.a)({},c),{},{usernameExist:!1})),u(Object(j.a)(Object(j.a)({},d),{},{usernameExist:""})))})).catch((function(e){})))},onChange:function(e){var t=e.target.value.trim();if(s(Object(j.a)(Object(j.a)({},c),{},{username:t})),""===t){var n=Object(j.a)(Object(j.a)({},d),{},{username:"username is requierd"});u(n)}else if(new RegExp("^[A-Za-z\\s]{4,29}$").test(t))u(Object(j.a)(Object(j.a)({},d),{},{username:""}));else{var a=Object(j.a)(Object(j.a)({},d),{},{username:" Username containe mini 5 char or amx 29 char or name does't containe number or spesial char  "});u(a)}},error:d.username||d.usernameExist}),d.username?Object(oe.jsx)(F.a,{component:"span",style:{color:"red"},children:d.username}):null,d.usernameExist?Object(oe.jsx)(F.a,{component:"span",style:{color:"red"},children:d.usernameExist}):null]}),Object(oe.jsxs)(A.a,{item:!0,xs:12,children:[Object(oe.jsx)(E.a,{autoComplete:"off",required:!0,fullWidth:!0,id:"phone",label:"Phone Number",type:"tel",name:"phone",onChange:function(e){var t=e.target.value.trim();if(s(Object(j.a)(Object(j.a)({},c),{},{phone:t})),""===t){var n=Object(j.a)(Object(j.a)({},d),{},{phone:"Phone Number is requierd"});u(n),console.log(d)}else if(new RegExp(/^([+]\d{2})?\d{10}$/).test(t)){var a=Object(j.a)(Object(j.a)({},d),{},{phone:""});u(a)}else{var o=Object(j.a)(Object(j.a)({},d),{},{phone:"Not  a valid Phone Number"});u(o)}},error:d.phone}),d.phone?Object(oe.jsx)(F.a,{component:"span",style:{color:"red"},children:d.phone}):null]}),Object(oe.jsxs)(A.a,{item:!0,xs:12,children:[Object(oe.jsx)(E.a,{required:!0,fullWidth:!0,name:"password",label:"Password",type:"password",id:"password",autoComplete:"off",onChange:function(e){var t=e.target.value.trim();if(s(Object(j.a)(Object(j.a)({},c),{},{password:t})),""===t){var n=Object(j.a)(Object(j.a)({},d),{},{password:"password is requierd"});u(n)}else if(new RegExp("^(?=.*[0-9])(?=.*[a-z])(?=.*[A-Z])(?=.*[@#$%^&+=])(?=\\S+$).{8,20}$").test(t)){var a=Object(j.a)(Object(j.a)({},d),{},{password:""});u(a)}else{var o=Object(j.a)(Object(j.a)({},d),{},{password:"Minimum 8 and maximum 20 characters, at least one uppercase letter, one lowercase letter, one number and one special character:"});u(o)}},error:d.password}),d.password?Object(oe.jsx)(F.a,{component:"span",style:{color:"red"},children:d.password}):null]})]}),Object(oe.jsx)(k.a,{type:"submit",fullWidth:!0,variant:"contained",sx:{mt:3,mb:2},disabled:y,children:y?Object(oe.jsx)(se.a,{}):"Sign Up"}),d.message?Object(oe.jsx)(F.a,{component:"span",style:{color:"red"},children:d.message}):null,Object(oe.jsxs)(A.a,{container:!0,justifyContent:"center",flexDirection:"column",alignItems:"center",children:[Object(oe.jsx)(D.a,{style:{borderRadius:10},size:"medium",onClick:function(){return e.push("/emailSignup")},children:Object(oe.jsx)(Ia.a,{style:{color:"#1976D2",fontSize:"50",borderRadius:10,border:"3px solid #ffffff"},size:"large"})}),Object(oe.jsx)(F.a,{children:"Signup with Email"})]}),Object(oe.jsx)(A.a,{container:!0,justifyContent:"flex-end",className:"mt-3",children:Object(oe.jsx)(A.a,{item:!0,children:Object(oe.jsx)(ne.b,{to:"/login",variant:"body2",children:"Already have an account? Sign in"})})})]})]})]}),Object(oe.jsx)(Ea,{sx:{mt:5}})]})})}function Ra(e){return Object(oe.jsxs)(F.a,Object(j.a)(Object(j.a)({variant:"body2",color:"text.secondary",align:"center"},e),{},{children:["Copyright \xa9 ",Object(oe.jsx)(ne.b,{color:"inherit",href:"https://mui.com/",children:"Your Website"})," ",(new Date).getFullYear(),"."]}))}var Ta=Object(L.a)();function Fa(){Object(r.g)();var e=Object(a.useState)({error:!1,emailErr:""}),t=Object(i.a)(e,2),n=t[0],c=t[1],s=Object(a.useState)({}),o=Object(i.a)(s,2),l=o[0],d=o[1],j=Object(a.useState)(!1),u=Object(i.a)(j,2),b=u[0],h=u[1],m=Object(a.useState)(!1),O=Object(i.a)(m,2),x=O[0],f=O[1];return Object(oe.jsx)(M.a,{theme:Ta,children:Object(oe.jsxs)(W.a,{component:"main",maxWidth:"sm",children:[x?Object(oe.jsxs)(z.a,{className:"card py-5 px-4 mt-5 shadow",children:[Object(oe.jsx)(I.a,{}),Object(oe.jsx)(F.a,{variant:"h4",className:"text-center fw-bold Typography ",style:{color:"#1877F2",fontFamily:"Montserrat"},children:"Social Media"}),Object(oe.jsxs)(_.a,{sx:{marginTop:4,display:"flex",flexDirection:"column",alignItems:"center"},children:[Object(oe.jsx)(P.a,{sx:{m:1,bgcolor:"secondary.main"},children:Object(oe.jsx)(T.a,{})}),Object(oe.jsx)(F.a,{className:"Typography ",component:"h1",variant:"h5",color:"green",children:"Successfull ..........!"}),Object(oe.jsxs)(_.a,{noValidate:!0,sx:{mt:1},children:[Object(oe.jsx)(F.a,{className:"Typography ",component:"h1",variant:"h6",children:"Successfully send  Link in to Your Email"}),Object(oe.jsx)("div",{className:"success-animation",children:Object(oe.jsxs)("svg",{className:"checkmark",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 52 52",children:[Object(oe.jsx)("circle",{className:"checkmark__circle",cx:"26",cy:"26",r:"25",fill:"none"}),Object(oe.jsx)("path",{className:"checkmark__check",fill:"none",d:"M14.1 27.2l7.1 7.2 16.7-16.8"})]})}),Object(oe.jsx)("hr",{}),Object(oe.jsxs)(A.a,{container:!0,children:[Object(oe.jsx)(A.a,{item:!0,xs:!0,className:"me-5",children:Object(oe.jsx)(ne.b,{to:"/login",variant:"body2",children:"Back to Login"})}),Object(oe.jsx)(A.a,{item:!0,children:Object(oe.jsx)(ne.b,{to:"/signup",variant:"body2",children:"Don't have an account? Sign Up"})})]})]})]})]}):Object(oe.jsxs)(z.a,{className:"card py-5 px-4 mt-5 shadow",children:[Object(oe.jsx)(I.a,{}),Object(oe.jsx)(F.a,{variant:"h4",className:"text-center fw-bold Typography ",style:{color:"#1877F2",fontFamily:"Montserrat"},children:"Social Media"}),Object(oe.jsxs)(_.a,{sx:{marginTop:4,display:"flex",flexDirection:"column",alignItems:"center"},children:[Object(oe.jsx)(P.a,{sx:{m:1,bgcolor:"secondary.main"},children:Object(oe.jsx)(T.a,{})}),Object(oe.jsx)(F.a,{className:"Typography ",component:"h1",variant:"h5",children:"Forgot Password"}),Object(oe.jsxs)(_.a,{noValidate:!0,sx:{mt:1},children:[Object(oe.jsx)(E.a,{margin:"normal",required:!0,fullWidth:!0,id:"email",label:"Email Address",name:"email",autoComplete:"email",autoFocus:!0,onChange:function(e){if("email"===e.target.name){var t=e.target.value.trim();new RegExp(/[a-z0-9._%+-]+@[a-z0-9.-]+\.[a-z]{2,15}/g).test(t)?(d({email:t}),c({error:!1,emailErr:""})):new RegExp(/^([+]\d{2})?\d{10}$/).test(t)?(d({phone:t}),c({error:!1,emailErr:""})):c({error:!0,emailErr:" Not valid a  detailes "})}}}),Object(oe.jsx)(F.a,{variant:"span",style:{color:"red"},children:n.error?n.emailErr:null}),Object(oe.jsx)(k.a,{type:"submit",fullWidth:!0,variant:"contained",sx:{mt:3,mb:2},disabled:b,onClick:function(){var e;void 0===l.email&&void 0==l.phone?c({error:!0,emailErr:" email or phone number is required "}):(h(!0),(e=l,new Promise(function(){var t=Object(q.a)(U.a.mark((function t(n,a){return U.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:K.a.post("http://localhost:4000/api/v1/user/forgotPasswordRequest",e).then((function(e){console.log("send data",e),n(e.data.user)})).catch((function(e){console.log("err",e.response),a(e)}));case 1:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}())).then((function(){f(!0),h(!0)})).catch((function(e){console.log(e),c({error:!0,emailErr:e.response.data.message}),h(!1),console.log(e.response)})))},children:b?Object(oe.jsxs)(_.a,{sx:{display:"flex"},children:[Object(oe.jsx)(se.a,{})," "]}):"send Reset Link"}),Object(oe.jsx)("hr",{}),Object(oe.jsxs)(A.a,{container:!0,children:[Object(oe.jsx)(A.a,{item:!0,xs:!0,className:"me-5",children:Object(oe.jsx)(ne.b,{to:"/login",variant:"body2",children:"Back to Login"})}),Object(oe.jsx)(A.a,{item:!0,children:Object(oe.jsx)(ne.b,{to:"/signup",variant:"body2",children:"Don't have an account? Sign Up"})})]})]})]})]}),Object(oe.jsx)(Ra,{sx:{mt:8,mb:4}})]})})}var za=n(223),Da=n.n(za),Wa=n(490),La=n(510),Ma=n(90),Ba=n.n(Ma),Ua=n(89),qa=n.n(Ua);n(355);function Ha(e){return Object(oe.jsxs)(F.a,Object(j.a)(Object(j.a)({variant:"body2",color:"text.secondary",align:"center"},e),{},{children:["Copyright \xa9 ",Object(oe.jsx)(ne.b,{color:"inherit",href:"https://mui.com/",children:"Your Website"})," ",(new Date).getFullYear(),"."]}))}var Ka=function(){var e=Object(r.h)(),t=Object(a.useState)({}),n=Object(i.a)(t,2),c=n[0],s=n[1],o=Object(a.useState)(!1),l=Object(i.a)(o,2),d=l[0],u=l[1],b=Object(a.useState)({password:"",showPassword:!1}),h=Object(i.a)(b,2),m=h[0],O=h[1],x=Object(a.useState)({passwordErr:"",ConfirmPasswordErr:""}),f=Object(i.a)(x,2),p=f[0],g=f[1],v=Object(a.useState)(!1),w=Object(i.a)(v,2);w[0],w[1],Object(a.useEffect)((function(){var t=Da.a.parse(e.search);s(t)}),[]);var y=function(e){return function(t){O(Object(j.a)(Object(j.a)({},m),{},Object(de.a)({},e,t.target.value))),"password"===e&&""==t.target.value&&g(Object(j.a)(Object(j.a)({},p),{},{passwordErr:"Password is required"})),"password"===e&&""!==t.target.value&&g(Object(j.a)(Object(j.a)({},p),{},{passwordErr:""})),"ConfirmPassword"===e&&""===t.target.value&&g(Object(j.a)(Object(j.a)({},p),{},{ConfirmPasswordErr:"ConfirmPassword is required"})),"ConfirmPassword"===e&&""!==t.target.value&&g(Object(j.a)(Object(j.a)({},p),{},{ConfirmPasswordErr:""}))}},N=function(){O(Object(j.a)(Object(j.a)({},m),{},{showPassword:!m.showPassword}))},S=function(e){e.preventDefault()},C=Object(L.a)();return Object(oe.jsx)(M.a,{theme:C,children:Object(oe.jsxs)(W.a,{component:"main",maxWidth:"xs",children:[d?Object(oe.jsxs)(z.a,{className:"card py-5 px-4 mt-5 shadow",children:[Object(oe.jsx)(I.a,{}),Object(oe.jsx)(F.a,{variant:"h4",className:"text-center fw-bold Typography ",style:{color:"#1877F2",fontFamily:"Montserrat"},children:"Social Media"}),Object(oe.jsxs)(_.a,{sx:{marginTop:4,display:"flex",flexDirection:"column",alignItems:"center"},children:[Object(oe.jsx)(P.a,{sx:{m:1,bgcolor:"secondary.main"},children:Object(oe.jsx)(T.a,{})}),Object(oe.jsx)(F.a,{className:"Typography text-center",component:"h1",variant:"h5",children:"Your password has been updated Successfully"}),Object(oe.jsxs)(_.a,{noValidate:!0,sx:{mt:1},children:[Object(oe.jsx)("div",{className:"success-animation",children:Object(oe.jsxs)("svg",{className:"checkmark",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 52 52",children:[Object(oe.jsx)("circle",{className:"checkmark__circle",cx:"26",cy:"26",r:"25",fill:"none"}),Object(oe.jsx)("path",{className:"checkmark__check",fill:"none",d:"M14.1 27.2l7.1 7.2 16.7-16.8"})]})}),Object(oe.jsx)("hr",{}),Object(oe.jsxs)(A.a,{container:!0,children:[Object(oe.jsx)(A.a,{item:!0,xs:!0,className:"me-5",children:Object(oe.jsx)(ne.b,{to:"/login",variant:"body2",children:"Back to Login"})}),Object(oe.jsx)(A.a,{item:!0,children:Object(oe.jsx)(ne.b,{to:"/signup",variant:"body2",children:"Don't have an account? Sign Up"})})]})]})]})]}):Object(oe.jsxs)(z.a,{className:"card py-5 px-4 mt-5 shadow",children:[Object(oe.jsx)(I.a,{}),Object(oe.jsx)(F.a,{variant:"h4",className:"text-center fw-bold Typography ",style:{color:"#1877F2",fontFamily:"Montserrat"},children:"Social Media"}),Object(oe.jsxs)(_.a,{sx:{marginTop:4,display:"flex",flexDirection:"column",alignItems:"center"},children:[Object(oe.jsx)(F.a,{component:"h1",variant:"h5",children:"Reset Your Password"}),Object(oe.jsxs)(_.a,{sx:{mt:3},children:[Object(oe.jsxs)(A.a,{container:!0,spacing:2,children:[Object(oe.jsxs)(A.a,{item:!0,xs:12,sm:12,children:[Object(oe.jsxs)(yt.a,{sx:{m:1},variant:"outlined",fullWidth:!0,children:[Object(oe.jsx)(wt.a,{htmlFor:"outlined-adornment-password",children:"New Password"}),Object(oe.jsx)(Wa.a,{fullWidth:!0,id:"outlined-adornment-password",type:m.showPassword?"text":"password",value:m.password,onChange:y("password"),endAdornment:Object(oe.jsx)(La.a,{position:"end",children:Object(oe.jsx)(D.a,{"aria-label":"toggle password visibility",onClick:N,onMouseDown:S,edge:"end",children:m.showPassword?Object(oe.jsx)(qa.a,{}):Object(oe.jsx)(Ba.a,{})})}),label:"New Password"})]}),p.passwordErr?p.passwordErr:null]}),Object(oe.jsxs)(A.a,{item:!0,xs:12,sm:12,children:[Object(oe.jsxs)(yt.a,{sx:{m:1},variant:"outlined",fullWidth:!0,children:[Object(oe.jsx)(wt.a,{htmlFor:"outlined-adornment-password",children:"Confirm password"}),Object(oe.jsx)(Wa.a,{fullWidth:!0,id:"outlined-adornment-password",type:m.showPassword?"text":"password",value:m.ConfirmPassword,onChange:y("ConfirmPassword"),endAdornment:Object(oe.jsx)(La.a,{position:"end",children:Object(oe.jsx)(D.a,{"aria-label":"toggle password visibility",onClick:N,onMouseDown:S,edge:"end",children:m.showPassword?Object(oe.jsx)(qa.a,{}):Object(oe.jsx)(Ba.a,{})})}),label:"Confirm password"})]}),p.ConfirmPasswordErr?p.ConfirmPasswordErr:null]})]}),Object(oe.jsx)(k.a,{type:"submit",fullWidth:!0,variant:"contained",sx:{mt:3,mb:2},onClick:function(){var e;""===m.password&&g(Object(j.a)(Object(j.a)({},p),{},{passwordErr:"Password is required"})),""===m.ConfirmPassword&&g(Object(j.a)(Object(j.a)({},p),{},{ConfirmPasswordErr:"Password is required"})),m.password!==m.ConfirmPassword&&g(Object(j.a)(Object(j.a)({},p),{},{ConfirmPasswordErr:"Confirm Password not Match with Password"})),m.password===m.ConfirmPassword&&(g(Object(j.a)(Object(j.a)({},p),{},{ConfirmPasswordErr:""})),(e={password:m.password,ConfirmPassword:m.ConfirmPassword,userId:c.id,Token:c.token},console.log(e),new Promise(function(){var t=Object(q.a)(U.a.mark((function t(n,a){return U.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:K.a.post("http://localhost:4000/api/v1/user/forgotPasswordReset",e).then((function(e){console.log("send data",e),n(e.data.user)})).catch((function(e){console.log("err",e.response.data),a(e)}));case 1:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}())).then((function(){u(!0)})).catch((function(e){g(Object(j.a)(Object(j.a)({},e),{},{ConfirmPasswordErr:e.response.data.message}))})))},children:"Reset Password"}),Object(oe.jsx)(A.a,{container:!0,justifyContent:"flex-end",children:Object(oe.jsxs)(A.a,{item:!0,children:[Object(oe.jsx)(ne.b,{to:"/login",variant:"body2",className:"me-4",children:"Already have an account? Sign in"}),Object(oe.jsx)(ne.b,{to:"/dshfa;",children:"jbhvjbkll"})]})})]})]})]}),Object(oe.jsx)(Ha,{sx:{mt:5}})]})})};n(356),n(357);var Va=function(){var e=Object(r.g)(),t=Object(d.c)((function(e){return e.user.user})),n=Object(a.useState)({oldPassword:"",newPassword:"",confirmPassword:"",userId:"",showoldPassword:!1,showNewPassword:!1,showConfirmPassword:!1}),c=Object(i.a)(n,2),s=c[0],o=c[1],l=Object(a.useState)({oldPassword:"",NewPassword:"",ConfirmPassword:""}),u=Object(i.a)(l,2),b=u[0];u[1],Object(a.useEffect)((function(){o(Object(j.a)(Object(j.a)({},s),{},{userId:t._id}))}),[t]);var h=function(e){return function(t){o(Object(j.a)(Object(j.a)({},s),{},Object(de.a)({},e,t.target.value.trim())))}},m=function(e){o(Object(j.a)(Object(j.a)({},s),{},Object(de.a)({},e,!s.prop)))},O=function(e){e.preventDefault()};return Object(oe.jsx)("div",{className:"ResetPassword",children:Object(oe.jsxs)("div",{className:"card ",children:[Object(oe.jsxs)("div",{className:"Head",children:[Object(oe.jsx)("div",{className:"backIcon",children:Object(oe.jsxs)(D.a,{style:{backgroundColor:"#ffffff",marginRight:"20px"},children:["  ",Object(oe.jsx)(qn.a,{style:{color:"#007fff"}})]})}),"Reset Password"]}),Object(oe.jsxs)("div",{className:"Details p-3",children:[Object(oe.jsx)(F.a,{variant:"h4",color:"#007fff",textAlign:"center",children:"Reset Password"}),Object(oe.jsx)("form",{action:"",children:Object(oe.jsxs)("div",{className:"row",children:[Object(oe.jsx)("div",{className:"col-lg-7  mt-5 mx-auto",children:Object(oe.jsxs)(yt.a,{sx:{m:1},fullWidth:!0,variant:"outlined",children:[Object(oe.jsx)(wt.a,{htmlFor:"outlined-adornment-password",children:"Old Password"}),Object(oe.jsx)(Wa.a,{id:"outlined-adornment-password",type:s.showoldPassword?"text":"password",value:s.oldPassword,onChange:h("oldPassword"),endAdornment:Object(oe.jsx)(La.a,{position:"end",children:Object(oe.jsx)(D.a,{"aria-label":"toggle password visibility",onClick:function(){return m("showoldPassword")},onMouseDown:O,edge:"end",children:s.showPassword?Object(oe.jsx)(qa.a,{}):Object(oe.jsx)(Ba.a,{})})}),label:"Old Password"}),Object(oe.jsx)(F.a,{children:b.oldPassword})]})}),Object(oe.jsx)("div",{className:"col-lg-7  mt-3 mx-auto",children:Object(oe.jsxs)(yt.a,{sx:{m:1},fullWidth:!0,variant:"outlined",children:[Object(oe.jsx)(wt.a,{htmlFor:"outlined-adornment-password",children:" New Password"}),Object(oe.jsx)(Wa.a,{id:"outlined-adornment-password",type:s.showNewPassword?"text":"password",value:s.newPassword,onChange:h("newPassword"),endAdornment:Object(oe.jsx)(La.a,{position:"end",children:Object(oe.jsx)(D.a,{"aria-label":"toggle password visibility",onClick:m,onMouseDown:O,edge:"end",children:s.showNewPassword?Object(oe.jsx)(qa.a,{}):Object(oe.jsx)(Ba.a,{})})}),label:"New Password"}),Object(oe.jsx)(F.a,{children:b.NewPassword})]})}),Object(oe.jsx)("div",{className:"col-lg-7  mt-3 mx-auto",children:Object(oe.jsxs)(yt.a,{sx:{m:1},fullWidth:!0,variant:"outlined",children:[Object(oe.jsx)(wt.a,{htmlFor:"outlined-adornment-password",children:"Confirm Password"}),Object(oe.jsx)(Wa.a,{id:"outlined-adornment-password",type:s.showConfirmPassword?"text":"password",value:s.confirmPassword,onChange:h("confirmPassword"),endAdornment:Object(oe.jsx)(La.a,{position:"end",children:Object(oe.jsx)(D.a,{"aria-label":"toggle password visibility",onClick:m,onMouseDown:O,edge:"end",children:s.showConfirmPassword?Object(oe.jsx)(qa.a,{}):Object(oe.jsx)(Ba.a,{})})}),label:"Confirm Password"}),Object(oe.jsx)(F.a,{children:b.ConfirmPassword})]})}),Object(oe.jsx)("div",{className:"saveButton",children:Object(oe.jsx)(k.a,{variant:"contained",onClick:function(){var t;s.newPassword!==s.confirmPassword?rn.a.fire({icon:"error",title:"Oops...",text:"password don't match"}):(t=s,console.log(t),new Promise(function(){var e=Object(q.a)(U.a.mark((function e(n,a){return U.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:K.a.post("http://localhost:4000/api/v1/user/resetPassword",t).then((function(e){console.log("send data",e),n(e.data.user)})).catch((function(e){console.log("err",e.response.data.message),a(e.response.data.message)}));case 1:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}())).then((function(t){rn.a.fire("Password Updated","Your Password has been Updated.","success").then((function(){e.push("/settings")}))})).catch((function(e){console.log(e),rn.a.fire({icon:"error",title:"Oops...",text:e})}))},children:"Reset Pasword"})})]})})]})]})})},Ya=Object(Fe.a)({left:{padding:"20px"},right:{padding:"20px"},navItem:{maxWidth:"42px",maxHeight:"42px",minWidth:"42px",minHeight:"42px",borderRadius:10,backgroundColor:"#f1f1f1",padding:0},root:{background:"linear-gradient(45deg, #2196F3 30%, #21CBF3 90%)",border:0,borderRadius:3,boxShadow:"0 3px 5px 2px rgba(33, 203, 243, .3)",color:"#ffffff",height:42,padding:"0 30px"}});var Ja=function(){var e=Ya();return Object(oe.jsxs)("div",{className:"ResetPasswordPage ",children:[Object(oe.jsx)(De,{}),Object(oe.jsxs)(A.a,{container:!0,children:[Object(oe.jsx)(A.a,{item:!0,xs:12,md:2.5,sx:{display:{xs:"none",md:"none",lg:"block"}},className:e.left,children:Object(oe.jsxs)("div",{style:{position:"sticky",top:"-150px"},children:[Object(oe.jsx)(He,{}),Object(oe.jsx)(Ge,{}),Object(oe.jsx)(Qe,{})]})}),Object(oe.jsx)(A.a,{item:!0,xs:12,md:6.5,className:"mx-auto",children:Object(oe.jsx)(Va,{})}),Object(oe.jsx)(A.a,{item:!0,xs:12,md:3,sx:{display:{xs:"none",md:"none",lg:"block"}},className:e.right,children:Object(oe.jsxs)("div",{style:{position:"sticky",top:"100px"},children:[Object(oe.jsx)(Xe,{}),Object(oe.jsx)(Xe,{})]})})]}),Object(oe.jsx)(Ue,{})]})},$a=(n(195),n(358),n(477)),Za=n(161),Ga=n.n(Za),Qa=n(471),Xa=n(472),ec=n(473),tc=n(474);var nc=function(e){var t=e.item,n=e.currentUser;return Object(oe.jsx)("div",{className:"Message",children:Object(oe.jsxs)("div",{className:(null===t||void 0===t?void 0:t.sender)===n?"content own":"content",children:[Object(oe.jsx)("span",{children:t.message}),Object(oe.jsx)("span",{className:"time",children:ut()(t.createdAt).fromNow()})]})})};var ac=function(e){var t=e.currentUser,n=e.selectedChat,s=c.a.useState(null),o=Object(i.a)(s,2),r=o[0],l=o[1],d=Boolean(r),j=Object(a.useRef)(),u=Object(a.useState)(""),b=Object(i.a)(u,2),h=b[0],m=b[1],O=Object(a.useState)([]),x=Object(i.a)(O,2),f=x[0],p=x[1],g=Object(a.useState)({}),v=Object(i.a)(g,2),w=v[0],y=v[1],N=Object(a.useState)(""),S=Object(i.a)(N,2),k=S[0],I=S[1];Object(a.useEffect)((function(){I(n)}),[n]),Object(a.useEffect)((function(){k&&t&&(function(e){var t=e.userId;return console.log(t),new Promise(function(){var e=Object(q.a)(U.a.mark((function e(n,a){var c;return U.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:c=localStorage.getItem("token"),K.a.get("http://localhost:4000/api/v1/user/getUserDetailes/".concat(t),{headers:{Authorization:c}}).then((function(e){console.log(e),n(e.data)})).catch((function(e){a(e.response)}));case 2:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}())}({userId:k}).then((function(e){y(e.user[0])})).catch((function(){})),function(e){var t=e.sender,n=e.userId;return new Promise(function(){var e=Object(q.a)(U.a.mark((function e(a,c){var s;return U.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:s=localStorage.getItem("token"),K.a.post("http://localhost:4000/api/v1/user/getmessages",{sender:t,receiver:n},{headers:{Authorization:s}}).then((function(e){console.log(e),a(e.data.messages)})).catch((function(e){console.log("err",e),c(e)}));case 2:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}())}({sender:t,userId:k}).then((function(e){p(e)})))}),[k,t]),Object(a.useEffect)((function(){var e=[];return null===C||void 0===C||C.on("doReceiveMessage",(function(t){var a=t[0];e.push(t[0]),0!==e.length&&e[e.length-1].sender===n&&p((function(e){return[].concat(Object(Ut.a)(e),[a])}))})),function(){C.off("doReceiveMessage")}}),[k]),Object(a.useEffect)((function(){var e;null===j||void 0===j||null===(e=j.current)||void 0===e||e.scrollIntoView({behavior:"smooth"})}),[f]);var E=function(){console.log(15),l(null)},A=function(){console.log(8),""===h.trim()?console.log(9):(console.log(10),p((function(e){return[].concat(Object(Ut.a)(e),[{message:h,createdAt:new Date,sender:t}])})),C.emit("doSendMessage",{message:h,sender:t,receiver:k}),m(""))};return Object(oe.jsxs)("div",{className:"ChatBox",children:[Object(oe.jsxs)("div",{className:"header",children:[Object(oe.jsxs)("div",{className:"detailes",children:[Object(oe.jsx)("div",{className:"backbtn",children:Object(oe.jsx)(D.a,{style:{background:"#ffffff"},children:Object(oe.jsx)(Qa.a,{style:{color:"#007fff"}})})}),Object(oe.jsx)("div",{className:"img",children:Object(oe.jsx)("img",{src:w.ProfilePhotos?w.ProfilePhotos:qe,alt:""})}),Object(oe.jsxs)("div",{children:[Object(oe.jsx)("div",{className:"name",children:w.name}),Object(oe.jsx)("span",{className:"lastseen",children:"1d ago"})]})]}),Object(oe.jsxs)("div",{children:[Object(oe.jsx)($a.a,{title:"Account settings",children:Object(oe.jsx)(D.a,{onClick:function(e){console.log(14),l(e.currentTarget)},size:"large",sx:{ml:2},children:Object(oe.jsx)(Xa.a,{style:{color:"#ffffff"}})})}),Object(oe.jsxs)(we.a,{anchorEl:r,open:d,onClose:E,onClick:E,PaperProps:{elevation:0,sx:{overflow:"visible",filter:"drop-shadow(0px 2px 8px rgba(0,0,0,0.32))",mt:1.5,"& .MuiAvatar-root":{width:32,height:32,ml:-.5,mr:1},"&:before":{content:'""',display:"block",position:"absolute",top:0,right:14,width:10,height:10,bgcolor:"background.paper",transform:"translateY(-50%) rotate(45deg)",zIndex:0}}},transformOrigin:{horizontal:"right",vertical:"top"},anchorOrigin:{horizontal:"right",vertical:"bottom"},children:[Object(oe.jsxs)(ye.a,{children:[Object(oe.jsx)(P.a,{})," Profile"]}),Object(oe.jsxs)(ye.a,{children:[Object(oe.jsx)(P.a,{})," My account"]}),Object(oe.jsx)(Ne.a,{}),Object(oe.jsxs)(ye.a,{children:[Object(oe.jsx)(Se.a,{children:Object(oe.jsx)(Ga.a,{fontSize:"small"})}),"Add another account"]}),Object(oe.jsxs)(ye.a,{children:[Object(oe.jsx)(Se.a,{children:Object(oe.jsx)(Ie.a,{fontSize:"small"})}),"Settings"]}),Object(oe.jsxs)(ye.a,{children:[Object(oe.jsx)(Se.a,{children:Object(oe.jsx)(Pe.a,{fontSize:"small"})}),"Logout"]})]})]})]}),Object(oe.jsx)("div",{className:"viewMessage",children:null===f||void 0===f?void 0:f.map((function(e,n){return Object(oe.jsx)("div",{ref:j,children:Object(oe.jsx)(nc,{item:e,currentUser:t})},n)}))}),Object(oe.jsxs)("div",{className:"sendMessage",children:[Object(oe.jsx)(D.a,{children:Object(oe.jsx)(ec.a,{style:{color:"#077fff"}})}),Object(oe.jsx)(D.a,{children:Object(oe.jsx)(tc.a,{})}),Object(oe.jsx)("input",{type:"text",className:"input",value:h,onChange:function(e){return m(e.target.value)},onKeyPress:function(e){13==e.charCode&&A()}}),Object(oe.jsx)(D.a,{style:{background:"#007fff",marginLeft:"20px",marginRight:"20px"},onClick:A,children:Object(oe.jsx)(Tt.a,{style:{color:"#fff"}})})]})]})},cc=n(475);var sc=function(e){var t=e.user,n=e.handleChatSelected;return Object(oe.jsxs)("div",{className:"UserCard",onClick:function(){return n(t._id)},children:[Object(oe.jsxs)("div",{className:"Profile",children:[Object(oe.jsx)("div",{className:"img",children:Object(oe.jsx)("img",{src:t.profilePhotos?t.profilePhotos:qe,alt:""})}),Object(oe.jsx)("div",{children:Object(oe.jsxs)("span",{className:"fw-bold",children:[t.name,"   "]})})]}),Object(oe.jsx)("div",{className:"badge",children:Object(oe.jsx)("span",{})})]})},oc=Object(Fe.a)({logo:{color:"#ffffff",fontFamily:"Montserrat, sans-serif",fontWeight:700,fontSize:22}});var ic=function(e){var t=e.userId,n=e.handleChatSelected,c=oc(),s=Object(a.useState)([]),o=Object(i.a)(s,2),r=o[0],l=o[1];return Object(a.useEffect)((function(){console.log(t),void 0!==t&&Z({userId:t}).then((function(e){console.log(e),l(e)})).catch((function(){}))}),[t]),Object(oe.jsxs)("div",{className:"ChatList",children:[Object(oe.jsxs)("div",{className:"header",children:[Object(oe.jsx)(F.a,{className:c.logo,variant:"p",children:"Social Media"}),Object(oe.jsx)(D.a,{children:Object(oe.jsx)(cc.a,{style:{color:"#ffffff"}})})]}),Object(oe.jsxs)("div",{className:"search",children:[Object(oe.jsx)("input",{type:"text",placeholder:"Search Your Friends..........."}),Object(oe.jsx)(D.a,{children:Object(oe.jsx)(Ae.a,{style:{color:"#ffffff"}})})]}),Object(oe.jsx)("div",{className:"userList",children:null===r||void 0===r?void 0:r.map((function(e){return Object(oe.jsx)(sc,{user:e.user,handleChatSelected:n})}))})]})},rc=n.p+"static/media/messageFun.efa5801e.svg";var lc=function(){return Object(oe.jsxs)("div",{className:"OpenMessageBox ChatBox",children:[Object(oe.jsx)("div",{className:"header"}),Object(oe.jsxs)("div",{className:"d-flex align-items-center justify-content-center w-100 h-100  flex-column ",children:[Object(oe.jsx)("img",{src:rc,alt:"",style:{width:"250px "}}),Object(oe.jsx)(F.a,{style:{color:"#007fff",fontWeight:"bold"},children:"Start Chating..........! "})]})]})};var dc=function(){var e=Object(r.i)().userId,t=Object(r.g)(),n=Object(d.c)((function(e){return e.user.user})),c=Object(a.useState)(""),s=Object(i.a)(c,2),o=(s[0],s[1],n);return Object(oe.jsxs)("div",{className:"MessengerPage",children:[Object(oe.jsxs)(A.a,{container:!0,children:[Object(oe.jsx)(A.a,{item:!0,xs:0,md:4,sx:{display:{xs:"none",md:"block",lg:"block"}},style:{margin:"0px",padding:"0px"},children:o&&Object(oe.jsx)(ic,{userId:o._id,handleChatSelected:function(e){t.push("/Messenger/".concat(e))}})}),Object(oe.jsx)(A.a,{item:!0,xs:12,md:8,className:"",children:e?Object(oe.jsx)(ac,{selectedChat:e,currentUser:o._id}):null})]}),Object(oe.jsx)(Ue,{})]})};var jc=function(){var e=Object(r.g)(),t=Object(d.c)((function(e){return e.user.user})),n=Object(a.useState)(""),c=Object(i.a)(n,2),s=(c[0],c[1]);return Object(oe.jsxs)("div",{className:"MessengerPage",children:[Object(oe.jsxs)(A.a,{container:!0,children:[Object(oe.jsx)(A.a,{item:!0,xs:0,md:4,sx:{display:{xs:"none",md:"block",lg:"block"}},style:{margin:"0px",padding:"0px"},children:t&&Object(oe.jsx)(ic,{userId:t._id,handleChatSelected:function(t){s(t),e.push("/Messenger/".concat(t))}})}),Object(oe.jsx)(A.a,{item:!0,xs:12,md:8,className:"",children:Object(oe.jsx)(lc,{})})]}),Object(oe.jsx)(Ue,{})]})},uc=(n(359),Object(u.c)({name:"selectedStorySlice",initialState:{selectedStorySlice:null},reducers:{setselectedStorySlice:function(e,t){e.selectedStorySlice=t.payload},removeselectedStorySlice:function(e){e.selectedStorySlice=null}}})),bc=uc.actions,hc=bc.setselectedStorySlice,mc=(bc.removeselectedStorySlice,uc.reducer);var Oc=function(){var e=Object(d.b)(),t=Object(d.c)((function(e){return e.user.user})),n=Object(r.g)(),c=Object(a.useState)(),s=Object(i.a)(c,2),o=s[0],l=s[1];Object(a.useEffect)((function(){var e;console.log(t),l(null===(e=t.ProfilePhotos)||void 0===e?void 0:e.slice(-1)[0])}),[t]);var j=Object(a.useState)(null),u=Object(i.a)(j,2),b=u[0],h=u[1];Object(a.useEffect)((function(){X().then((function(e){h(e.stories)}))}),[]);var m=function(t){e(hc(t)),n.push("/viewStories")};return Object(oe.jsxs)("div",{className:"SideBar ",children:[Object(oe.jsxs)("div",{className:"d-flex justify-content-between align-items-center",children:[Object(oe.jsx)("h3",{children:"Your Stories"}),Object(oe.jsx)(D.a,{size:"large",style:{backgroundColor:"#eeeeee"},children:Object(oe.jsx)(Ie.a,{style:{color:"#111111"}})})]}),Object(oe.jsx)("div",{children:Object(oe.jsxs)("div",{className:"profile",onClick:m,children:[Object(oe.jsx)("div",{className:"img",children:Object(oe.jsx)("img",{src:o||qe,alt:""})}),Object(oe.jsx)("div",{children:Object(oe.jsx)("span",{children:null===t||void 0===t?void 0:t.name})})]})}),Object(oe.jsx)("hr",{}),Object(oe.jsx)("div",{children:null===b||void 0===b?void 0:b.map((function(e,t){var n,a,c;return console.log(e),Object(oe.jsxs)("div",{className:"profile",onClick:function(){return m(e._id)},children:[Object(oe.jsx)("div",{className:"img",children:Object(oe.jsx)("img",{src:(null===e||void 0===e||null===(n=e.user)||void 0===n?void 0:n.ProfilePhotos)?null===e||void 0===e||null===(a=e.user)||void 0===a?void 0:a.ProfilePhotos:qe,alt:""})}),Object(oe.jsx)("div",{children:Object(oe.jsxs)("span",{children:[null===e||void 0===e||null===(c=e.user)||void 0===c?void 0:c.name,"    "]})})]})}))})]})},xc=n(476),fc=n(511);var pc=function(e){var t=e.files,n=e.submit,a=e.progress;return Object(oe.jsxs)("div",{className:"Preview",children:[Object(oe.jsx)(F.a,{sx:{display:{xs:"none",md:"block",lg:"block"}},variant:"h4",children:"Preview"}),Object(oe.jsxs)("div",{className:"BlackScreen",children:[Object(oe.jsxs)("div",{className:"screen",children:[a>1?Object(oe.jsx)(_.a,{sx:{width:"360px",height:"10px",marginTop:"25px",position:"absolute",top:"10px",zIndex:100},children:Object(oe.jsx)(ea.a,{variant:"buffer",value:a})}):null,t.map((function(e){var t=URL.createObjectURL(e),n=e.type.split("/")[0];return"image"===n?Object(oe.jsx)("img",{src:t,alt:""}):"video"===n?Object(oe.jsxs)("video",{autoPlay:!0,muted:!0,className:"",children:[" ",Object(oe.jsx)("source",{src:t}),"This browser doesn't support video tag."]}):void 0}))]}),Object(oe.jsx)(fc.a,{color:"primary","aria-label":"add",sx:{position:"absolute",bottom:16,right:16},onClick:n,children:Object(oe.jsx)(xc.a,{})})]})]})},gc=n(500);var vc=function(e){var t=e.onInputChange;return Object(oe.jsx)("div",{className:"Choosefile",children:Object(oe.jsx)("div",{className:"select",children:Object(oe.jsxs)("div",{className:"d-flex flex-column align-items-center",children:[Object(oe.jsxs)("label",{htmlFor:"contained-button-file",children:[Object(oe.jsx)(gc.a,{accept:"image/*",id:"contained-button-file",onChange:t,style:{display:"none"},type:"file"}),Object(oe.jsx)(D.a,{style:{backgroundColor:"#D0FAE4",marginRight:10},"aria-label":"upload picture",component:"span",children:Object(oe.jsx)(Zn.a,{style:{color:"#06966A"}})})]}),"Create a Photo Story"]})})})},wc=5120;var yc=function(){var e=Object(a.useState)([]),t=Object(i.a)(e,2),n=t[0],c=t[1],s=Object(a.useState)(null),o=Object(i.a)(s,2),l=o[0],j=o[1],u=Object(a.useState)(null),b=Object(i.a)(u,2),h=b[0],m=b[1],O=Object(a.useState)(null),x=Object(i.a)(O,2),f=x[0],p=x[1],g=Object(a.useState)(null),v=Object(i.a)(g,2),w=v[0],y=v[1],N=Object(r.g)(),S=Object(d.c)((function(e){return e.user.user}));function C(){var e=new FileReader,t=n[l];if(t){var a=f*wc,c=a+wc,s=t.slice(a,c);e.onload=function(e){return function(e){var t=n[l],a=e.target.result,c=new URLSearchParams;c.set("name",t.name),c.set("size",t.size),c.set("userId",S._id),c.set("currentChunkIndex",f),c.set("totalChunks",Math.ceil(t.size/wc));var s={"Content-Type":"application/octet-stream"},o="http://localhost:4000/api/v1/user/addStory?"+c.toString();K.a.post(o,a,{headers:s}).then((function(e){var t=n[l],a=n[l].size,c=Math.ceil(a/wc)-1;f===c?(t.finalFilename=e.data.finalFilename,m(l),console.log(e),p(null),N.push("/")):p(f+1)}))}(e)},e.readAsDataURL(s)}}return Object(a.useEffect)((function(){if(null!==h){var e=h===n.length-1;j(e?null:l+1)}}),[h]),Object(a.useEffect)((function(){null!==l&&p(0)}),[l]),Object(a.useEffect)((function(){null!==f&&C(),null===n||void 0===n||n.map((function(e,t){if(y(0),e.finalFilename)y(100);else{var n=t===l,a=Math.ceil(e.size/wc);y(n?Math.round(f/a*100):0)}}))}),[f]),Object(oe.jsxs)("div",{className:"CreateStories",children:[Object(oe.jsx)(De,{}),Object(oe.jsxs)(A.a,{container:!0,children:[Object(oe.jsx)(A.a,{item:!0,xs:12,md:3,sx:{display:{xs:"none",md:"none",lg:"block"}},className:"p-4 mt-5",children:Object(oe.jsx)("div",{style:{position:"sticky",top:"-150px"},children:Object(oe.jsx)(Oc,{})})}),Object(oe.jsx)(A.a,{item:!0,xs:12,md:9,className:" mt-4 mx-auto",children:(null===n||void 0===n?void 0:n.length)>0?Object(oe.jsx)(pc,{files:n,submit:function(e){e.preventDefault(),n.length>0&&null===l&&j(null===h?0:h+1)},progress:w}):Object(oe.jsx)(vc,{onInputChange:function(e){e.preventDefault(),c([].concat(Object(Ut.a)(n),Object(Ut.a)(e.target.files)))}})})]}),Object(oe.jsx)(Ue,{})]})};n(360);vt.d.use([vt.a,vt.b]);var Nc=function(e){var t=e.stories,n=Object(a.useRef)(null),c=Object(a.useState)(5e3),s=Object(i.a)(c,2),o=s[0],r=s[1],l=Object(d.c)((function(e){return e.selectedStorySlice.selectedStorySlice})),j=Object(a.useState)([]),u=Object(i.a)(j,2),b=u[0],h=u[1];return Object(a.useEffect)((function(){var e=t.findIndex((function(e){return e._id==l}));console.log("stories",t),console.log("stories.slice",t.slice(e,t.length)),h(t.slice(e,t.length))}),[l]),Object(oe.jsxs)("div",{className:"ViewStories",children:[Object(oe.jsx)(F.a,{sx:{display:{xs:"none",md:"block",lg:"block"}},variant:"h4",children:"View"}),Object(oe.jsx)("div",{className:"BlackScreen",children:Object(oe.jsx)("div",{className:"screen",children:Object(oe.jsx)(gt.a,{navigation:!0,onSlideChange:function(e){var t,a,c,s;(console.log(e),"VIDEO"===(null===n||void 0===n||null===(t=n.current)||void 0===t||null===(a=t.firstChild)||void 0===a?void 0:a.tagName))&&(r(null===n||void 0===n||null===(c=n.current)||void 0===c||null===(s=c.firstChild)||void 0===s?void 0:s.duration),console.log(o))},autoplay:{delay:2500,disableOnInteraction:!1},className:"mySwiper",children:null===b||void 0===b?void 0:b.map((function(e,t){var a,c,s,i,r,l;console.log(e.createdAt);var d=null===e||void 0===e||null===(a=e.files)||void 0===a||null===(c=a.file)||void 0===c?void 0:c.split("."),j=d[d.length-1];return Object(oe.jsxs)(oe.Fragment,{children:[("jpeg"===j||"jpg"===j||"png"===j)&&Object(oe.jsxs)(gt.b,{children:[Object(oe.jsx)("img",{src:e.files.file,alt:"",className:"imgOne"}),Object(oe.jsxs)("div",{className:"Profile",children:[Object(oe.jsx)("div",{className:"img",children:Object(oe.jsx)("img",{src:(null===e||void 0===e||null===(s=e.user)||void 0===s?void 0:s.ProfilePhotos)?null===e||void 0===e||null===(i=e.user)||void 0===i?void 0:i.ProfilePhotos:qe,style:{width:"50px",height:"50px",marginRight:"20px",marginLeft:"20px"},alt:""})}),Object(oe.jsxs)("div",{children:[Object(oe.jsx)("span",{children:e.user.name}),Object(oe.jsx)("p",{children:ut()(e.files.createdAt).fromNow()})]})]})]},t),"mp4"===j&&Object(oe.jsxs)(gt.b,{"data-swiper-autoplay":1e3*o,ref:n,children:[Object(oe.jsxs)("video",{autoPlay:!0,muted:!0,className:"imgOne video",loop:!0,children:[" ",Object(oe.jsx)("source",{src:e.files.file}),"This browser doesn't support video tag."]}),Object(oe.jsxs)("div",{className:"Profile",children:[Object(oe.jsx)("div",{className:"img",children:Object(oe.jsx)("img",{src:(null===e||void 0===e||null===(r=e.user)||void 0===r?void 0:r.ProfilePhotos)?null===e||void 0===e||null===(l=e.user)||void 0===l?void 0:l.ProfilePhotos:null,style:{width:"50px",height:"50px",marginRight:"20px",marginLeft:"20px"},alt:""})}),Object(oe.jsx)("div",{children:Object(oe.jsx)("span",{children:e.user.name})})]})]},t)]})}))})})})]})};var Sc=function(){var e=Object(a.useState)([]),t=Object(i.a)(e,2),n=t[0],c=t[1];return Object(a.useEffect)((function(){Q().then((function(e){c(e.stories)}))}),[]),Object(oe.jsxs)("div",{children:[Object(oe.jsx)(De,{}),Object(oe.jsxs)(A.a,{container:!0,children:[Object(oe.jsx)(A.a,{item:!0,xs:12,md:3,sx:{display:{xs:"none",md:"none",lg:"block"}},className:"p-4 mt-5",children:Object(oe.jsx)("div",{style:{position:"sticky",top:"-150px"},children:Object(oe.jsx)(Oc,{stories:n})})}),Object(oe.jsx)(A.a,{item:!0,xs:12,md:9,className:" mt-4 mx-auto",children:Object(oe.jsx)(Nc,{stories:n})})]}),Object(oe.jsx)(Ue,{})]})};n(361);var Cc=function(e){var t,n=e.user,c=Object(a.useState)({}),s=Object(i.a)(c,2),o=s[0],l=s[1],d=Object(a.useState)(!1),u=Object(i.a)(d,2),b=u[0],h=u[1],m=Object(r.g)(),O=function(e){h(!0),l(Object(j.a)(Object(j.a)({},o),{},Object(de.a)({},e.target.name,e.target.value)))};return Object(a.useEffect)((function(){var e;void 0===n._id||(e=null===n||void 0===n?void 0:n._id,new Promise(function(){var t=Object(q.a)(U.a.mark((function t(n,a){var c;return U.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:c=localStorage.getItem("token"),K.a.get("http://localhost:4000/api/v1/user/getSocialAccounts/".concat(e),{headers:{Authorization:c}}).then((function(e){console.log(e),n(e.data)})).catch((function(e){console.log("err",e),a(e)}));case 2:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}())).then((function(e){console.log(e),l(null===e||void 0===e?void 0:e.socialAccounts[0])}))}),[n]),Object(oe.jsx)("div",{className:"AddSocialAccount",children:Object(oe.jsxs)("div",{className:"card ",children:[Object(oe.jsxs)("div",{className:"Head",children:[Object(oe.jsx)("div",{className:"backIcon",children:Object(oe.jsxs)(D.a,{style:{backgroundColor:"#ffffff",marginRight:"20px"},children:["  ",Object(oe.jsx)(qn.a,{style:{color:"#007fff"}})]})}),"Account Details"]}),Object(oe.jsxs)("div",{className:"profile p-3",children:[Object(oe.jsx)("div",{className:"img",children:Object(oe.jsx)("img",{src:null===n||void 0===n||null===(t=n.ProfilePhotos)||void 0===t?void 0:t.slice(-1).pop(),alt:""})}),Object(oe.jsx)(F.a,{variant:"h5",children:null===n||void 0===n?void 0:n.name}),Object(oe.jsx)(F.a,{variant:"h6",children:null===n||void 0===n?void 0:n.username})]}),Object(oe.jsx)("div",{className:"Details p-3",children:Object(oe.jsx)("form",{action:"",children:Object(oe.jsxs)("div",{className:"row",children:[Object(oe.jsx)("div",{className:"col-lg-6 p-4",children:Object(oe.jsx)(E.a,{id:"input-with-icon-textfield",label:"Facebook",name:"Facebook",type:"url",fullWidth:!0,value:null===o||void 0===o?void 0:o.Facebook,onChange:O,placeholder:"https://www.facebook.com",InputProps:{startAdornment:Object(oe.jsx)(La.a,{position:"start",children:Object(oe.jsx)(In.a,{style:{color:"#4065AD"}})})},variant:"outlined"})}),Object(oe.jsx)("div",{className:"col-lg-6 p-4",children:Object(oe.jsx)(E.a,{id:"input-with-icon-textfield",label:"Twitter",type:"url",name:"Twitter",value:null===o||void 0===o?void 0:o.Twitter,fullWidth:!0,placeholder:"https://twitter.com",onChange:O,InputProps:{startAdornment:Object(oe.jsx)(La.a,{position:"start",children:Object(oe.jsx)(En.a,{style:{color:"#00acee"},Size:"40px"})})},variant:"outlined"})}),Object(oe.jsx)("div",{className:"col-lg-6 p-4",children:Object(oe.jsx)(E.a,{id:"input-with-icon-textfield",label:"LinkedIn",name:"LinkedIn",type:"url",fullWidth:!0,onChange:O,value:null===o||void 0===o?void 0:o.LinkedIn,placeholder:"https://www.linkedin.com",InputProps:{startAdornment:Object(oe.jsx)(La.a,{position:"start",children:Object(oe.jsx)(An.a,{style:{color:"#0e76a8"}})})},variant:"outlined"})}),Object(oe.jsx)("div",{className:"col-lg-6 p-4",children:Object(oe.jsx)(E.a,{id:"input-with-icon-textfield",label:"Instagram",name:"Instagram",type:"url",onChange:O,value:null===o||void 0===o?void 0:o.Instagram,fullWidth:!0,placeholder:"https://www.instagram.com",InputProps:{startAdornment:Object(oe.jsx)(La.a,{position:"start",children:Object(oe.jsx)(_n.a,{style:{color:"#E1416A",size:"40px"}})})},variant:"outlined"})}),Object(oe.jsx)("div",{className:"d-flex align-items-center justify-content-center",children:Object(oe.jsx)(k.a,{variant:"contained",onClick:function(){console.log(o),function(e){var t=e.socialAccounts,n=e.userId;return console.log(t,n),new Promise(function(){var e=Object(q.a)(U.a.mark((function e(a,c){var s;return U.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:s=localStorage.getItem("token"),K.a.post("http://localhost:4000/api/v1/user/AddSocialAccount",{socialAccounts:t,userId:n},{headers:{Authorization:s}}).then((function(e){console.log(e),localStorage.setItem("user",JSON.stringify(e.data)),a(e.data.user)})).catch((function(e){console.log("err",e),c(e)}));case 2:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}())}({socialAccounts:o,userId:n._id}).then((function(){rn.a.fire("Updated!","Your profile is Updated.","success").then((function(){m.push("/settings")}))}))},disabled:!b,children:"Save"})})]})})})]})})};n(362);var Pc=function(){var e=Object(d.c)((function(e){return e.user.user}));return Object(oe.jsxs)("div",{className:"AddSocialAccountsPage",children:[Object(oe.jsx)(De,{}),Object(oe.jsxs)(A.a,{container:!0,style:{marginTop:"70px"},children:[Object(oe.jsx)(A.a,{item:!0,xs:12,md:2.5,sx:{display:{xs:"none",md:"none",lg:"block"}},className:"left",children:Object(oe.jsxs)("div",{style:{position:"sticky",top:"-150px"},children:[Object(oe.jsx)(He,{}),Object(oe.jsx)(Ge,{}),Object(oe.jsx)(Qe,{})]})}),Object(oe.jsx)(A.a,{item:!0,xs:12,md:6.5,className:"mx-auto",style:{paddingTop:"20px"},children:Object(oe.jsx)(Cc,{user:e})}),Object(oe.jsx)(A.a,{item:!0,xs:12,md:3,sx:{display:{xs:"none",md:"none",lg:"block"}},className:"right",children:Object(oe.jsx)("div",{style:{position:"sticky",bottom:"100vh"},children:Object(oe.jsx)(Ht,{user:e})})})]}),Object(oe.jsx)(Ue,{})]})},kc=rn.a.mixin({toast:!0,position:"bottom-end",showConfirmButton:!1,timer:3e3,timerProgressBar:!0,didOpen:function(e){e.addEventListener("mouseenter",rn.a.stopTimer),e.addEventListener("mouseleave",rn.a.resumeTimer)}});var Ic=function(){var e=Object(r.g)(),t=Object(r.h)(),n=Object(d.b)(),c=Object(a.useState)(localStorage.getItem("token")),s=Object(i.a)(c,2),o=s[0],j=s[1],u=JSON.parse(localStorage.getItem("user"));Object(a.useEffect)((function(){var e=JSON.parse(localStorage.getItem("user"));console.log("routersoket",C),C.on("likemsg",(function(e){alert(e)})),C.on("sendLikeNotification",(function(e){var t=e.notifications,a=e.unReadNotificationsCount;n(v(a)),kc.fire({title:"".concat(t.user.name," Liked Your Post")})})),C.on("sendCommentNotification",(function(e){var t=e.notifications,a=e.unReadNotificationsCount;n(v(a)),kc.fire({title:"".concat(t.user.name," Commented Your Post")})})),C.on("save",(function(e){})),C.emit("getNotificationCound",{userId:null===e||void 0===e?void 0:e._id}),C.on("notificationCound",(function(e){console.log(e),n(v(e.notification))}))}),[u]),Object(a.useEffect)((function(){console.log("router");var e=localStorage.getItem("token");e?(n(m(JSON.parse(localStorage.getItem("user")))),j(e),1e3*Object(l.a)(e).exp<(new Date).getTime()&&b()):j(null)}),[t]);var b=function(){localStorage.removeItem("token"),localStorage.removeItem("user"),j(null),e.push("/login")};return Object(oe.jsxs)(r.d,{children:[Object(oe.jsx)(r.b,{exact:!0,path:"/",children:o?Object(oe.jsx)(Yt,{}):Object(oe.jsx)(r.a,{to:"/login"})}),Object(oe.jsx)(r.b,{exact:!0,path:"/login",children:o?Object(oe.jsx)(r.a,{to:"/"}):Object(oe.jsx)(fe,{})}),Object(oe.jsx)(r.b,{exact:!0,path:"/signup",children:o?Object(oe.jsx)(r.a,{to:"/"}):Object(oe.jsx)(_a,{})}),Object(oe.jsx)(r.b,{exact:!0,path:"/emailSignup",children:o?Object(oe.jsx)(r.a,{to:"/"}):Object(oe.jsx)(le,{})}),Object(oe.jsx)(r.b,{exact:!0,path:"/forgotPassword",children:o?Object(oe.jsx)(r.a,{to:"/"}):Object(oe.jsx)(Fa,{})}),Object(oe.jsx)(r.b,{path:"/profile/:userId",children:o?Object(oe.jsx)(Tn,{}):Object(oe.jsx)(r.a,{to:"/login"})}),Object(oe.jsx)(r.b,{path:"/settings",children:o?Object(oe.jsx)(Un,{}):Object(oe.jsx)(r.a,{to:"/login"})}),Object(oe.jsx)(r.b,{path:"/AccountDetails",children:o?Object(oe.jsx)(Kn,{}):Object(oe.jsx)(r.a,{to:"/login"})}),Object(oe.jsx)(r.b,{path:"/search",children:o?Object(oe.jsx)($n,{}):Object(oe.jsx)(r.a,{to:"/login"})}),Object(oe.jsx)(r.b,{path:"/createpost",children:o?Object(oe.jsx)(Na,{}):Object(oe.jsx)(r.a,{to:"/login"})}),Object(oe.jsx)(r.b,{path:"/notification",children:o?Object(oe.jsx)(ka,{}):Object(oe.jsx)(r.a,{to:"/login"})}),Object(oe.jsx)(r.b,{path:"/test",children:o?Object(oe.jsx)(sa,{}):Object(oe.jsx)(r.a,{to:"/login"})}),Object(oe.jsx)(r.b,{path:"/passwordReset",children:o?Object(oe.jsx)(Ka,{}):Object(oe.jsx)(r.a,{to:"/login"})}),Object(oe.jsx)(r.b,{path:"/resetPasswords",children:o?Object(oe.jsx)(Ja,{}):Object(oe.jsx)(r.a,{to:"/login"})}),Object(oe.jsx)(r.b,{exact:!0,path:"/Messenger",children:o?Object(oe.jsx)(jc,{}):Object(oe.jsx)(r.a,{to:"/login"})}),Object(oe.jsx)(r.b,{path:"/Messenger/:userId",children:o?Object(oe.jsx)(dc,{}):Object(oe.jsx)(r.a,{to:"/login"})}),Object(oe.jsx)(r.b,{path:"/createStories",children:o?Object(oe.jsx)(yc,{}):Object(oe.jsx)(r.a,{to:"/login"})}),Object(oe.jsx)(r.b,{path:"/viewStories",children:o?Object(oe.jsx)(Sc,{}):Object(oe.jsx)(r.a,{to:"/login"})}),Object(oe.jsx)(r.b,{path:"/AddSocialAccount",children:o?Object(oe.jsx)(Pc,{}):Object(oe.jsx)(r.a,{to:"/login"})})]})},Ec=n(165),Ac=Object(u.c)({name:"newPost",initialState:{post:null},reducers:{setNewPostAction:function(e,t){e.post=t.payload},removeNewPostAction:function(e){e.post=null}}}),_c=Ac.actions,Rc=(_c.setNewPostAction,_c.removeNewPostAction,Ac.reducer),Tc=(Object(u.b)({isSerializable:function(e){return Ec.a.isIterable(e)||Object(u.e)(e)},getEntries:function(e){return Ec.a.isIterable(e)?e.entries():Object.entries(e)}}),Object(u.d)({serializableCheck:!1}),Object(u.a)({reducer:{user:x,newPost:Rc,socket:p,notificationCount:w,selectedStorySlice:mc},middleware:function(e){return e()}}));var Fc=function(){return Object(oe.jsx)(d.a,{store:Tc,children:Object(oe.jsx)("div",{className:"App",children:Object(oe.jsx)(Ic,{})})})};o.a.render(Object(oe.jsx)(ne.a,{children:Object(oe.jsx)(c.a.StrictMode,{children:Object(oe.jsx)(Fc,{})})}),document.getElementById("root"))}},[[363,1,2]]]);
//# sourceMappingURL=main.8e924e73.chunk.js.map