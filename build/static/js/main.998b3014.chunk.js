(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{121:function(e,t,n){},182:function(e,t,n){},193:function(e,t,n){},194:function(e,t,n){},252:function(e,t,n){},253:function(e,t,n){},283:function(e,t,n){},284:function(e,t,n){},285:function(e,t,n){},286:function(e,t,n){},287:function(e,t,n){},288:function(e,t,n){},289:function(e,t,n){},290:function(e,t,n){},291:function(e,t,n){},292:function(e,t,n){},293:function(e,t,n){},294:function(e,t,n){},296:function(e,t,n){},324:function(e,t,n){},330:function(e,t,n){},331:function(e,t,n){},332:function(e,t,n){},333:function(e,t,n){},334:function(e,t,n){},335:function(e,t,n){},336:function(e,t,n){},337:function(e,t,n){},338:function(e,t,n){},343:function(e,t,n){},344:function(e,t,n){},345:function(e,t,n){},346:function(e,t,n){},356:function(e,t,n){},357:function(e,t,n){},358:function(e,t,n){},359:function(e,t,n){},360:function(e,t,n){},362:function(e,t,n){},363:function(e,t,n){},364:function(e,t,n){"use strict";n.r(t);var a=n(1),c=n.n(a),s=n(58),i=n.n(s),r=(n(252),n(253),n(3)),o=n(29),l=n(197),d=n(16),j=n(4),u=n(41),b=Object(u.c)({name:"user",initialState:{user:{name:"Abhinav kallungal",email:null,token:null}},reducers:{loginAction:function(e,t){e.user=Object(j.a)({},t.payload)},logoutAction:function(e){e.user=null,localStorage.removeItem("token"),localStorage.removeItem("user"),window.location.reload()}}}),h=b.actions,m=h.loginAction,O=h.logoutAction,x=b.reducer,f=Object(u.c)({name:"notificationCount",initialState:{notificationCount:0},reducers:{setNotificationCountAction:function(e,t){console.log(t.payload),e.notificationCount=t.payload}}}),p=f.actions.setNotificationCountAction,v=f.reducer,g=n(224),w=Object(g.a)("http://localhost:4000",{transports:["websocket"]}),y=JSON.parse(localStorage.getItem("user"));w.on("connect",(function(){y&&w&&w.emit("login",{id:w.id,userId:y._id})})),w.on("connect_error",(function(e){console.log("connect_error due to ".concat(e))}));var N=w,S=n(489),C=n(488),P=n(423),k=n(484),I=n(487),E=n(495),A=n(64),_=n.n(A),R=n(493),T=n(498),F=n(503),z=n(494),D=n(225),W=n(512),L=n(14),M=n.n(L),B=n(23),U=n(20),q=n.n(U),H="http://socialmediaserver.kallungal.tech",K=function(e){return new Promise(function(){var t=Object(B.a)(M.a.mark((function t(n,a){return M.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,q.a.post(H+"/api/v1/user/checkUserName",e).then((function(e){n(e)})).catch((function(e){a({usernameExist:!0,message:"choose another one"})}));case 2:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}())},V=function(e){return new Promise(function(){var t=Object(B.a)(M.a.mark((function t(n,a){return M.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,q.a.post(H+"/api/v1/user/signup",e).then((function(e){n(e.data)})).catch((function(e){a(e)}));case 2:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}())},Y=function(e){var t=e.email;return new Promise(function(){var e=Object(B.a)(M.a.mark((function e(n,a){return M.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:q.a.post("http://localhost:4000/api/v1/user/thirdPartyLogin",{email:t}).then((function(e){localStorage.setItem("token",e.data.token),localStorage.setItem("user",JSON.stringify(e.data.user)),n(e.data)})).catch((function(e){a(e)}));case 1:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}())},J=function(e){return new Promise(function(){var t=Object(B.a)(M.a.mark((function t(n,a){var c;return M.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:c=localStorage.getItem("token"),q.a.post(H+"/api/v1/user/addpost",e,{headers:{Authorization:c,"Content-Type":"multipart/form-data"}}).then((function(e){n(e.data.post)})).catch((function(e){a(e)}));case 2:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}())},$=function(e){var t=e.userId;return new Promise(function(){var e=Object(B.a)(M.a.mark((function e(n,a){var c;return M.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:c=localStorage.getItem("token"),q.a.get("http://localhost:4000/api/v1/user/getFriends/".concat(t),{headers:{Authorization:c}}).then((function(e){n(e.data.friends)})).catch((function(e){a(e)}));case 2:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}())},Z=function(e){var t=e.userId,n=e.currentuserId;return new Promise((function(e,a){var c=localStorage.getItem("token");q.a.post(H+"/api/v1/user/follow",{userId:t,currentuserId:n},{headers:{Authorization:c}}).then((function(t){e(t.data)})).catch((function(e){a(e)}))}))},G=function(){return new Promise(function(){var e=Object(B.a)(M.a.mark((function e(t,n){var a;return M.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a=localStorage.getItem("token"),q.a.get(H+"/api/v1/user/getALLStories",{headers:{Authorization:a}}).then((function(e){t(e.data)})).catch((function(e){n(e)}));case 2:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}())},Q=function(){return new Promise(function(){var e=Object(B.a)(M.a.mark((function e(t,n){var a;return M.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a=localStorage.getItem("token"),q.a.get(H+"/api/v1/user/getStoriesSideBar",{headers:{Authorization:a}}).then((function(e){t(e.data)})).catch((function(e){n(e)}));case 2:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}())},X=n(128),ee=n.n(X),te=n(13),ne=n(424),ae=n(429),ce=n(496),se=n(0);function ie(e){return Object(se.jsxs)(R.a,Object(j.a)(Object(j.a)({variant:"body2",color:"text.secondary",align:"center"},e),{},{children:["Copyright \xa9 ",Object(se.jsx)(te.b,{color:"inherit",href:"https://mui.com/",children:"Your Website"})," ",(new Date).getFullYear(),"."]}))}var re=Object(D.a)();function oe(){var e=Object(o.g)(),t=Object(a.useState)({email:"",name:"",username:"",password:"",usernameExist:!0,otp:""}),n=Object(r.a)(t,2),c=n[0],s=n[1],i=Object(a.useState)({usernameExist:"",name:"",username:"",password:"",email:"",otp:""}),l=Object(r.a)(i,2),d=l[0],u=l[1],b=Object(a.useState)(!1),h=Object(r.a)(b,2),m=h[0],O=h[1],x=Object(a.useState)(!1),f=Object(r.a)(x,2),p=f[0],v=f[1],g=Object(a.useState)(!1),w=Object(r.a)(g,2),y=w[0],N=w[1],A=Object(a.useState)({minute:"",seconds:""}),D=Object(r.a)(A,2),L=D[0],U=D[1];Object(a.useEffect)((function(){var e=10;if(p);else var t=setInterval((function(){U({minute:Math.floor(e/60),seconds:Math.floor(e%60)}),-1===--e&&(clearInterval(t),v(!0))}),1e3)}),[p]);var Y=function(e){if(e.preventDefault(),N(!0),""===d.name&&""!==c.name&&""===d.username&&""===d.usernameExist&&""!==c.username&&""===d.email&&""!==c.email&&""===d.password&&""!==c.password)console.log("test"),V(c).then((function(){O(!0)})).catch((function(e){console.log(e),N(!1)}));else{N(!1);!function(e){var t={};""===e.name&&(t=Object(j.a)(Object(j.a)({},t),{},{name:"name is requierd"})),""===e.username&&(t=Object(j.a)(Object(j.a)({},t),{},{username:"username is requierd"})),""===e.email&&(t=Object(j.a)(Object(j.a)({},t),{},{email:"Email is requierd"})),""===e.password&&(t=Object(j.a)(Object(j.a)({},t),{},{password:"password is requierd"})),u(Object(j.a)(Object(j.a)({},d),t))}(c)}};return Object(se.jsx)(W.a,{theme:re,children:Object(se.jsxs)(z.a,{component:"main",maxWidth:"xs",children:[m?Object(se.jsxs)(T.a,{className:"card py-5 px-4 mt-5 shadow",children:[Object(se.jsx)(P.a,{}),Object(se.jsx)(R.a,{variant:"h4",className:"text-center fw-bold Typography ",style:{color:"#1877F2",fontFamily:"Montserrat"},children:"Social Media"}),Object(se.jsxs)(E.a,{sx:{marginTop:4,display:"flex",flexDirection:"column",alignItems:"center"},children:[Object(se.jsx)(R.a,{component:"h1",variant:"h5",children:"OTP VERIFICATION"}),Object(se.jsxs)(I.a,{container:!0,flexDirection:"column",alignItems:"center",className:"mt-5",children:[Object(se.jsx)(ne.a,{style:{fontSize:"50px"}}),Object(se.jsxs)(R.a,{children:["Enter the code we sent to ",c.email]})]}),Object(se.jsxs)(E.a,{component:"form",noValidate:!0,onSubmit:Y,sx:{mt:3},children:[Object(se.jsx)(I.a,{container:!0,spacing:2,children:Object(se.jsxs)(I.a,{item:!0,xs:12,sm:12,children:[Object(se.jsx)(ee.a,{value:c.otp,onChange:function(e){s(Object(j.a)(Object(j.a)({},c),{},{otp:e})),console.log(c)},type:"number",numInputs:4,separator:Object(se.jsx)("span",{children:"-"}),name:"otp",inputStyle:{width:"2.5rem",height:"2.5rem",margin:"0 1rem",fontSize:"2rem",borderRadius:4,border:"1px solid rgba(0,0,0,0.3)"}}),d.otp?Object(se.jsx)(R.a,{component:"span",style:{color:"red",textAlign:"center",width:"100%",marginTop:"20px"},children:d.otp}):null]})}),Object(se.jsx)(C.a,{type:"submit",fullWidth:!0,variant:"contained",sx:{mt:3,mb:2},onClick:function(){var t;(t={email:c.email,otp:c.otp},new Promise(function(){var e=Object(B.a)(M.a.mark((function e(n,a){return M.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:q.a.post(H+"/api/v1/user/verifyEmailOtp",t).then((function(e){localStorage.setItem("token",e.data.token),localStorage.setItem("user",JSON.stringify(e.data.user)),n(e)})).catch((function(e){a(e.data)}));case 1:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}())).then((function(t){console.log(">>>>>>>>>2",t.data.user),e.push("/")})).catch((function(e){u(Object(j.a)(Object(j.a)({},e),{},{otp:"invalid Otp"}))}))},disabled:p,children:"Verify OTP"}),Object(se.jsxs)(I.a,{container:!0,flexDirection:"column",alignItems:"center",className:"my-3",children:[Object(se.jsxs)(E.a,{children:[L.minute," : ",L.seconds]}),Object(se.jsx)(C.a,{disabled:!p,onClick:function(){(function(e){var t=e.email;return new Promise(function(){var e=Object(B.a)(M.a.mark((function e(n,a){return M.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:q.a.post(H+"/api/v1/user/reSendEmailOtp",{email:t}).then((function(e){n(e)})).catch((function(e){a(e.response.data)}));case 1:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}())})({email:c.email}).then((function(e){v(!1)}))},children:"Resend OTP"})]}),d.message?Object(se.jsx)(R.a,{component:"span",style:{color:"red"},children:d.message}):null,Object(se.jsx)(I.a,{container:!0,justifyContent:"flex-end",children:Object(se.jsxs)(I.a,{item:!0,children:[Object(se.jsx)(te.b,{to:"/login",variant:"body2",children:"Already have an account? Sign in"}),Object(se.jsx)(te.b,{to:"/signup;",children:"Signup"})]})})]})]})]}):Object(se.jsxs)(T.a,{className:"card py-5 px-4 mt-5 shadow",children:[Object(se.jsx)(P.a,{}),Object(se.jsx)(R.a,{variant:"h4",className:"text-center fw-bold Typography ",style:{color:"#1877F2",fontFamily:"Montserrat"},children:"Social Media"}),Object(se.jsxs)(E.a,{sx:{marginTop:4,display:"flex",flexDirection:"column",alignItems:"center"},children:[Object(se.jsx)(S.a,{sx:{m:1,bgcolor:"secondary.main"},children:Object(se.jsx)(_.a,{})}),Object(se.jsx)(R.a,{component:"h1",variant:"h5",children:"Sign up Using Email"}),Object(se.jsxs)(E.a,{component:"form",noValidate:!0,onSubmit:Y,sx:{mt:3},children:[Object(se.jsxs)(I.a,{container:!0,spacing:2,children:[Object(se.jsxs)(I.a,{item:!0,xs:12,sm:12,children:[Object(se.jsx)(k.a,{autoComplete:"off",name:"name",required:!0,fullWidth:!0,id:"firstName",label:"First Name",autoFocus:!0,onChange:function(e){var t=e.target.value.trim();if(s(Object(j.a)(Object(j.a)({},c),{},{name:t})),""===t){var n=Object(j.a)(Object(j.a)({},d),{},{name:"name is requierd"});u(n),console.log(d)}else if(new RegExp("^[A-Za-z\\s]{4,29}$").test(t)){var a=Object(j.a)(Object(j.a)({},d),{},{name:""});u(a)}else{var i=Object(j.a)(Object(j.a)({},d),{},{name:"Name containe mini 5 char or amx 29 char or name does't containe number or spesial char  "});u(i)}},error:d.name}),d.name?Object(se.jsx)(R.a,{component:"span",style:{color:"red"},children:d.name}):null]}),Object(se.jsxs)(I.a,{item:!0,xs:12,sm:12,children:[Object(se.jsx)(k.a,{required:!0,fullWidth:!0,id:"Username",label:"Username",name:"username",autoComplete:"off",onBlur:function(e){""===d.username&&""!==c.username&&(u(Object(j.a)(Object(j.a)({},d),{},{usernameExist:"username  Checking....."})),K({username:c.username}).then((function(e){e.data.usernameExist?(u(Object(j.a)(Object(j.a)({},d),{},{usernameExist:"username already  exist"})),s(Object(j.a)(Object(j.a)({},c),{},{usernameExist:!0}))):s(Object(j.a)(Object(j.a)({},c),{},{usernameExist:!1}))})).catch((function(e){u(Object(j.a)(Object(j.a)({},d),{},{usernameExist:e.message}))})))},onChange:function(e){var t=e.target.value.trim();if(s(Object(j.a)(Object(j.a)({},c),{},{username:t})),""===t){var n=Object(j.a)(Object(j.a)({},d),{},{username:"username is requierd"});u(n)}else if(new RegExp("^[A-Za-z\\s]{4,29}$").test(t))u(Object(j.a)(Object(j.a)({},d),{},{username:""}));else{var a=Object(j.a)(Object(j.a)({},d),{},{username:" Username containe mini 5 char or amx 29 char or name does't containe number or spesial char  "});u(a)}},error:d.username||d.usernameExist}),d.username?Object(se.jsx)(R.a,{component:"span",style:{color:"red"},children:d.username}):null,d.usernameExist?Object(se.jsx)(R.a,{component:"span",style:{color:"red"},children:d.usernameExist}):null]}),Object(se.jsxs)(I.a,{item:!0,xs:12,children:[Object(se.jsx)(k.a,{autoComplete:"off",required:!0,fullWidth:!0,id:"email",label:"Email",type:"tel",name:"email",onChange:function(e){var t=e.target.value.trim();if(s(Object(j.a)(Object(j.a)({},c),{},{email:t})),""===t){var n=Object(j.a)(Object(j.a)({},d),{},{email:"Email is requierd"});u(n),console.log(d)}else if(new RegExp(/\S+@\S+\.\S+/).test(t)){var a=Object(j.a)(Object(j.a)({},d),{},{email:""});u(a)}else{var i=Object(j.a)(Object(j.a)({},d),{},{email:"Not  a valid Email"});u(i)}},error:d.email}),d.email?Object(se.jsx)(R.a,{component:"span",style:{color:"red"},children:d.email}):null]}),Object(se.jsxs)(I.a,{item:!0,xs:12,children:[Object(se.jsx)(k.a,{required:!0,fullWidth:!0,name:"password",label:"Password",type:"password",id:"password",autoComplete:"off",onChange:function(e){var t=e.target.value.trim();if(s(Object(j.a)(Object(j.a)({},c),{},{password:t})),""===t){var n=Object(j.a)(Object(j.a)({},d),{},{password:"password is requierd"});u(n)}else if(new RegExp("^(?=.*[0-9])(?=.*[a-z])(?=.*[A-Z])(?=.*[@#$%^&+=!*])(?=\\S+$).{8,20}$").test(t)){var a=Object(j.a)(Object(j.a)({},d),{},{password:""});u(a)}else{var i=Object(j.a)(Object(j.a)({},d),{},{password:"Minimum 8 and maximum 20 characters, at least one uppercase letter, one lowercase letter, one number and one special character:"});u(i)}},error:d.password}),d.password?Object(se.jsx)(R.a,{component:"span",style:{color:"red"},children:d.password}):null]})]}),Object(se.jsx)(C.a,{type:"submit",fullWidth:!0,variant:"contained",sx:{mt:3,mb:2},disabled:y,children:y?Object(se.jsx)(ce.a,{}):"Sign Up"}),d.message?Object(se.jsx)(R.a,{component:"span",style:{color:"red"},children:d.message}):null,Object(se.jsxs)(I.a,{container:!0,justifyContent:"center",flexDirection:"column",alignItems:"center",children:[Object(se.jsx)(F.a,{style:{borderRadius:10},size:"medium",onClick:function(){return e.push("/signup")},children:Object(se.jsx)(ae.a,{style:{color:"#1976D2",fontSize:"50",borderRadius:10,border:"3px solid #ffffff"},size:"large"})}),Object(se.jsx)(R.a,{children:"Signup with Phone"})]}),Object(se.jsx)(I.a,{container:!0,justifyContent:"flex-end",className:"mt-3",children:Object(se.jsx)(I.a,{item:!0,children:Object(se.jsx)(te.b,{to:"/login",variant:"body2",children:"Already have an account? Sign in"})})})]})]})]}),Object(se.jsx)(ie,{sx:{mt:5}})]})})}var le=n(5),de=n(430),je=n(207),ue=n(208),be=n.n(ue);n(283);Object(D.a)();function he(){var e,t,n=Object(d.b)(),a=Object(o.g)(),s=c.a.useState({email:null,password:""}),i=Object(r.a)(s,2),l=(i[0],i[1],c.a.useState({})),u=Object(r.a)(l,2),b=u[0],h=u[1],O=c.a.useState({error:!1,emailErr:"",passwordErr:""}),x=Object(r.a)(O,2),f=x[0],v=x[1],g=function(e){if("email"===e.target.name){var t=e.target.value.trim();if(""===t)v({error:!0,emailErr:"username or email or phone number is required "});else if(new RegExp(/[a-z0-9._%+-]+@[a-z0-9.-]+\.[a-z]{2,15}/g).test(t)){var n=b.password;h({password:n,email:t}),v({error:!1,emailErr:""})}else if(new RegExp("^[A-Za-z]\\w{4,29}$").test(t)){var a=b.password;h({password:a,username:t}),v({error:!1,emailErr:""})}else if(new RegExp(/^([+]\d{2})?\d{10}$/).test(t)){var c=b.password;h({password:c,phone:t}),v({error:!1,emailErr:""})}else v({error:!0,emailErr:"username or email or phone number is required "})}if("password"===e.target.name){var s=e.target.value.trim();""===s?v({error:!0,passwordErr:"password is required "}):(h(Object(j.a)(Object(j.a)({},b),{},{password:s})),v({error:!1,passwordErr:""}))}},w=function(e){var t=e.Du.tv;t&&Y({email:t}).then((function(e){n(m(e.user)),n(p(e.unReadNotificationsCount)),null===N||void 0===N||N.emit("login",{id:N.id,userId:e.user._id}),a.push("/")})).catch((function(e){var t,n;v({error:!0,emailErr:null===e||void 0===e||null===(t=e.response)||void 0===t||null===(n=t.data)||void 0===n?void 0:n.message})}))},y=function(e){e.email&&Y({email:e.email}).then((function(e){null===N||void 0===N||N.emit("login",{id:N.id,userId:e.user._id}),n(m(e.user)),n(p(e.unReadNotificationsCount)),a.push("/")})).catch((function(e){v({error:!0,emailErr:e.response.data.message})}))};return Object(se.jsx)("div",{className:"col-lg-9 mx-auto",children:Object(se.jsxs)("div",{className:"row justify-content-between align-items-center",children:[Object(se.jsxs)("div",{className:"col-lg-5   d-lg-block  d-none",children:[Object(se.jsx)(R.a,{variant:"h4",className:" fw-bold Typography ",style:{color:"#1877F2",fontFamily:"Montserrat"},children:"Social Media"}),Object(se.jsx)(R.a,{variant:"h6",style:{fontFamily:"Montserrat"},children:"Connect with friends and the world around you on Social Media"})]}),Object(se.jsx)("div",{className:"col-lg-5",children:Object(se.jsxs)(T.a,{className:"card p-4 mt-5 shadow",children:[Object(se.jsx)(P.a,{}),Object(se.jsxs)(E.a,{sx:{marginTop:4,display:"flex",flexDirection:"column",alignItems:"center"},children:[Object(se.jsx)(R.a,{className:"Typography ",component:"h1",variant:"h5",children:"Sign in"}),Object(se.jsxs)(E.a,{component:"form",onSubmit:function(e){var t;e.preventDefault(),void 0===b.email&&void 0===b.username&&void 0===b.phone?v({error:!0,emailErr:"Invalied Detailes"}):void 0===b.password?v({error:!0,passwordErr:"password is required "}):f.error||(t=b,new Promise(function(){var e=Object(B.a)(M.a.mark((function e(n,a){return M.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:q.a.post(H+"/api/v1/user/login",t).then((function(e){localStorage.setItem("token",e.data.token),localStorage.setItem("user",JSON.stringify(e.data.user)),n(e.data)})).catch((function(e){a(e)}));case 1:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}())).then((function(e){N.emit("login",{id:N.id,userId:e.user._id}),n(m(e.user)),n(p(e.unReadNotificationsCount)),a.push("/")})).catch((function(e){var t,n;v({error:!0,emailErr:null===e||void 0===e||null===(t=e.response)||void 0===t||null===(n=t.data)||void 0===n?void 0:n.message})}))},noValidate:!0,sx:{mt:1},children:[Object(se.jsx)(k.a,{margin:"normal",required:!0,fullWidth:!0,id:"email",label:"Email Address",name:"email",autoComplete:"email",autoFocus:!0,onChange:g}),Object(se.jsx)(R.a,{variant:"span",style:{color:"red"},children:f.error?f.emailErr:null}),Object(se.jsx)(k.a,{margin:"normal",required:!0,fullWidth:!0,name:"password",label:"Password",type:"password",id:"password",autoComplete:"current-password",onChange:g}),Object(se.jsx)(R.a,{variant:"span",style:{color:"red"},children:f.error?f.passwordErr:null}),Object(se.jsx)(C.a,{type:"submit",fullWidth:!0,variant:"contained",sx:{mt:3,mb:2},children:"Sign In"}),Object(se.jsx)("hr",{}),Object(se.jsxs)("div",{className:"d-flex flex-column align-items-center",children:[Object(se.jsx)("div",{className:"mt-2",children:Object(se.jsx)(be.a,(e={appId:"4796539330410041",autoLoad:!1,fields:"name,email,picture",callback:y,cssClass:"facebook",icon:"fa-facebook",render:function(e){return Object(se.jsx)(F.a,{style:{backgroundColor:"#1877F230",borderRadius:10},size:"medium",onClick:function(){return e.onClick},children:Object(se.jsx)(de.a,{style:{color:"#1877F2",fontSize:"50",borderRadius:10,border:"3px solid #ffffff"},size:"large"})})}},Object(le.a)(e,"callback",y),Object(le.a)(e,"children","login"),e))}),Object(se.jsx)("div",{className:"mt-3",children:Object(se.jsx)(je.GoogleLogin,(t={clientId:"967826436699-lmpvmcre1r12tn050u52phkfs9aro8jv.apps.googleusercontent.com",onSuccess:w,isSignedIn:!1},Object(le.a)(t,"onSuccess",w),Object(le.a)(t,"onFailure",w),Object(le.a)(t,"cookiePolicy","single_host_origin"),t))})]}),Object(se.jsx)("hr",{}),Object(se.jsxs)(I.a,{container:!0,children:[Object(se.jsx)(I.a,{item:!0,xs:!0,children:Object(se.jsx)(te.b,{to:"/forgotpassword",variant:"body2",style:{textDecoration:"none"},children:"Forgot password?"})}),Object(se.jsx)(I.a,{item:!0,children:Object(se.jsx)(te.b,{to:"/signup",variant:"body2",style:{textDecoration:"none"},children:"Don't have an account? Sign Up"})})]})]})]})]})})]})})}n(284);var me=n(504),Oe=n(505),xe=n(486),fe=n(226),pe=n(491),ve=n(436),ge=n(437),we=n(131),ye=n.n(we),Ne=n(79),Se=n.n(Ne),Ce=n(431),Pe=n(432),ke=n(433),Ie=n(434),Ee=n(435),Ae=n(478),_e=Object(Ae.a)({logo:{color:"#007FFF",fontFamily:"Montserrat, sans-serif",fontWeight:700,fontSize:22},navItem:{maxWidth:"42px",maxHeight:"42px",minWidth:"42px",minHeight:"42px",borderRadius:10,backgroundColor:"#f1f1f1",padding:0},mobileNavbar:{display:"none"},root:{background:"linear-gradient(45deg, #2196F3 30%, #21CBF3 90%)",border:0,borderRadius:3,boxShadow:"0 3px 5px 2px rgba(33, 203, 243, .3)",color:"#ffffff",height:42,padding:"0 30px"}});var Re=function(){var e=Object(d.b)(),t=Object(o.g)(),n=c.a.useState(null),s=Object(r.a)(n,2),i=s[0],l=s[1],j=Object(a.useState)(""),u=Object(r.a)(j,2),b=u[0],h=(u[1],Boolean(i)),m=function(){l(null)},x=_e(),f=Object(d.c)((function(e){return e.user.user})),p=Object(d.c)((function(e){return e.notificationCount.notificationCount}));return Object(se.jsx)(se.Fragment,{children:Object(se.jsx)(me.a,{style:{backgroundColor:"#fff"},sx:{width:"100%",position:"fixed",top:0,left:0,right:0},children:Object(se.jsxs)(Oe.a,{children:[Object(se.jsxs)("div",{className:"nav",children:[Object(se.jsx)(R.a,{className:x.logo,variant:"p",children:"Social Media"}),Object(se.jsxs)("div",{className:"navItems",children:[Object(se.jsx)(C.a,{variant:"text",className:(x.navItem,"navItem"),component:te.b,to:"/",children:Object(se.jsx)(Ce.a,{color:"primary",fontSize:"medium"})}),Object(se.jsx)(C.a,{variant:"text",className:(x.navItem,"navItem"),component:te.b,to:"/search",children:Object(se.jsx)(Pe.a,{color:"primary",size:"medium"})}),Object(se.jsx)(C.a,{variant:"text",className:(x.navItem,"navItem"),component:te.b,to:"/notification",children:Object(se.jsx)(xe.a,{badgeContent:p,color:"primary",children:Object(se.jsx)(ke.a,{color:"action"})})}),Object(se.jsx)(C.a,{variant:"text",className:(x.navItem,"navItem"),component:te.b,to:"/Messenger",children:Object(se.jsx)(Ie.a,{color:"primary",size:"medium"})}),Object(se.jsx)(C.a,{variant:"text",className:(x.navItem,"navItem"),children:Object(se.jsx)(Ee.a,{color:"primary",size:"medium"})}),Object(se.jsx)(C.a,{variant:"text",className:x.root,style:{color:"#ffffff"},component:te.b,to:"/createpost",children:"Create Post"}),Object(se.jsx)(F.a,{onClick:function(e){l(e.currentTarget)},size:"small",sx:{ml:2},children:b?Object(se.jsx)("img",{src:"https://source.unsplash.com/user/erondu/32x32",style:{borderRadius:10},alt:""}):Object(se.jsx)(S.a,{sx:{width:32,height:32},children:"M"})})]})]}),Object(se.jsxs)(fe.a,{anchorEl:i,open:h,onClose:m,onClick:m,PaperProps:{elevation:0,sx:{overflow:"visible",filter:"drop-shadow(0px 2px 8px rgba(0,0,0,0.32))",mt:1.5,"& .MuiAvatar-root":{width:32,height:32,ml:-.5,mr:1},"&:before":{content:'""',display:"block",position:"absolute",top:0,right:14,width:10,height:10,bgcolor:"background.paper",transform:"translateY(-50%) rotate(45deg)",zIndex:0}}},transformOrigin:{horizontal:"right",vertical:"top"},anchorOrigin:{horizontal:"right",vertical:"bottom"},children:[Object(se.jsx)(te.b,{to:"/profile/".concat(f._id),component:C.a,children:Object(se.jsxs)(pe.a,{children:[Object(se.jsx)(S.a,{})," Profile"]})}),Object(se.jsxs)(pe.a,{children:[Object(se.jsx)(S.a,{})," My account"]}),Object(se.jsx)(ve.a,{}),Object(se.jsx)(pe.a,{children:Object(se.jsxs)(te.b,{to:"/settings",children:[Object(se.jsx)(ge.a,{children:Object(se.jsx)(Se.a,{fontSize:"small"})}),"Settings"]})}),Object(se.jsxs)(pe.a,{onClick:function(n){e(O()),t.push("/login")},children:[Object(se.jsx)(ge.a,{children:Object(se.jsx)(ye.a,{fontSize:"small"})}),"Logout"]})]})]})})})},Te=(n(285),n(506)),Fe=n(507),ze=n(438),De=function(){return Object(se.jsx)(xe.a,{badgeContent:0,color:"primary",children:Object(se.jsx)(ze.a,{color:"action"})})};var We=function(){var e=c.a.useState("recents"),t=Object(r.a)(e,2),n=t[0],a=t[1];return Object(d.c)((function(e){return e.notificationCount.notificationCount})),Object(se.jsx)("div",{className:"BottomBar",children:Object(se.jsxs)(Te.a,{sx:{width:"100%",position:"fixed",bottom:0,left:0,right:0},value:n,onChange:function(e,t){a(t)},children:[Object(se.jsx)(Fe.a,{label:"Home",value:"Home",component:te.b,to:"/",icon:Object(se.jsx)(Ce.a,{})}),Object(se.jsx)(Fe.a,{label:"Search",value:"Search",component:te.b,to:"/search",icon:Object(se.jsx)(Pe.a,{})}),Object(se.jsx)(Fe.a,{label:"Notifications",value:"Notifications",icon:Object(se.jsx)(De,{color:"action"})}),Object(se.jsx)(Fe.a,{label:"Chat",value:"Chat",component:te.b,to:"/Messenger",icon:Object(se.jsx)(Ie.a,{})}),Object(se.jsx)(Fe.a,{label:"Friends",value:"Friends",icon:Object(se.jsx)(Ee.a,{})})]})})},Le=(n(286),n(287),n.p+"static/media/userAvathar.6c66ac2f.jpg");var Me=function(){Object(o.g)();var e=Object(d.c)((function(e){return e.user.user})),t=e,n=null===t||void 0===t?void 0:t.ProfilePhotos;return Object(a.useEffect)((function(){}),[e]),Object(se.jsx)(te.b,{to:"/profile/".concat(t._id),style:{textDecoration:"none"},children:Object(se.jsx)("div",{className:"ProfileCard",children:Object(se.jsxs)("div",{className:"d-flex",children:[Object(se.jsx)("div",{className:"img",children:Object(se.jsx)("img",{src:n?n[n.length-1]:Le,alt:""})}),Object(se.jsxs)("div",{children:[Object(se.jsxs)("p",{children:[" ",t.name]}),Object(se.jsxs)("span",{children:["@",t.username]})]})]})})})},Be=(n(288),n(211)),Ue=n.n(Be),qe=n(212),He=n.n(qe),Ke=n(439),Ve=Object(Ae.a)({Button:{width:"100%",textAlign:"left",display:"flex",justifyContent:"space-between",height:"50px",color:"#383860"},ButtonContent:{display:"flex",alignItems:"center",width:"100%"},badge:{width:"30px",height:"25px",backgroundColor:"#7169697d",color:"white",fontWeight:"bold",borderRadius:"50%",textAlign:"center"},navIcons:{color:"#716969"}});var Ye=function(){var e=Ve(),t=Object(d.b)(),n=Object(o.g)(),a=Object(d.c)((function(e){return e.notificationCount.notificationCount}));return Object(se.jsxs)("div",{className:"SideNav",children:[Object(se.jsx)("div",{className:"navItem",children:Object(se.jsx)(C.a,{variant:"text",className:e.Button,component:te.b,to:"/",children:Object(se.jsxs)("div",{className:e.ButtonContent,children:[Object(se.jsx)(Ue.a,{className:e.navIcons}),Object(se.jsx)("span",{children:"Home"})]})})}),Object(se.jsx)("div",{className:"navItem",children:Object(se.jsxs)(C.a,{variant:"text",className:e.Button,component:te.b,to:"/notification",children:[Object(se.jsxs)("div",{className:e.ButtonContent,children:[Object(se.jsx)(He.a,{className:e.navIcons}),Object(se.jsx)("span",{children:"Notifications"})]}),Object(se.jsx)("div",{className:e.badge,children:a})]})}),Object(se.jsx)("div",{className:"navItem",children:Object(se.jsx)(C.a,{variant:"text",className:e.Button,component:te.b,to:"/settings",children:Object(se.jsxs)("div",{className:e.ButtonContent,children:[Object(se.jsx)(Se.a,{className:e.navIcons}),Object(se.jsx)("span",{children:"Settings"})]})})}),Object(se.jsx)("div",{className:"navItem",children:Object(se.jsx)(C.a,{variant:"text",className:e.Button,onClick:function(e){t(O()),n.push("/login")},children:Object(se.jsxs)("div",{className:e.ButtonContent,children:[Object(se.jsx)(Ke.a,{className:e.navIcons}),Object(se.jsx)("span",{children:"Logout"})]})})})]})};n(289);var Je=function(){var e=Object(a.useState)(null),t=Object(r.a)(e,2),n=t[0],c=t[1];return Object(a.useEffect)((function(){new Promise(function(){var e=Object(B.a)(M.a.mark((function e(t,n){var a;return M.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a=localStorage.getItem("token"),q.a.get(H+"/api/v1/user/getBanner",{headers:{Authorization:a}}).then((function(e){t(e.data)})).catch((function(e){n(e)}));case 2:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()).then((function(e){c(e)}))}),[]),Object(se.jsxs)("div",{className:"SidebarBanner",children:[Object(se.jsx)(R.a,{className:"mb-1",children:"Sponsored*"}),n?Object(se.jsxs)("div",{className:"banner",children:[Object(se.jsx)("img",{src:null===n||void 0===n?void 0:n.files[0],alt:""}),Object(se.jsx)("span",{children:null===n||void 0===n?void 0:n.description})]}):null,Object(se.jsx)("div",{className:"bannerButtons"})]})};n(290);var $e=function(e){var t=e.request,n=e.follow,a=Object(o.g)();return Object(se.jsxs)("div",{className:"RequestCard",children:[Object(se.jsxs)("div",{className:"details",children:[Object(se.jsx)("div",{className:"img",children:Object(se.jsx)("img",{src:(null===t||void 0===t?void 0:t.ProfilePhotos)?null===t||void 0===t?void 0:t.ProfilePhotos:Le,alt:""})}),Object(se.jsx)("div",{className:"content",children:Object(se.jsxs)("p",{children:[Object(se.jsx)("span",{children:null===t||void 0===t?void 0:t.name})," want to add you to friend"]})})]}),Object(se.jsxs)("div",{className:"btns",children:[Object(se.jsx)(C.a,{variant:"contained",style:{fontSize:"12px",fontWeight:"bold",height:"40px",marginRight:"20px"},className:"btn",onClick:function(){return n(t._id)},children:"Follow "}),Object(se.jsx)(C.a,{variant:"outlined",style:{fontSize:"12px",fontWeight:"bold",height:"40px"},onClick:function(){return e=t._id,void a.push("/profile/"+e);var e},children:"View Profile"})]})]})},Ze=(n(291),n(42)),Ge=n(213),Qe=n.n(Ge);var Xe=function(e){var t=e.user,n=Object(a.useState)(""),c=Object(r.a)(n,2),s=(c[0],c[1]),i=Object(o.g)();return Object(se.jsxs)("div",{className:"Addpost",onClick:function(){i.push("/createPost")},children:[Object(se.jsxs)("div",{className:"d-flex w-100",children:[Object(se.jsx)("img",{src:t.ProfilePhotos?t.ProfilePhotos.slice(-1).pop():Object(se.jsx)(Le,{}),alt:""}),Object(se.jsx)(Ze.c,{sx:{ml:1,flex:1},fullWidth:!0,style:{width:"100%"},placeholder:"What\u2019s New, "+(null===t||void 0===t?void 0:t.name)+"?",inputProps:{"aria-label":"What\u2019s New, Abhinav? "},onChange:function(e){return s(e.target.value)}})]}),Object(se.jsx)(C.a,{variant:"contained",endIcon:Object(se.jsx)(Qe.a,{}),children:"POST"})]})},et=(n(292),n(293),n(440));var tt=function(){var e=Object(o.g)();return Object(se.jsxs)("div",{className:"HeroAddStory",onClick:function(){return e.push("/createStories")},children:[Object(se.jsx)("div",{className:"img",children:Object(se.jsx)("img",{src:"https://source.unsplash.com/user/erondu/100x180",alt:""})}),Object(se.jsxs)("div",{className:"content",children:[Object(se.jsx)("span",{children:"Add Story"}),Object(se.jsx)(F.a,{"aria-label":"fingerprint",style:{color:"white"},children:Object(se.jsx)(et.a,{style:{color:"white",border:"2px solid white",borderRadius:"5px"}})})]})]})};n(294);var nt=n(441),at=n(442),ct=n(480),st=(n(121),n(214)),it=n.n(st),rt=n(54),ot=n.n(rt),lt={position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",width:"100vw",height:"100vh",boxShadow:24,p:4,borderRadius:5,zIndex:2,backdropFilter:" blur(5px)"};var dt=function(e){var t,n,s,i,o,l=e.story,j=e.stories,u=c.a.useState(!1),b=Object(r.a)(u,2),h=b[0],m=b[1],O=Object(a.useRef)(),x=Object(d.c)((function(e){return e.user.user})),f=function(){return m(!1)},p=Object(a.useState)([]),v=Object(r.a)(p,2),g=v[0],w=v[1],y=Object(a.useState)({}),N=Object(r.a)(y,2),S=N[0],C=N[1];return Object(a.useEffect)((function(){if(h){var e=j.findIndex(a);function a(e){return e._id==l._id}console.log("stories",j),console.log("stories.slice",j.slice(e,j.length));var t=j.slice(e,j.length),n=[];t.filter((function(e,t){var a,c;console.log(e.createdAt);var s=null===e||void 0===e||null===(a=e.files)||void 0===a||null===(c=a.file)||void 0===c?void 0:c.split("."),i=s[s.length-1];return"png"===i||"jpes"===i||"jpg"===i?(console.log("image",e.files.file),n.push({url:e.files.file}),{type:"image",url:e.files.file,originalContent:e._id}):"mp4"===i?(n.push({type:"video",url:e.files.file}),{type:"video",url:e.files.file}):void alert()}));w(n)}}),[h]),Object(se.jsxs)("div",{className:"CreatePostModal ViewStoryModal",children:[Object(se.jsxs)("div",{className:"HeroViewStory",onClick:function(){return m(!0)},children:[Object(se.jsx)("div",{className:"img",children:Object(se.jsx)("img",{src:(null===l||void 0===l||null===(t=l.user)||void 0===t?void 0:t.ProfilePhotos)?null===l||void 0===l||null===(n=l.user)||void 0===n?void 0:n.ProfilePhotos:"https://source.unsplash.com/user/erondu/100x180",alt:""})}),Object(se.jsxs)("div",{className:"content",children:[Object(se.jsx)("span",{children:l.user.name}),l.trending?Object(se.jsx)(nt.a,{style:{color:"#007fff"}}):null]})]}),Object(se.jsx)(ct.a,{open:h,onClose:f,"aria-labelledby":"modal-modal-title","aria-describedby":"modal-modal-description",children:Object(se.jsxs)(E.a,{sx:lt,className:"box p-0",children:[Object(se.jsx)("div",{className:"header d-flex justify-content-end align-items-center",style:{position:"fixed",top:0,left:10,right:10,zIndex:100},children:Object(se.jsx)(F.a,{size:"large",style:{backgroundColor:"#eeeeee30"},onClick:f,children:Object(se.jsx)(at.a,{})})}),Object(se.jsx)("div",{className:"d-flex justify-content-center w-100",style:{zIndex:1},children:Object(se.jsx)("div",{className:"view",style:{height:"100vh",width:"33vw",backgroundColor:"#dddddd",minWidth:"360px",overflow:"hidden"},children:Object(se.jsxs)("div",{className:"StoryContent d-flex flex-column h-100 align-items-center justify-content-center",ref:O,children:[Object(se.jsx)("div",{style:{width:"100%"},children:S?Object(se.jsxs)("div",{className:"Profile",children:[Object(se.jsx)("div",{className:"img",children:Object(se.jsx)("img",{src:(null===S||void 0===S||null===(s=S.user)||void 0===s?void 0:s.ProfilePhotos)?null===S||void 0===S||null===(i=S.user)||void 0===i?void 0:i.ProfilePhotos:"https://source.unsplash.com/user/erondu/100x180",style:{width:"50px",height:"50px",marginRight:"20px",marginLeft:"20px"},alt:""})}),Object(se.jsxs)("div",{children:[Object(se.jsx)("span",{children:null===S||void 0===S||null===(o=S.user)||void 0===o?void 0:o.name}),Object(se.jsx)("p",{children:ot()(null===S||void 0===S?void 0:S.createdAt).fromNow()})]})]}):null}),Object(se.jsx)(it.a,{keyboardNavigation:!0,defaultInterval:3e3,stories:g,onStoryStart:function(e,t){console.log("st",t.url);var n=j.find((function(e){return console.log(e),e.files.file==t.url}));C(n),console.log("viewdStory",n),function(e){var t=e.storyId,n=e.ViewerId;return new Promise(function(){var e=Object(B.a)(M.a.mark((function e(a,c){var s;return M.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:s=localStorage.getItem("token"),q.a.post(H+"/api/v1/user/viewSroty",{storyId:t,ViewerId:n},{headers:{Authorization:s}}).then((function(e){a(e.data)})).catch((function(e){c(e)}));case 2:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}())}({storyId:n.files.id,ViewerId:x._id}).then((function(e){console.log(e)})).catch((function(e){console.log(e)}))},onAllStoriesEnd:f,onStoryEnd:function(e,t){return console.log("story ended",e,t)}})]})})})]})})]})};var jt=function(){var e=Object(a.useState)([]),t=Object(r.a)(e,2),n=t[0],c=t[1],s=Object(a.useState)([]),i=Object(r.a)(s,2),o=i[0],l=i[1],d=Object(a.useState)([]),j=Object(r.a)(d,2),u=j[0],b=j[1];return Object(a.useEffect)((function(){Q().then((function(e){c(e.stories)}))}),[]),Object(a.useEffect)((function(){G().then((function(e){l(e.stories)}))}),[]),Object(a.useEffect)((function(){new Promise(function(){var e=Object(B.a)(M.a.mark((function e(t,n){var a;return M.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a=localStorage.getItem("token"),q.a.get(H+"/api/v1/user/getTrendingStories",{headers:{Authorization:a}}).then((function(e){t(e.data)})).catch((function(e){n(e)}));case 2:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()).then((function(e){b(e.trendingStories)}))}),[]),Object(se.jsx)("div",{className:"HeroStorySection",children:Object(se.jsxs)("div",{className:"d-flex",children:[Object(se.jsx)(tt,{}),null===n||void 0===n?void 0:n.map((function(e,t){return Object(se.jsx)(dt,{stories:o,story:e},t)})),null===u||void 0===u?void 0:u.map((function(e,t){return Object(se.jsx)(dt,{stories:o,story:e},t)}))]})})},ut=(n(182),n(215)),bt=n.n(ut),ht=n(218),mt=n.n(ht),Ot=n(57),xt=n(38),ft=n(485),pt=n(502),vt=n(483),gt={position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",width:400,bgcolor:"background.paper",boxShadow:24,p:4,borderRadius:"10px"};var wt=function(e){var t=e.userId,n=e.postId,s=c.a.useState(!1),i=Object(r.a)(s,2),o=i[0],l=i[1],d=Object(a.useState)(""),j=Object(r.a)(d,2),u=j[0],b=j[1],h=Object(a.useState)(""),m=Object(r.a)(h,2),O=m[0],x=m[1],f=function(){l(!1)};return Object(se.jsxs)("div",{className:"AddPro",children:[Object(se.jsx)(C.a,{style:{backgroundColor:"#ffffff50"},onClick:function(){return l(!0)},children:"  Report Post  "}),Object(se.jsx)(ct.a,{open:o,onClose:f,"aria-labelledby":"modal-modal-title","aria-describedby":"modal-modal-description",children:Object(se.jsxs)(E.a,{sx:gt,className:"box",children:[Object(se.jsxs)("div",{className:"header d-flex justify-content-between align-items-center mb-4",children:[Object(se.jsx)(R.a,{variant:"h6",component:"h2",style:{fontWeight:"bold"},children:"Report Post"}),Object(se.jsx)(F.a,{size:"large",style:{backgroundColor:"#eeeeee"},onClick:f,children:Object(se.jsx)(at.a,{})})]}),Object(se.jsxs)("div",{children:[Object(se.jsx)(R.a,{variant:"h6",component:"h2",children:" Please select a problem"}),Object(se.jsx)(R.a,{variant:"body2",children:"If someone is in immediate danger, get help before reporting to Facebook. Don't wait."})]}),Object(se.jsxs)("div",{className:"mt-4",children:[Object(se.jsxs)(pt.a,{fullWidth:!0,children:[Object(se.jsx)(ft.a,{id:"demo-simple-select-label",children:"Select a problem"}),Object(se.jsxs)(vt.a,{labelId:"demo-simple-select-label",id:"demo-simple-select",value:O,label:"Select a problem",onChange:function(e){x(e.target.value)},children:[Object(se.jsx)(pe.a,{value:"nudity",children:"Nudity"}),Object(se.jsx)(pe.a,{value:"Violence",children:"Violence"}),Object(se.jsx)(pe.a,{value:"Harassment",children:"Harassment"}),Object(se.jsx)(pe.a,{value:"Spam",children:"Spam"}),Object(se.jsx)(pe.a,{value:"Something else",children:"Something else"})]})]}),Object(se.jsx)(pt.a,{fullWidth:!0,className:"mt-3",children:Object(se.jsx)(k.a,{id:"outlined-multiline-static",label:"Message",multiline:!0,rows:4,value:u,onChange:function(e){return b(e.target.value)}})})]}),Object(se.jsxs)("div",{className:"d-flex align-items-end justify-content-end mt-2",children:[Object(se.jsx)(C.a,{color:"warning",variant:"contained",className:"me-3",onClick:f,children:"Cancel"}),Object(se.jsx)(C.a,{color:"success",variant:"contained",onClick:function(){(function(e){var t=e.postId,n=e.userId,a=e.optoion,c=e.message;return new Promise((function(e,s){var i=localStorage.getItem("token");q.a.post(H+"/api/v1/user/report",{userId:n,postId:t,optoion:a,message:c},{headers:{Authorization:i}}).then((function(t){e(t.data.comment)})).catch((function(e){s(e)}))}))})({userId:t,postId:n,option:O,message:u}).then((function(){f()})).catch((function(){f()}))},children:"Report"})]}),Object(se.jsx)("span",{style:{color:"red"}})]})})]})},yt=(n(148),n(149),n(482)),Nt=n(216),St=n.n(Nt),Ct=n(217),Pt=n.n(Ct),kt=n(443),It=n(444),Et=n(445),At={position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",width:400,bgcolor:"background.paper",boxShadow:24,p:4,borderRadius:"10px"};var _t=function(e){var t=c.a.useState(!1),n=Object(r.a)(t,2),s=n[0],i=n[1],l=Object(a.useState)([]),d=Object(r.a)(l,2),j=d[0],u=d[1],b=Object(o.g)(),h=function(){i(!1)};return Object(se.jsxs)("span",{className:"ViewTags",children:[Object(se.jsxs)("span",{style:{backgroundColor:"#ffffff50"},onClick:function(){(function(e){var t=e.postId;return new Promise(function(){var e=Object(B.a)(M.a.mark((function e(n,a){var c;return M.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:c=localStorage.getItem("token"),q.a.post(H+"/api/v1/user/getTagsDetailes",{postId:t},{headers:{Authorization:c}}).then((function(e){n(e.data.tagWith)})).catch((function(e){a(e)}));case 2:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}())})({postId:e.postId}).then((function(e){console.log(e),u(e)})).catch((function(e){console.log(e)})),i(!0)},children:[" ",e.children,"  "]}),Object(se.jsx)(ct.a,{open:s,onClose:h,"aria-labelledby":"modal-modal-title","aria-describedby":"modal-modal-description",children:Object(se.jsxs)(E.a,{sx:At,className:"box",children:[Object(se.jsxs)("div",{className:"header d-flex justify-content-between align-items-center mb-4",children:[Object(se.jsx)(R.a,{variant:"h6",component:"h2",style:{fontWeight:"bold"},children:"This Post Tag with"}),Object(se.jsx)(F.a,{size:"large",style:{backgroundColor:"#eeeeee"},onClick:h,children:Object(se.jsx)(at.a,{})})]}),Object(se.jsx)("div",{className:"tags",children:(null===j||void 0===j?void 0:j.length)>0?j.map((function(e){return Object(se.jsxs)("div",{className:"tag",onClick:function(){return t=e._id,i(!1),void b.push("/profile/".concat(t));var t},children:[Object(se.jsx)("div",{className:"img",children:Object(se.jsx)("img",{src:e.ProfilePhotos,alt:""})}),Object(se.jsx)("p",{className:"name",children:e.name})]})})):null})]})})]})},Rt={inputProps:{"aria-label":"Checkbox demo"}};xt.d.use([xt.c]);var Tt=function(e){var t,n,s,i,l,u=Object(d.c)((function(e){return e.user.user})),b=Object(o.g)(),h=e.post,m=e.user,O=h.files,x=null===h||void 0===h?void 0:h.video,f=null===h||void 0===h||null===(t=h.user)||void 0===t?void 0:t.ProfilePhotos,p=Object(a.useState)(null===(n=h.likes)||void 0===n?void 0:n.length),v=Object(r.a)(p,2),g=v[0],w=v[1],y=Object(a.useState)(!1),S=Object(r.a)(y,2),P=S[0],k=S[1],I=Object(a.useState)(!1),E=Object(r.a)(I,2),A=E[0],_=E[1],R=Object(a.useState)(!1),T=Object(r.a)(R,2),z=T[0],D=T[1],W=Object(a.useState)(!1),L=Object(r.a)(W,2),U=L[0],K=L[1],V=Object(a.useState)(null===(s=h.comments)||void 0===s?void 0:s.length),Y=Object(r.a)(V,2),J=Y[0],$=Y[1],Z=Object(a.useState)(""),G=Object(r.a)(Z,2),Q=G[0],X=G[1],ee=Object(a.useState)(!1),ne=Object(r.a)(ee,2),ae=ne[0],ce=ne[1],ie=Object(a.useState)([]),re=Object(r.a)(ie,2),oe=re[0],le=re[1];Object(a.useEffect)((function(){var e,t,n=null===h||void 0===h||null===(e=h.likes)||void 0===e?void 0:e.findIndex((function(e){return e===u._id}));k(-1!==n);var a=null===u||void 0===u||null===(t=u.SavedPost)||void 0===t?void 0:t.findIndex((function(e){return e===h._id}));_(-1!==a&&void 0!==a)}),[]),Object(a.useEffect)((function(){(null===h||void 0===h?void 0:h.userId)===(null===u||void 0===u?void 0:u._id)?D(!0):D(!1)}),[]);var de=c.a.useState(null),je=Object(r.a)(de,2),ue=je[0],be=je[1],he=Boolean(ue),me=function(){be(null)},Oe=function(){ae?ce(!1):(ce(!0),function(e){var t=e.postId;return new Promise(function(){var e=Object(B.a)(M.a.mark((function e(n,a){var c;return M.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:c=localStorage.getItem("token"),q.a.post(H+"/api/v1/user/getPostComments",{postId:t},{headers:{Authorization:c}}).then((function(e){n(e.data.comments)})).catch((function(e){a(e)}));case 2:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}())}({postId:h._id}).then((function(e){le(e)})).catch((function(e){403==e.response.status&&(localStorage.removeItem("token"),localStorage.removeItem("user"),b.push("/login"))})))};return Object(se.jsxs)("div",{className:"ViewPostCard",style:U?{display:"none"}:null,children:[Object(se.jsxs)("div",{className:"postHeader",children:[Object(se.jsxs)("div",{className:"profile",children:[Object(se.jsx)("div",{className:"img",children:Object(se.jsx)("img",{src:f||Le,alt:""})}),Object(se.jsxs)("div",{children:[Object(se.jsxs)("span",{children:[" ",Object(se.jsx)(te.b,{to:"/profile/".concat(h.user._id),className:"Link",children:null===h||void 0===h||null===(i=h.user)||void 0===i?void 0:i.name})," "]}),(null===h||void 0===h||null===(l=h.tag)||void 0===l?void 0:l.length)>0||h.location?Object(se.jsxs)("span",{children:[" is ",h.tag.length>0?Object(se.jsxs)("span",{children:["with ",Object(se.jsxs)("span",{className:"fw-bold",children:[" ",Object(se.jsxs)(te.b,{to:"/profile/".concat(h.tag[0]._id),className:"Link",children:[" ",h.tag[0].name]})]})]}):null," ",h.tag.length>1?Object(se.jsxs)("span",{className:"fw-bold",children:["and     ",Object(se.jsxs)(_t,{postId:null===h||void 0===h?void 0:h._id,children:[" ",Object(se.jsxs)("span",{children:[" ",h.tag.length-1]})," others"]})," "]}):null," ",h.location?Object(se.jsxs)("span",{children:["in ",Object(se.jsx)("span",{className:"fw-bold",children:h.location})," "]}):null]}):null,Object(se.jsx)("p",{children:ot()(h.postedDate).fromNow()})]}),Object(se.jsx)("div",{children:h.trending?Object(se.jsx)(nt.a,{color:"red",style:{color:"#007fff",fontSize:"36px",marginLeft:"20px"}}):null})]}),Object(se.jsxs)(F.a,{size:"medium",onClick:function(e){be(e.currentTarget)},children:[" ",Object(se.jsx)(bt.a,{size:"medium"})]}),Object(se.jsxs)(fe.a,{anchorEl:ue,open:he,onClose:me,PaperProps:{elevation:0,sx:{overflow:"visible",filter:"drop-shadow(0px 2px 8px rgba(0,0,0,0.32))",mt:1.5,"& .MuiAvatar-root":{width:32,height:32,ml:-.5,mr:1},"&:before":{content:'""',display:"block",position:"absolute",top:0,right:14,width:10,height:10,bgcolor:"background.paper",transform:"translateY(-50%) rotate(45deg)",zIndex:0}}},transformOrigin:{horizontal:"right",vertical:"top"},anchorOrigin:{horizontal:"right",vertical:"bottom"},children:[z?Object(se.jsx)(pe.a,{children:" Edit Post"}):null,z?Object(se.jsx)(pe.a,{onClick:function(){me(),function(e){var t=e.postId,n=e.userId;return new Promise((function(e,a){var c=localStorage.getItem("token");q.a.delete(H+"/api/v1/user/deletePost",{userId:n,postId:t},{headers:{Authorization:c}}).then((function(t){e(t.data)})).catch((function(e){a(e)}))}))}({userId:u._id,postId:h._id}).then((function(e){K(!0)})).catch((function(e){}))},children:" Delete Post"}):null,Object(se.jsx)(wt,{userId:null===m||void 0===m?void 0:m._id,postId:null===h||void 0===h?void 0:h._id,children:"Report Post"})]})]}),Object(se.jsxs)("div",{className:"postContent",children:[Object(se.jsx)("span",{children:h.desc}),null!==O||null!==x?Object(se.jsx)(se.Fragment,{children:Object(se.jsxs)(Ot.a,{pagination:!0,className:"mySwiper",children:[x?Object(se.jsx)(Ot.b,{children:Object(se.jsxs)("video",{width:"500",height:"300",controls:!0,className:"imgOne",children:[Object(se.jsx)("source",{src:x}),"This browser doesn't support video tag."]})}):null,null===O||void 0===O?void 0:O.map((function(e,t){return Object(se.jsx)(Ot.b,{children:Object(se.jsx)("div",{className:"imgOne",children:Object(se.jsx)("img",{className:"",src:e,alt:""})})},t)}))]})}):null]}),Object(se.jsxs)("div",{className:"engageCount",children:[Object(se.jsx)(C.a,{children:Object(se.jsxs)("span",{children:[g," likes"]})}),Object(se.jsx)(C.a,{children:Object(se.jsxs)("span",{onClick:Oe,children:[J," Comments"]})})]}),Object(se.jsxs)("div",{className:"postBottom",children:[Object(se.jsxs)("div",{className:"d-flex",children:[Object(se.jsx)(yt.a,Object(j.a)(Object(j.a)({onClick:function(){return function(e){var t=e.postId,n=e.userId;return new Promise((function(e,a){var c=localStorage.getItem("token");q.a.post(H+"/api/v1/user/postLike",{userId:n,postId:t},{headers:{Authorization:c}}).then((function(t){e(t.data)})).catch((function(e){a(e)}))}))}({userId:u._id,postId:h._id}).then((function(e){console.log(e),w(e.likes),k(e.liked),e.NotificationId&&N.emit("dolike",{NotificationId:e.NotificationId})})).catch((function(e){var t;console.log(e),403==(null===e||void 0===e||null===(t=e.response)||void 0===t?void 0:t.status)&&(localStorage.removeItem("token"),localStorage.removeItem("user"),b.push("/login"))})),function(){N.off("dolike")}},checked:P,size:"large"},Rt),{},{icon:Object(se.jsx)(St.a,{size:"large"}),checkedIcon:Object(se.jsx)(Pt.a,{})})),Object(se.jsx)(F.a,{size:"large",onClick:Oe,children:Object(se.jsx)(mt.a,{size:"large"})})]}),Object(se.jsx)(yt.a,Object(j.a)(Object(j.a)({onClick:function(){(function(e){var t=e.postId,n=e.userId;return new Promise((function(e,a){var c=localStorage.getItem("token");q.a.post(H+"/api/v1/user/postSave",{userId:n,postId:t},{headers:{Authorization:c}}).then((function(t){localStorage.setItem("user",JSON.stringify(t.data.user)),e(t.data)})).catch((function(e){a(e)}))}))})({userId:u._id,postId:h._id}).then((function(e){_(e.saved)})).catch((function(e){403==e.response.status&&(localStorage.removeItem("token"),localStorage.removeItem("user"),b.push("/login"))}))},checked:A,size:"large"},Rt),{},{icon:Object(se.jsx)(kt.a,{size:"large"}),checkedIcon:Object(se.jsx)(It.a,{})}))]}),Object(se.jsxs)("div",{className:"commentSection",children:[Object(se.jsxs)("div",{className:"commentInput",children:[Object(se.jsx)("input",{type:"text",onChange:function(e){X(e.target.value)},value:Q,placeholder:"Add A Comment............"}),Object(se.jsx)(F.a,{className:"sendcomment",onClick:function(){X(""),function(e){var t=e.postId,n=e.userId,a=e.comment;return new Promise((function(e,c){var s=localStorage.getItem("token");q.a.post(H+"/api/v1/user/comment",{userId:n,postId:t,comment:a},{headers:{Authorization:s}}).then((function(t){e({comments:t.data.comments,NotificationId:t.data.NotificationId})})).catch((function(e){c(e)}))}))}({userId:u._id,postId:h._id,comment:Q}).then((function(e){var t=e.comments,n=e.NotificationId;t&&(le(t),ce(!0),$(null===t||void 0===t?void 0:t.length)),n&&N.emit("docomment",{NotificationId:n})})).catch((function(e){403==e.response.status&&(localStorage.removeItem("token"),localStorage.removeItem("user"),b.push("/login"))}))},children:Object(se.jsx)(Et.a,{style:{color:"#fff"}})})]}),ae?Object(se.jsx)("div",{className:"comments",children:null===oe||void 0===oe?void 0:oe.map((function(e,t){return Object(se.jsxs)("div",{className:"comment",children:[Object(se.jsx)("div",{className:"profilePhoto",children:Object(se.jsx)("img",{src:e.user.ProfilePhotos,alt:""})}),Object(se.jsxs)("div",{className:"content",children:[Object(se.jsxs)("div",{className:"header",children:[Object(se.jsxs)("span",{className:"me-4",children:[" ",e.user.name]}),Object(se.jsx)("span",{className:"date ms-4",children:ot()(e.date).fromNow()})]}),Object(se.jsx)("h6",{children:e.comment})]})]},t)}))}):null]})]},h._id)},Ft=n(492),zt=n(446);var Dt=function(){return Object(se.jsx)("div",{className:"FeedSkeleton p-5",children:Object(se.jsxs)(zt.a,{children:[Object(se.jsxs)("div",{className:"postHeader d-flex justify-content-between align-items-center",children:[Object(se.jsxs)("div",{className:"profile  d-flex justify-content-between",children:[Object(se.jsx)("div",{className:"img me-3",children:Object(se.jsx)(Ft.a,{variant:"circular",width:40,height:40})}),Object(se.jsxs)("div",{children:[Object(se.jsx)(Ft.a,{variant:"text",width:150}),Object(se.jsx)(Ft.a,{variant:"text",width:50})]})]}),Object(se.jsx)(Ft.a,{variant:"rectangular",width:10,height:30})]}),Object(se.jsx)(Ft.a,{variant:"text"}),Object(se.jsx)(Ft.a,{variant:"text"}),Object(se.jsx)(Ft.a,{variant:"rectangular",width:"100%",height:260,className:"mt-3"}),Object(se.jsxs)("div",{className:"profile  d-flex justify-content-between mt-3",children:[Object(se.jsx)(Ft.a,{variant:"text",width:50}),Object(se.jsx)(Ft.a,{variant:"text",width:50})]})]})})},Wt=n(19);function Lt(e){var t=e.page,n=e.userId,c=Object(a.useState)(!0),s=Object(r.a)(c,2),i=s[0],o=s[1],l=Object(a.useState)(!1),d=Object(r.a)(l,2),j=d[0],u=d[1],b=Object(a.useState)([]),h=Object(r.a)(b,2),m=h[0],O=h[1],x=Object(a.useState)(!1),f=Object(r.a)(x,2),p=f[0],v=f[1];return Object(a.useEffect)((function(){o(!0),u(!1),function(e){var t=e.userId,n=e.page;return new Promise(function(){var e=Object(B.a)(M.a.mark((function e(a,c){var s;return M.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:s=localStorage.getItem("token"),q.a.post(H+"/api/v1/user/getAllPost",{userId:t,page:n},{headers:{Authorization:s}}).then((function(e){a(e.data.posts)})).catch((function(e){c(e)}));case 2:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}())}({page:t,userId:n}).then((function(e){O((function(t){return Object(Wt.a)(new Set([].concat(Object(Wt.a)(t),Object(Wt.a)(e))))})),v(e.length>0),o(!1)})).catch((function(e){u(!0)}))}),[t,n]),{loading:i,error:j,posts:m,hasMore:p}}var Mt=function(e){var t=e.user,n=Object(a.useState)([]),c=Object(r.a)(n,2),s=c[0],i=c[1];Object(a.useEffect)((function(){void 0!==t._id&&function(e){var t=e.userId;return new Promise(function(){var e=Object(B.a)(M.a.mark((function e(n,a){var c;return M.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:c=localStorage.getItem("token"),q.a.get("http://localhost:4000/api/v1/user/getFollowRequest/".concat(t),{headers:{Authorization:c}}).then((function(e){n(e.data)})).catch((function(e){a(e)}));case 2:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}())}({userId:null===t||void 0===t?void 0:t._id}).then((function(e){i(e.followRequest)})).catch((function(e){}))}),[null===t||void 0===t?void 0:t._id]);var o=function(e){var n=s.filter((function(t){return e!==t._id}));Z({userId:e,currentuserId:t._id}).then((function(e){i(n)})).catch((function(e){}))};return Object(se.jsxs)("div",{children:[s.length<1?Object(se.jsx)(Je,{}):null,null===s||void 0===s?void 0:s.map((function(e,t){return Object(se.jsx)($e,{follow:o,request:e})}))]})},Bt=Object(Ae.a)({left:{padding:"20px"},right:{padding:"20px"},navItem:{maxWidth:"42px",maxHeight:"42px",minWidth:"42px",minHeight:"42px",borderRadius:10,backgroundColor:"#f1f1f1",padding:0},root:{background:"linear-gradient(45deg, #2196F3 30%, #21CBF3 90%)",border:0,borderRadius:3,boxShadow:"0 3px 5px 2px rgba(33, 203, 243, .3)",color:"#ffffff",height:42,padding:"0 30px"}});var Ut=function(){var e=Bt(),t=Object(d.c)((function(e){return e.user.user})),n=t,c=Object(a.useState)(1),s=Object(r.a)(c,2),i=s[0],o=s[1],l=Lt({page:i,userId:n._id}),j=l.posts,u=l.hasMore,b=l.loading,h=l.error,m=Object(a.useRef)(),O=Object(a.useCallback)((function(e){b||(m.current&&m.current.disconnect(),m.current=new IntersectionObserver((function(e){e[0].isIntersecting&&u&&o((function(e){return e+1}))})),e&&m.current.observe(e))}),[b,u]),x=Object(a.useState)([]),f=Object(r.a)(x,2),p=f[0],v=f[1];return Object(a.useEffect)((function(){new Promise((function(e,t){var n=localStorage.getItem("token");q.a.get(H+"/api/v1/user/getTrendingPost",{headers:{Authorization:n}}).then((function(t){e(t.data)})).catch((function(e){t(e)}))})).then((function(e){v(e)})).catch((function(e){console.log(e)}))}),[]),Object(se.jsx)("div",{className:"Hero",children:Object(se.jsxs)(I.a,{container:!0,children:[Object(se.jsx)(I.a,{item:!0,xs:12,md:2.5,sx:{display:{xs:"none",md:"none",lg:"block"}},className:e.left,children:Object(se.jsxs)("div",{style:{position:"sticky",top:"-30px"},children:[Object(se.jsx)(Me,{}),Object(se.jsx)(Ye,{}),Object(se.jsx)(Je,{})]})}),Object(se.jsxs)(I.a,{item:!0,xs:12,md:6.5,className:"mx-auto",children:[Object(se.jsx)(jt,{}),Object(se.jsx)(Xe,{user:n}),b?Object(se.jsxs)("div",{children:[" ",Object(se.jsx)(Dt,{})," ",Object(se.jsx)(Dt,{}),"  ",Object(se.jsx)(Dt,{})]}):null,p.map((function(e,n){return Object(se.jsx)("div",{children:Object(se.jsx)(Tt,{post:e,user:t},n)},n)})),j.map((function(e,n){return j.length===n+1?Object(se.jsx)("div",{ref:O,children:Object(se.jsx)(Tt,{post:e,user:t})},n):Object(se.jsx)(Tt,{post:e,user:t},n)})),Object(se.jsx)("div",{children:b&&"Loading..."}),Object(se.jsx)("div",{children:h&&"Error"})]}),Object(se.jsx)(I.a,{item:!0,xs:12,md:3,sx:{display:{xs:"none",md:"none",lg:"block"}},className:e.right,children:Object(se.jsx)("div",{style:{position:"sticky",top:"110px"},children:Object(se.jsx)(Mt,{user:n})})})]})})};var qt=function(){return Object(se.jsxs)("div",{children:[Object(se.jsx)(Re,{}),Object(se.jsx)(Ut,{}),Object(se.jsx)(We,{})]})},Ht=(n(296),n.p+"static/media/undraw_add_files.1a535b7f.svg"),Kt=n(132),Vt=n.n(Kt),Yt=(n(187),n(133)),Jt=n.n(Yt),$t=n(447),Zt={position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",width:400,bgcolor:"background.paper",boxShadow:24,p:4,borderRadius:"10px"},Gt={bucketName:Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}).REACT_APP_S3_BUCKET_NAME,dirName:"profiephotos",region:Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}).REACT_APP_REGION,accessKeyId:Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}).REACT_APP_S3_ACCESS_KEY_ID,secretAccessKey:Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}).REACT_APP_S3_SECRET_ACCESS_KEY};var Qt=function(){var e=Object(d.c)((function(e){return e.user.user})),t=Object(d.b)(),n=Object(o.g)(),s=c.a.useState(!1),i=Object(r.a)(s,2),l=i[0],j=i[1],u=Object(a.useState)(null),b=Object(r.a)(u,2),h=b[0],O=b[1],x=Object(a.useState)(null),f=Object(r.a)(x,2),p=f[0],v=f[1],g=Object(a.useState)(null),w=Object(r.a)(g,2),y=w[0],N=w[1],S=Object(a.useState)(null),P=Object(r.a)(S,2),k=P[0],I=P[1],A=Object(a.useState)({unit:"%",width:30,aspect:1}),_=Object(r.a)(A,2),T=_[0],z=_[1],D=Object(a.useState)(null),W=Object(r.a)(D,2),L=W[0],M=W[1],B=function(){j(!1),O(null)},U=function(e){if(L&&e.width&&e.height){K(L,e);N(y)}},K=function(e,t){var n=document.createElement("canvas"),a=e.naturalWidth/e.width,c=e.naturalHeight/e.height;n.width=t.width,n.height=t.height,n.getContext("2d").drawImage(e,t.x*a,t.y*c,t.width*a,t.height*c,0,0,t.width,t.height);var s=new FileReader;n.toBlob((function(e){var t=+new Date;s.readAsDataURL(e),s.onloadend=function(){V(s.result,"".concat(t,".jpg"))}}))},V=function(e,t){for(var n=e.split(","),a=n[0].match(/:(.*?);/)[1],c=atob(n[1]),s=c.length,i=new Uint8Array(s);s--;)i[s]=c.charCodeAt(s);var r=new File([i],t,{type:a});I(r)};return Object(se.jsxs)("div",{className:"AddPro",children:[Object(se.jsxs)(F.a,{style:{backgroundColor:"#ffffff50"},onClick:function(){return j(!0)},children:["  ",Object(se.jsx)($t.a,{}),"  "]}),Object(se.jsx)(ct.a,{open:l,onClose:B,"aria-labelledby":"modal-modal-title","aria-describedby":"modal-modal-description",children:Object(se.jsxs)(E.a,{sx:Zt,className:"box",children:[Object(se.jsxs)("div",{className:"header d-flex justify-content-between align-items-center mb-4",children:[Object(se.jsx)(R.a,{variant:"h6",component:"h2",style:{fontWeight:"bold"},children:"Add Profile Photo"}),Object(se.jsx)(F.a,{size:"large",style:{backgroundColor:"#eeeeee"},onClick:B,children:Object(se.jsx)(at.a,{})})]}),h?Object(se.jsxs)("div",{children:[Object(se.jsx)(Vt.a,{src:p,crop:T,onImageLoaded:function(e){M(e)},onComplete:U,onChange:function(e){z(e)}}),Object(se.jsx)(C.a,{onClick:function(){U(T)},children:"crop"}),Object(se.jsx)(C.a,{onClick:function(){B(),Jt.a.uploadFile(k,Gt).then((function(a){(function(e){var t=e.profilePhoto,n=e.currentuserId;return new Promise((function(e,a){var c=localStorage.getItem("token");q.a.post(H+"/api/v1/user/addProfilePhoto",{profilePhoto:t,currentuserId:n},{headers:{Authorization:c}}).then((function(t){localStorage.setItem("user",JSON.stringify(t.data.user)),e(t.data.user)})).catch((function(e){a(e)}))}))})({profilePhoto:a.location,currentuserId:e._id}).then((function(e){t(m(e))})).catch((function(e){403==e.response.status&&(localStorage.removeItem("token"),localStorage.removeItem("user"),n.push("/login"))}))})).catch((function(e){}))},children:"save"}),Object(se.jsx)("img",{src:y,alt:""})]}):Object(se.jsx)("div",{className:"content d-flex align-items-center   justify-content-center",children:Object(se.jsxs)("div",{className:"img",onClick:function(e){document.getElementById("input").click()},children:[Object(se.jsx)("img",{src:Ht,alt:""}),Object(se.jsx)("input",{type:"file",accept:"image/*",id:"input",style:{display:"none"},onChange:function(e){O(e.target.files[0]);var t=new FileReader;t.addEventListener("load",(function(){return v(t.result)})),t.readAsDataURL(e.target.files[0])}})]})})]})})]})},Xt=(n(324),{position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",width:400,bgcolor:"background.paper",boxShadow:24,p:4,borderRadius:"10px"}),en={bucketName:Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}).REACT_APP_S3_BUCKET_NAME,dirName:"CoverPhoto",region:Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}).REACT_APP_REGION,accessKeyId:Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}).REACT_APP_S3_ACCESS_KEY_ID,secretAccessKey:Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}).REACT_APP_S3_SECRET_ACCESS_KEY};var tn=function(){var e=Object(d.c)((function(e){return e.user.user})),t=Object(d.b)(),n=Object(o.g)(),s=c.a.useState(!1),i=Object(r.a)(s,2),l=i[0],j=i[1],u=Object(a.useState)(null),b=Object(r.a)(u,2),h=b[0],O=b[1],x=Object(a.useState)(null),f=Object(r.a)(x,2),p=f[0],v=f[1],g=Object(a.useState)(null),w=Object(r.a)(g,2),y=w[0],N=w[1],S=Object(a.useState)(null),P=Object(r.a)(S,2),k=P[0],I=P[1],A=Object(a.useState)({unit:"%",width:30,aspect:1.5}),_=Object(r.a)(A,2),T=_[0],z=_[1],D=Object(a.useState)(null),W=Object(r.a)(D,2),L=W[0],M=W[1],B=function(){j(!1),O(null)},U=function(e,t){var n=document.createElement("canvas"),a=e.naturalWidth/e.width,c=e.naturalHeight/e.height;n.width=t.width,n.height=t.height,n.getContext("2d").drawImage(e,t.x*a,t.y*c,t.width*a,t.height*c,0,0,t.width,t.height);var s=new FileReader;n.toBlob((function(e){var t=+new Date;s.readAsDataURL(e),s.onloadend=function(){K(s.result,"".concat(t,".jpg"))}}))},K=function(e,t){for(var n=e.split(","),a=n[0].match(/:(.*?);/)[1],c=atob(n[1]),s=c.length,i=new Uint8Array(s);s--;)i[s]=c.charCodeAt(s);var r=new File([i],t,{type:a});I(r)};return Object(se.jsxs)("div",{className:"AddPro",children:[Object(se.jsxs)(F.a,{style:{backgroundColor:"#ffffff50"},onClick:function(){return j(!0)},children:["  ",Object(se.jsx)($t.a,{}),"  "]}),Object(se.jsx)(ct.a,{open:l,onClose:B,"aria-labelledby":"modal-modal-title","aria-describedby":"modal-modal-description",children:Object(se.jsxs)(E.a,{sx:Xt,className:"box",children:[Object(se.jsxs)("div",{className:"header d-flex justify-content-between align-items-center mb-4",children:[Object(se.jsx)(R.a,{variant:"h6",component:"h2",style:{fontWeight:"bold"},children:"Add Cover Photo"}),Object(se.jsx)(F.a,{size:"large",style:{backgroundColor:"#eeeeee"},onClick:B,children:Object(se.jsx)(at.a,{})})]}),h?Object(se.jsxs)("div",{children:[Object(se.jsx)(Vt.a,{src:p,crop:T,onImageLoaded:function(e){M(e)},onComplete:function(e){if(L&&e.width&&e.height){var t=U(L,e);N(t)}},onChange:function(e){z(e)}}),Object(se.jsx)(C.a,{onClick:function(){B(),Jt.a.uploadFile(k,en).then((function(a){(function(e){var t=e.coverPhoto,n=e.currentuserId;return new Promise((function(e,a){var c=localStorage.getItem("token");q.a.post(H+"/api/v1/user/addCoverPhoto",{coverPhoto:t,currentuserId:n},{headers:{Authorization:c}}).then((function(t){localStorage.setItem("user",JSON.stringify(t.data.user)),e(t.data.user)})).catch((function(e){a(e)}))}))})({coverPhoto:a.location,currentuserId:e._id}).then((function(e){t(m(e))})).catch((function(e){403==e.response.status&&(localStorage.removeItem("token"),localStorage.removeItem("user"),n.push("/login"))}))})).catch((function(e){}))},children:"save"}),Object(se.jsx)("img",{src:y,alt:""})]}):Object(se.jsx)("div",{className:"content d-flex align-items-center   justify-content-center",children:Object(se.jsxs)("div",{className:"img",onClick:function(e){document.getElementById("input").click()},children:[Object(se.jsx)("img",{src:Ht,alt:""}),Object(se.jsx)("input",{type:"file",accept:"image/*",id:"input",style:{display:"none"},onChange:function(e){O(e.target.files[0]);var t=new FileReader;t.addEventListener("load",(function(){return v(t.result)})),t.readAsDataURL(e.target.files[0])}})]})})]})})]})},nn=n(56),an=n.n(nn),cn=n(219),sn=n.n(cn),rn=(n(330),sn()(an.a));var on=function(e){var t,n,c=e.user,s=Object(a.useState)(null),i=Object(r.a)(s,2),o=i[0],l=i[1],j=Object(d.c)((function(e){return e.user.user}));return Object(a.useEffect)((function(){var e,t=null===j||void 0===j||null===(e=j.followings)||void 0===e?void 0:e.findIndex((function(e){return console.log(e),e==c._id}));console.log(t),l(-1!==t)}),[c]),j._id===c._id?(t=null===j||void 0===j?void 0:j.ProfilePhotos,n=null===j||void 0===j?void 0:j.coverPhoto):(t=null===c||void 0===c?void 0:c.ProfilePhotos,n=null===c||void 0===c?void 0:c.coverPhoto),Object(se.jsx)("div",{className:"main",children:Object(se.jsx)("div",{className:"main-container",children:Object(se.jsxs)("div",{className:"profile",children:[Object(se.jsxs)("div",{className:"profile-avatar",children:[Object(se.jsxs)("div",{children:[j._id===c._id?Object(se.jsxs)(F.a,{className:"profile-ChangeIcon",style:{backgroundColor:"#ffffff50"},children:[" ",Object(se.jsx)(Qt,{}),"  "]}):null,Object(se.jsx)("img",{src:t?t[t.length-1]:Le,alt:"",className:"profile-img"})]}),Object(se.jsx)("div",{className:"profile-name",children:c.name})]}),Object(se.jsx)("div",{children:j._id===c._id?Object(se.jsxs)(F.a,{className:"cover-ChangeIcon",style:{backgroundColor:"#ffffff50"},children:["  ",Object(se.jsx)(tn,{}),"  "]}):null}),Object(se.jsx)("img",{src:n||"https://images.unsplash.com/photo-1508247967583-7d982ea01526?ixlib=rb-1.2.1&ixid=eyJhcHBfaWQiOjEyMDd9&auto=format&fit=crop&w=2250&q=80",alt:"",className:"profile-cover"}),Object(se.jsx)("div",{className:"profile-menu",children:Object(se.jsx)("div",{className:" m-3 ms-auto ",children:j._id===c._id?Object(se.jsx)(C.a,{variant:"outlined",children:" Edit Profile"}):Object(se.jsxs)("div",{children:[Object(se.jsx)(C.a,{variant:"contained",className:"me-3 followbtn",onClick:function(){return e=c._id,t=j._id,void(o?rn.fire({title:"Are you sure?",text:"You won't be able to Unfollow this!",icon:"warning",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Yes, Unfollow"}).then((function(n){n.isConfirmed&&(l((function(e){return!e})),Z({userId:e,currentuserId:t}).then((function(e){console.log(e)})).catch((function(e){console.log(e)})))})):(l((function(e){return!e})),Z({userId:e,currentuserId:t}).then((function(e){console.log(e)})).catch((function(e){console.log(e)}))));var e,t},children:o?"Unfollow":"Follow"}),Object(se.jsx)(C.a,{variant:"outlined",children:" Message"})]})})})]})})})},ln=n(448),dn=n(449),jn=n(450);n(331);var un=function(e){var t=e.user;return console.log(t),Object(se.jsx)("div",{className:"ProfileIntroCard mt-3",children:Object(se.jsxs)("div",{className:"card shadow p-4",children:[Object(se.jsx)("div",{className:"Heder fw-bold mb-3",children:"INTRODUCTION"}),t.hometown?Object(se.jsxs)("div",{className:"mb-2",children:[" ",Object(se.jsx)(ln.a,{})," Lives in ",Object(se.jsx)("span",{className:"fw-bold",children:t.hometown}),"    "]}):null,t.city?Object(se.jsxs)("div",{className:"mb-2",children:[" ",Object(se.jsx)(dn.a,{})," From  ",Object(se.jsx)("span",{className:"fw-bold",children:t.city}),"  "]}):null,t.college?Object(se.jsxs)("div",{className:"mb-2",children:[" ",Object(se.jsx)(jn.a,{})," Went to ",Object(se.jsxs)("span",{className:"fw-bold",children:[" ",t.college]})," "]}):t.highersecondary?Object(se.jsxs)("div",{className:"mb-2",children:[" ",Object(se.jsx)(jn.a,{})," Went to ",Object(se.jsxs)("span",{className:"fw-bold",children:[" ",t.highersecondary]})," "]}):t.highschool?Object(se.jsxs)("div",{className:"mb-2",children:[" ",Object(se.jsx)(jn.a,{})," Went to ",Object(se.jsxs)("span",{className:"fw-bold",children:[" ",t.highschool]})," "]}):null]})})};n(332);var bn=function(e){return Object(se.jsx)("div",{className:"ProfilePostListcard mt-3",children:Object(se.jsxs)("div",{className:"card p-3 shadow",children:[Object(se.jsx)("div",{className:"header fw-bold mb-3",children:"POSTS"}),Object(se.jsx)("div",{className:"row mx-autp",children:(null===e||void 0===e?void 0:e.ProfilePhotos)?null===e||void 0===e?void 0:e.ProfilePhotos.map((function(e,t){return t<6&&Object(se.jsx)("div",{className:"img",children:Object(se.jsx)("img",{src:e,alt:""})})})):null})]})})},hn=n(508),mn=n(457),On=n(479),xn=n(497);var fn=function(e){var t=e.posts,n=e.user;return Object(se.jsx)("div",{className:"ProfilePageViewPost",children:null!==t?t.map((function(e,t){return Object(se.jsx)(Tt,{post:e,user:n},t)})):null})};var pn=function(e){var t=e.user,n=Object(a.useState)([]),c=Object(r.a)(n,2),s=c[0],i=c[1];return Object(a.useEffect)((function(){(function(e){var t=e.userId;return new Promise(function(){var e=Object(B.a)(M.a.mark((function e(n,a){var c;return M.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:c=localStorage.getItem("token"),q.a.get("http://localhost:4000/api/v1/user/getTagedPost/".concat(t),{headers:{Authorization:c}}).then((function(e){n(e.data)})).catch((function(e){a(e)}));case 2:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}())})({userId:t._id}).then((function(e){i(e.TagedPost)})).catch((function(e){console.log(e)}))}),[t]),Object(se.jsx)("div",{className:"ProfilePageTagedPost",children:null!==s?s.map((function(e){return Object(se.jsx)(Tt,{post:e,user:t})})):null})};var vn=function(e){var t=e.user,n=Object(a.useState)([]),c=Object(r.a)(n,2),s=c[0],i=c[1];return Object(a.useEffect)((function(){(function(e){var t=e.userId;return new Promise(function(){var e=Object(B.a)(M.a.mark((function e(n,a){var c;return M.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:c=localStorage.getItem("token"),q.a.get("http://localhost:4000/api/v1/user/getSavedPosts/".concat(t),{headers:{Authorization:c}}).then((function(e){n(e.data)})).catch((function(e){a(e)}));case 2:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}())})({userId:t._id}).then((function(e){i(e.SavedPosts)})).catch((function(e){console.log(e)}))}),[t]),Object(se.jsx)("div",{className:"ProfilePageSavedPost",children:null!==s?s.map((function(e){return Object(se.jsx)(Tt,{post:e,user:t})})):null})};n(193);var gn=function(e){var t=e.user,n=Object(a.useState)([]),c=Object(r.a)(n,2),s=c[0],i=c[1],l=Object(o.g)();return Object(a.useEffect)((function(){(function(e){var t=e.userId;return new Promise(function(){var e=Object(B.a)(M.a.mark((function e(n,a){var c;return M.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:c=localStorage.getItem("token"),q.a.get("http://localhost:4000/api/v1/user/getFollowers/".concat(t),{headers:{Authorization:c}}).then((function(e){n(e.data)})).catch((function(e){a(e)}));case 2:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}())})({userId:t._id}).then((function(e){i(e.followers)})).catch((function(){}))}),[t]),Object(se.jsx)("div",{className:"getFollowers",children:Object(se.jsx)("div",{className:"row",children:s.map((function(e){return console.log(e),Object(se.jsx)("div",{className:"col-md-6",children:Object(se.jsxs)("div",{className:"card",onClick:function(){return l.push("/profile/".concat(e._id))},children:[Object(se.jsx)("div",{className:"img",children:Object(se.jsx)("img",{src:e.ProfilePhotos?e.ProfilePhotos:null,alt:""})}),Object(se.jsxs)("div",{children:[Object(se.jsx)("span",{className:"fw-bold",children:e.name}),Object(se.jsxs)("p",{children:["@",e.username]})]})]})})}))})})};var wn=function(e){var t=e.user,n=Object(a.useState)([]),c=Object(r.a)(n,2),s=c[0],i=c[1],l=Object(o.g)();return Object(a.useEffect)((function(){(function(e){var t=e.userId;return new Promise(function(){var e=Object(B.a)(M.a.mark((function e(n,a){var c;return M.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:c=localStorage.getItem("token"),q.a.get("http://localhost:4000/api/v1/user/getFollowings/".concat(t),{headers:{Authorization:c}}).then((function(e){n(e.data)})).catch((function(e){a(e)}));case 2:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}())})({userId:t._id}).then((function(e){i(e.followings)})).catch((function(){}))}),[t]),Object(se.jsx)("div",{className:"getFollowers",children:Object(se.jsx)("div",{className:"row",children:null===s||void 0===s?void 0:s.map((function(e){return console.log(e),console.log(s),Object(se.jsx)("div",{className:"col-md-6",children:Object(se.jsxs)("div",{className:"card",onClick:function(){return l.push("/profile/".concat(e._id))},children:[Object(se.jsx)("div",{className:"img",children:Object(se.jsx)("img",{src:(null===e||void 0===e?void 0:e.ProfilePhotos)?null===e||void 0===e?void 0:e.ProfilePhotos:null,alt:""})}),Object(se.jsxs)("div",{children:[Object(se.jsx)("span",{className:"fw-bold",children:null===e||void 0===e?void 0:e.name}),Object(se.jsxs)("p",{children:["@",null===e||void 0===e?void 0:e.username]})]})]})})}))})})},yn=n(451),Nn=n(452),Sn=n(453),Cn=n(454),Pn=n(455),kn=n(456);var In=function(e){var t=e.user;return console.log(t),Object(se.jsxs)("div",{className:"ProfilePageAbout ",children:[Object(se.jsx)("div",{className:"card shadow p-5",children:Object(se.jsxs)(R.a,{variant:"h5",children:["ABOUT ",Object(se.jsx)("span",{className:"heading",children:t.name})," "]})}),Object(se.jsx)("div",{className:"card shadow p-5",children:Object(se.jsxs)("div",{className:"Profile",children:[Object(se.jsx)("div",{className:"img",children:Object(se.jsx)("img",{src:t.ProfilePhotos?t.ProfilePhotos.pop():null,alt:"",className:"ProfilePhoto"})}),Object(se.jsxs)("div",{children:[t.name?Object(se.jsxs)(R.a,{margin:"10px",children:["  ",Object(se.jsx)(yn.a,{}),"   ",t.name," "]}):null,t.username?Object(se.jsxs)(R.a,{margin:"10px",children:["   ",Object(se.jsx)(yn.a,{}),"  @",t.username," "]}):null,t.email?Object(se.jsxs)(R.a,{margin:"10px",children:[" ",Object(se.jsx)(Nn.a,{}),"   ",t.email," "]}):null,t.phone?Object(se.jsxs)(R.a,{margin:"10px",children:[" ",Object(se.jsx)(ae.a,{}),"  ",t.phone," "]}):null]})]})}),Object(se.jsx)("div",{className:"card shadow p-5",children:Object(se.jsxs)("div",{className:"d-flex justify-content-between",children:[t.Facebook?Object(se.jsxs)("a",{href:t.Facebook,children:[Object(se.jsx)(Sn.a,{style:{color:"#4065AD"}})," "]}):null,t.Twitter?Object(se.jsxs)("a",{href:t.Twitter,children:[Object(se.jsx)(Cn.a,{style:{color:"#00acee"}})," "]}):null,t.LinkedIn?Object(se.jsxs)("a",{href:t.LinkedIn,children:[Object(se.jsx)(Pn.a,{style:{color:"#0e76a8"}})," "]}):null,t.Instagram?Object(se.jsxs)("a",{href:t.Instagram,children:[Object(se.jsx)(kn.a,{style:{color:"#E1416A",size:"40px"}})," "]}):null]})})]})};var En=function(){var e=Object(o.i)().userId,t=Object(a.useState)({}),n=Object(r.a)(t,2),s=n[0],i=n[1],l=Object(a.useState)([]),d=Object(r.a)(l,2),j=d[0],u=d[1],b=c.a.useState("1"),h=Object(r.a)(b,2),m=h[0],O=h[1];return Object(a.useEffect)((function(){console.log(e),function(e){return new Promise(function(){var t=Object(B.a)(M.a.mark((function t(n,a){var c;return M.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:c=localStorage.getItem("token"),q.a.get("http://localhost:4000/api/v1/user/getProfileDetails/".concat(e),{headers:{Authorization:c}}).then((function(e){n({user:e.data.user[0],posts:e.data.posts})})).catch((function(e){a(e)}));case 2:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}())}(e).then((function(e){var t=e.user,n=e.posts;i(t),u(n),console.log(t,n)})).catch((function(e){console.log(e)}))}),[e]),Object(se.jsxs)("div",{className:"ProfilePage",children:[Object(se.jsx)(Re,{}),Object(se.jsxs)("div",{className:"row mt-5 me-0",children:[Object(se.jsx)("div",{className:"col-lg-3 p-2 pt-5 d-md-none d-lg-block   left",children:Object(se.jsxs)("div",{style:{position:"sticky",top:"-170px"},children:[Object(se.jsx)(Me,{}),Object(se.jsx)(Ye,{}),Object(se.jsx)(Je,{})]})}),Object(se.jsxs)("div",{className:"col-lg-9 mt-5 center",children:[Object(se.jsx)(on,{user:s}),Object(se.jsxs)("div",{className:"row me-0",children:[Object(se.jsxs)("div",{className:"col-lg-5 order-lg-last",children:[Object(se.jsx)(un,{user:s}),Object(se.jsx)(bn,{user:s})]}),Object(se.jsx)("div",{className:"col-lg-7  order-lg-first ",children:Object(se.jsxs)(mn.a,{value:m,children:[Object(se.jsx)(E.a,{sx:{borderBottom:1,borderColor:"divider"},children:Object(se.jsxs)(On.a,{onChange:function(e,t){O(t)},"aria-label":"lab API tabs example",variant:"scrollable",scrollButtons:"auto",children:[Object(se.jsx)(hn.a,{label:"Posts",value:"1"}),Object(se.jsx)(hn.a,{label:"Taged Posts",value:"2"}),Object(se.jsx)(hn.a,{label:"Saved Posts",value:"3"}),Object(se.jsx)(hn.a,{label:"Followers",value:"4"}),Object(se.jsx)(hn.a,{label:"Followings",value:"5"}),Object(se.jsx)(hn.a,{label:"About",value:"6"})]})}),Object(se.jsx)(xn.a,{value:"1",children:Object(se.jsx)(fn,{posts:j,user:s})}),Object(se.jsx)(xn.a,{value:"2",children:Object(se.jsx)(pn,{user:s})}),Object(se.jsx)(xn.a,{value:"3",children:Object(se.jsx)(vn,{user:s})}),Object(se.jsx)(xn.a,{value:"4",children:Object(se.jsx)(gn,{user:s})}),Object(se.jsx)(xn.a,{value:"5",children:Object(se.jsx)(wn,{user:s})}),Object(se.jsx)(xn.a,{value:"6",children:Object(se.jsx)(In,{user:s})})]})})]})]})]}),Object(se.jsx)(We,{})]})},An=n(458),_n=n(459),Rn=n(460),Tn=n(461),Fn=n(462);n(333);var zn=function(){return Object(se.jsx)("div",{className:"Settings",children:Object(se.jsxs)("div",{className:"card p-4",children:[Object(se.jsx)("div",{className:"head fw-bold",children:"Settings"}),Object(se.jsx)("div",{className:"subhead",children:"Genaral"}),Object(se.jsx)("div",{className:"item",children:Object(se.jsxs)(te.b,{to:"/AccountDetails",children:[Object(se.jsx)(An.a,{}),"  Account Informations"]})}),Object(se.jsxs)("div",{className:"item",children:[Object(se.jsx)(ln.a,{})," Saved Address"]}),Object(se.jsx)("div",{className:"item",children:Object(se.jsxs)(te.b,{to:"/AddSocialAccount",children:[Object(se.jsx)(_n.a,{})," Social Acount"]})}),Object(se.jsx)("div",{className:"subhead",children:"Account"}),Object(se.jsxs)("div",{className:"item",children:[Object(se.jsx)(yn.a,{}),"  My Account"]}),Object(se.jsx)("div",{className:"item",children:Object(se.jsxs)(te.b,{to:"/resetPasswords",children:[Object(se.jsx)(Rn.a,{})," Password"]})}),Object(se.jsx)("div",{className:"subhead",children:"Others"}),Object(se.jsx)("div",{className:"item",children:Object(se.jsxs)(C.a,{to:"/notification",component:te.b,children:[Object(se.jsx)(Tn.a,{}),"  Notification"]})}),Object(se.jsxs)("div",{className:"item",children:[Object(se.jsx)(Fn.a,{})," Help"]}),Object(se.jsxs)("div",{className:"item",children:[Object(se.jsx)(Ke.a,{})," Logout"]})]})})},Dn=(n(334),Object(Ae.a)({left:{padding:"20px"},right:{padding:"20px"},navItem:{maxWidth:"42px",maxHeight:"42px",minWidth:"42px",minHeight:"42px",borderRadius:10,backgroundColor:"#f1f1f1",padding:0},root:{background:"linear-gradient(45deg, #2196F3 30%, #21CBF3 90%)",border:0,borderRadius:3,boxShadow:"0 3px 5px 2px rgba(33, 203, 243, .3)",color:"#ffffff",height:42,padding:"0 30px"}}));var Wn=function(){var e=Dn(),t=Object(d.c)((function(e){return e.user.user}));return Object(se.jsxs)("div",{className:"settingsPage ",children:[Object(se.jsx)(Re,{}),Object(se.jsxs)(I.a,{container:!0,children:[Object(se.jsx)(I.a,{item:!0,xs:12,md:2.5,sx:{display:{xs:"none",md:"none",lg:"block"}},className:e.left,children:Object(se.jsxs)("div",{style:{position:"sticky",top:"-150px"},children:[Object(se.jsx)(Me,{}),Object(se.jsx)(Ye,{}),Object(se.jsx)(Je,{})]})}),Object(se.jsx)(I.a,{item:!0,xs:12,md:6.5,className:"mx-auto",children:Object(se.jsx)(zn,{})}),Object(se.jsx)(I.a,{item:!0,xs:12,md:3,sx:{display:{xs:"none",md:"none",lg:"block"}},className:e.right,children:Object(se.jsx)("div",{style:{position:"sticky",top:"100px"},children:Object(se.jsx)(Mt,{user:t})})})]}),Object(se.jsx)(We,{})]})},Ln=n(463);n(335);var Mn=function(){var e=Object(o.g)(),t=Object(d.c)((function(e){return e.user.user})),n=Object(j.a)({},t),a=function(e){n=Object(j.a)(Object(j.a)({},n),{},Object(le.a)({},e.target.name,e.target.value))};return Object(se.jsx)("div",{className:"AccountDetails",children:Object(se.jsxs)("div",{className:"card ",children:[Object(se.jsxs)("div",{className:"Head",children:[Object(se.jsx)("div",{className:"backIcon",children:Object(se.jsxs)(F.a,{style:{backgroundColor:"#ffffff",marginRight:"20px"},children:["  ",Object(se.jsx)(Ln.a,{style:{color:"#007fff"}})]})}),"Account Details"]}),Object(se.jsxs)("div",{className:"profile p-3",children:[Object(se.jsx)("div",{className:"img",children:Object(se.jsx)("img",{src:"",alt:""})}),Object(se.jsx)(R.a,{variant:"h5",children:n.name}),Object(se.jsxs)(R.a,{variant:"h6",children:["@",n.username]})]}),Object(se.jsx)("div",{className:"Details p-3",children:Object(se.jsx)("form",{action:"",children:Object(se.jsxs)("div",{className:"row",children:[Object(se.jsx)("div",{className:"col-lg-6",children:Object(se.jsx)(k.a,{fullWidth:!0,id:"FirstName",label:"Name",autoComplete:"family-name",value:n.name,disabled:!0})}),Object(se.jsx)("div",{className:"col-lg-6",children:Object(se.jsx)(k.a,{required:!0,fullWidth:!0,disabled:!0,id:"Last name",label:"User Name",value:n.username,autoComplete:"family-name"})}),Object(se.jsx)("div",{className:"col-lg-6",children:Object(se.jsx)(k.a,{required:!0,fullWidth:!0,disabled:!!n.email,id:"Email",label:"Email",name:"email",value:n.email?n.email:null,autoComplete:"family-name"})}),Object(se.jsx)("div",{className:"col-lg-6",children:Object(se.jsx)(k.a,{required:!0,fullWidth:!0,disabled:!!n.phone,id:"Phone",label:"Phone Nummber",value:n.phone?n.phone:null,name:"phone",onChange:a,autoComplete:"family-name"})}),Object(se.jsx)("div",{className:"col-lg-12",children:Object(se.jsx)(k.a,{required:!0,fullWidth:!0,id:"address",label:"Address Line 1",name:"address1",value:n.address1?n.address1:null,autoComplete:"family-name",onChange:a})}),Object(se.jsx)("div",{className:"col-lg-12",children:Object(se.jsx)(k.a,{required:!0,fullWidth:!0,id:"addresstwo",label:"Address Line 2",name:"address2",value:n.address2?n.address2:null,autoComplete:"family-name",onChange:a})}),Object(se.jsx)("div",{className:"col-lg-6",children:Object(se.jsx)(k.a,{required:!0,fullWidth:!0,id:"HomeTown",label:"Home Town",name:"hometown",value:n.hometown?n.hometown:null,onChange:a})}),Object(se.jsx)("div",{className:"col-lg-6",children:Object(se.jsx)(k.a,{required:!0,fullWidth:!0,id:"City",label:"City",name:"city",value:n.city?n.city:null,autoComplete:"family-name",onChange:a})}),Object(se.jsx)("div",{className:"col-lg-6",children:Object(se.jsx)(k.a,{required:!0,fullWidth:!0,id:"State",label:"State",name:"state",value:n.state?n.state:null,autoComplete:"state",onChange:a})}),Object(se.jsx)("div",{className:"col-lg-6",children:Object(se.jsx)(k.a,{required:!0,fullWidth:!0,id:"Pincode",label:"PinCode",value:n.pincode?n.pincode:null,name:"pincode",autoComplete:"family-name",onChange:a})}),Object(se.jsx)("div",{className:"col-lg-6",children:Object(se.jsx)(k.a,{required:!0,fullWidth:!0,id:"EmployStatus",label:"Employ Status",name:"employstatus",autoComplete:"family-name",value:n.employstatus&&n.employstatus,onChange:a})}),Object(se.jsx)("div",{className:"col-lg-6",children:Object(se.jsx)(k.a,{required:!0,fullWidth:!0,id:"c",label:"Current Working Place",name:"workingplace",autoComplete:"family-name",value:n.workingplace?n.workingplace:null,onChange:a})}),Object(se.jsx)("div",{className:"col-lg-6",children:Object(se.jsx)(k.a,{required:!0,fullWidth:!0,id:"qualification",label:"Education Qualification",name:"qualification",autoComplete:"family-name",value:n.qualification?n.qualification:null,onChange:a})}),Object(se.jsx)("div",{className:"col-lg-6",children:Object(se.jsx)(k.a,{required:!0,fullWidth:!0,id:"highschool",label:"High School",name:"highschool",value:n.highschool?n.highschool:null,autoComplete:"family-name",onChange:a})}),Object(se.jsx)("div",{className:"col-lg-6",children:Object(se.jsx)(k.a,{required:!0,fullWidth:!0,id:"highersecondary",label:"Higher Secondary",name:"highersecondary",autoComplete:"family-name",value:n.highersecondary&&n.highersecondary,onChange:a})}),Object(se.jsx)("div",{className:"col-lg-6",children:Object(se.jsx)(k.a,{required:!0,fullWidth:!0,id:"college",label:"College",name:"college",autoComplete:"family-name",onChange:a,value:n.college?n.college:null})}),Object(se.jsx)("div",{className:"saveButton",children:Object(se.jsx)(C.a,{variant:"contained",onClick:function(){var t;(t=n,new Promise(function(){var e=Object(B.a)(M.a.mark((function e(n,a){var c;return M.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:c=localStorage.getItem("token"),q.a.post(H+"/api/v1/user/addAccountDetails",{userdata:t},{headers:{Authorization:c}}).then((function(e){localStorage.setItem("user",JSON.stringify(e.data)),n(e.data.user)})).catch((function(e){a(e)}));case 2:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}())).then((function(e){})).catch((function(t){403==t.response.status&&(localStorage.removeItem("token"),localStorage.removeItem("user"),e.push("/login"))}))},children:"Save Data"})})]})})})]})})};n(336);var Bn=function(){var e=Object(d.c)((function(e){return e.user.user}));return Object(se.jsxs)("div",{className:"AccountDetailsPage",children:[Object(se.jsx)(Re,{}),Object(se.jsxs)("div",{className:"row",children:[Object(se.jsxs)("div",{className:"col-lg-3",children:[Object(se.jsx)(Me,{}),Object(se.jsx)(Ye,{}),Object(se.jsx)(Je,{})]}),Object(se.jsx)("div",{className:"col-lg-6",children:Object(se.jsx)(Mn,{})}),Object(se.jsx)("div",{className:"col-lg-3",children:Object(se.jsx)(Mt,{user:e})})]}),Object(se.jsx)(We,{})]})},Un=(n(337),n(464));var qn=function(){var e=Object(o.g)(),t=Object(a.useState)([]),n=Object(r.a)(t,2),c=n[0],s=n[1],i=Object(d.c)((function(e){return e.user.user}));return Object(se.jsx)("div",{className:"Search",children:Object(se.jsxs)("div",{className:"card ",children:[Object(se.jsxs)("div",{className:"Head",children:[Object(se.jsx)("div",{className:"backIcon",children:Object(se.jsxs)(F.a,{style:{backgroundColor:"#ffffff",marginRight:"20px"},children:["  ",Object(se.jsx)(Ln.a,{style:{color:"#007fff"}})]})}),Object(se.jsx)(k.a,{fullWidth:!0,id:"standard-bare",autoComplete:"off",variant:"standard",placeholder:"Search",onChange:function(e){(function(e){var t=e.keyword,n=e.userId;return new Promise(function(){var e=Object(B.a)(M.a.mark((function e(a,c){var s;return M.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:s=localStorage.getItem("token"),q.a.get("http://localhost:4000/api/v1/user/search/".concat(n,"/").concat(t),{headers:{Authorization:s}}).then((function(e){a(e.data)})).catch((function(e){c(e)}));case 2:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}())})({keyword:e.target.value,userId:i._id}).then((function(e){s(e),console.log(e)})).catch((function(){}))},style:{color:"red"},InputProps:{endAdornment:Object(se.jsx)(F.a,{children:Object(se.jsx)(Un.a,{style:{color:"#ffffff"},autocomplete:"off"})})}})]}),Object(se.jsx)("div",{className:"resuls",children:c?c.map((function(t,n){return Object(se.jsxs)("div",{className:"searchcard",children:[Object(se.jsxs)("div",{className:"searchbody",onClick:function(){return n=t._id,void e.push("/profile/".concat(n));var n},children:[Object(se.jsx)("div",{className:"img",children:Object(se.jsx)("img",{src:"",alt:""})}),Object(se.jsxs)("div",{children:[Object(se.jsx)("h6",{children:t.name}),Object(se.jsx)("h5",{children:t.username})]})]}),Object(se.jsx)("div",{className:"followbtn flex-end",children:t.following?null:Object(se.jsx)(C.a,{children:"follow"})})]},t._id)})):"fdfasdf"})]})})},Hn=(n(338),Object(Ae.a)({left:{padding:"20px"},right:{padding:"20px"},navItem:{maxWidth:"42px",maxHeight:"42px",minWidth:"42px",minHeight:"42px",borderRadius:10,backgroundColor:"#f1f1f1",padding:0},root:{background:"linear-gradient(45deg, #2196F3 30%, #21CBF3 90%)",border:0,borderRadius:3,boxShadow:"0 3px 5px 2px rgba(33, 203, 243, .3)",color:"#ffffff",height:42,padding:"0 30px"}}));var Kn=function(){var e=Hn(),t=Object(d.c)((function(e){return e.user.user}));return Object(se.jsxs)("div",{className:"Searchpage",children:[Object(se.jsx)(Re,{}),Object(se.jsxs)(I.a,{container:!0,children:[Object(se.jsx)(I.a,{item:!0,xs:12,md:2.5,sx:{display:{xs:"none",md:"none",lg:"block"}},className:e.left,children:Object(se.jsxs)("div",{style:{position:"sticky",top:"-150px"},children:[Object(se.jsx)(Me,{}),Object(se.jsx)(Ye,{}),Object(se.jsx)(Je,{})]})}),Object(se.jsx)(I.a,{item:!0,xs:12,md:6.5,className:"mx-auto",children:Object(se.jsx)(qn,{})}),Object(se.jsx)(I.a,{item:!0,xs:12,md:3,sx:{display:{xs:"none",md:"none",lg:"block"}},className:e.right,children:Object(se.jsx)("div",{style:{position:"sticky",top:"100px"},children:Object(se.jsx)(Mt,{user:t})})})]}),Object(se.jsx)(We,{})]})},Vn=n(466),Yn=n(467),Jn=n(468),$n=n(469),Zn=n(509),Gn=n(7),Qn=n(136),Xn=n.n(Qn);n(343);var ea,ta=function(e){var t=e.setLocation,n=Object(a.useState)(""),c=Object(r.a)(n,2),s=c[0],i=c[1];return Object(se.jsx)(Xn.a,{value:s,onChange:function(e){i(e)},onSelect:function(e){var n=e.split(",");t(n[0]),Object(Qn.geocodeByAddress)(e).then((function(e){return Object(Qn.getLatLng)(e[0])})).then((function(e){return console.log("Success",e)})).catch((function(e){return console.error("Error",e)}))},children:function(e){var t=e.getInputProps,n=e.suggestions,a=e.getSuggestionItemProps,c=e.loading;return Object(se.jsxs)("div",{children:[Object(se.jsx)("input",Object(j.a)({style:{borderRadius:"25px",padding:"10px",border:"1px solid black",maxWdth:"360px"},label:"Search Places ..."},t({placeholder:"Search Places ...",className:"location-search-input"}))),Object(se.jsxs)("div",{className:"autocomplete-dropdown-container",children:[c&&Object(se.jsx)("div",{children:"Loading..."}),n.map((function(e){var t=e.active?"suggestion-item--active":"suggestion-item",n=e.active?{backgroundColor:"#fafafa",cursor:"pointer"}:{backgroundColor:"#ffffff",cursor:"pointer"};return Object(se.jsx)("div",Object(j.a)(Object(j.a)({},a(e,{className:t,style:n})),{},{children:Object(se.jsx)("span",{children:e.description})}))}))]})]})}})},na=(n(344),n(100)),aa=n(30),ca=n(465),sa=n(221),ia=n.n(sa),ra=n(220),oa=n.n(ra),la=["label","onDelete"],da=Object(Gn.a)("div")((function(e){var t=e.theme;return"\n  color: ".concat("dark"===t.palette.mode?"rgba(255,255,255,0.65)":"rgba(0,0,0,.85)",";\n  font-size: 14px;\n")})),ja=Object(Gn.a)("label")(ea||(ea=Object(aa.a)(["\n  padding: 0 0 4px;\n  line-height: 1.5;\n  display: block;\n"]))),ua=Object(Gn.a)("div")((function(e){var t=e.theme;return"\n  min-width: 340px;\n  max-width: 360px;\n  border: 1px solid ".concat("dark"===t.palette.mode?"#434343":"#d9d9d9",";\n  background-color: ").concat("dark"===t.palette.mode?"#141414":"#fff",";\n  border-radius: 25px;\n  padding: 10px;\n  display: flex;\n  flex-wrap: wrap;\n\n  &:hover {\n    border-color: ").concat("dark"===t.palette.mode?"#177ddc":"#40a9ff",";\n  }\n\n  &.focused {\n    border-color: ").concat("dark"===t.palette.mode?"#177ddc":"#40a9ff",";\n    box-shadow: 0 0 0 2px rgba(24, 144, 255, 0.2);\n  }\n\n  & input {\n    background-color: ").concat("dark"===t.palette.mode?"#141414":"#fff",";\n    color: ").concat("dark"===t.palette.mode?"rgba(255,255,255,0.65)":"rgba(0,0,0,.85)",";\n    height: 30px;\n    box-sizing: border-box;\n    padding: 4px 6px;\n    width: 0;\n    min-width: 30px;\n    flex-grow: 1;\n    border: 0;\n    margin: 0;\n    outline: 0;\n  }\n")}));var ba=Object(Gn.a)((function(e){var t=e.label,n=e.onDelete,a=Object(na.a)(e,la);return Object(se.jsxs)("div",Object(j.a)(Object(j.a)({},a),{},{children:[Object(se.jsx)("span",{children:t}),Object(se.jsx)(oa.a,{onClick:n})]}))}))((function(e){var t=e.theme;return"\n  display: flex;\n  align-items: center;\n  height: 24px;\n  margin: 2px;\n  line-height: 22px;\n  background-color: ".concat("dark"===t.palette.mode?"rgba(255,255,255,0.08)":"#fafafa",";\n  border: 1px solid ").concat("dark"===t.palette.mode?"#303030":"#e8e8e8",";\n  border-radius: 2px;\n  box-sizing: content-box;\n  padding: 0 4px 0 10px;\n  outline: 0;\n  overflow: hidden;\n\n  &:focus {\n    border-color: ").concat("dark"===t.palette.mode?"#177ddc":"#40a9ff",";\n    background-color: ").concat("dark"===t.palette.mode?"#003b57":"#e6f7ff",";\n  }\n\n  & span {\n    overflow: hidden;\n    white-space: nowrap;\n    text-overflow: ellipsis;\n  }\n\n  & svg {\n    font-size: 12px;\n    cursor: pointer;\n    padding: 4px;\n  }\n")})),ha=Object(Gn.a)("ul")((function(e){var t=e.theme;return"\n  width: 300px;\n  margin: 2px 0 0;\n  padding: 0;\n  position: absolute;\n  list-style: none;\n  background-color: ".concat("dark"===t.palette.mode?"#141414":"#fff",";\n  overflow: auto;\n  max-height: 250px;\n  border-radius: 4px;\n  box-shadow: 0 2px 8px rgba(0, 0, 0, 0.15);\n  z-index: 1;\n\n  & li {\n    padding: 5px 12px;\n    display: flex;\n\n    & span {\n      flex-grow: 1;\n    }\n\n    & svg {\n      color: transparent;\n    }\n  }\n\n  & li[aria-selected='true'] {\n    background-color: ").concat("dark"===t.palette.mode?"#2b2b2b":"#fafafa",";\n    font-weight: 600;\n\n    & svg {\n      color: #1890ff;\n    }\n  }\n\n  & li[data-focus='true'] {\n    background-color: ").concat("dark"===t.palette.mode?"#003b57":"#e6f7ff",";\n    cursor: pointer;\n\n    & svg {\n      color: currentColor;\n    }\n  }\n")}));function ma(e){var t=e.userId,n=e.setTag,c=Object(a.useState)([]),s=Object(r.a)(c,2),i=s[0],l=s[1],d=Object(o.g)();Object(a.useEffect)((function(){$({userId:t}).then((function(e){l(e)})).catch((function(e){403==e.response.status&&(localStorage.removeItem("token"),localStorage.removeItem("user"),d.push("/login"))}))}),[]);var u=Object(ca.a)({id:"customized-hook-demo",multiple:!0,options:i,getOptionLabel:function(e){return e.user.name}}),b=u.getRootProps,h=u.getInputLabelProps,m=u.getInputProps,O=u.getTagProps,x=u.getListboxProps,f=u.getOptionProps,p=u.groupedOptions,v=u.value,g=u.focused,w=u.setAnchorEl;return Object(a.useEffect)((function(){n(v)}),[v]),Object(se.jsxs)(da,{children:[Object(se.jsxs)("div",Object(j.a)(Object(j.a)({},b()),{},{children:[Object(se.jsx)(ja,Object(j.a)(Object(j.a)({},h()),{},{children:"Tag Post With Your friends"})),Object(se.jsxs)(ua,{ref:w,className:g?"focused":"",children:[v.map((function(e,t){return Object(se.jsx)(ba,Object(j.a)({label:e.user.name},O(e.user.name)))})),Object(se.jsx)("input",Object(j.a)({},m()))]})]})),p.length>0?Object(se.jsx)(ha,Object(j.a)(Object(j.a)({},x()),{},{children:p.map((function(e,t){return Object(se.jsxs)("li",Object(j.a)(Object(j.a)({},f({option:e,index:t})),{},{children:[Object(se.jsx)("span",{children:e.user.name}),Object(se.jsx)(ia.a,{fontSize:"small"})]}))}))})):null]})}xt.d.use([xt.c]);var Oa=Object(Gn.a)("input")({display:"none"}),xa=5120;var fa=function(){var e=Object(a.useState)([]),t=Object(r.a)(e,2),n=t[0],c=t[1],s=Object(a.useState)([]),i=Object(r.a)(s,2),l=i[0],j=i[1],u=Object(a.useState)(""),b=Object(r.a)(u,2),h=b[0],m=b[1],O=Object(a.useState)("PUBLIC"),x=Object(r.a)(O,2),f=x[0],p=(x[1],Object(a.useState)([])),v=Object(r.a)(p,2),g=(v[0],v[1],Object(a.useState)("")),w=Object(r.a)(g,2),y=w[0],N=w[1],S=Object(a.useState)(""),P=Object(r.a)(S,2),k=P[0],I=P[1],A=Object(a.useState)(""),_=Object(r.a)(A,2),T=_[0],z=_[1],D=Object(a.useState)(!1),W=Object(r.a)(D,2),L=W[0],M=W[1],B=Object(a.useState)([]),U=Object(r.a)(B,2),H=U[0],K=U[1],V=Object(a.useState)(""),Y=Object(r.a)(V,2),$=Y[0],Z=Y[1],G=Object(a.useState)([]),Q=Object(r.a)(G,2),X=Q[0],ee=Q[1],te=Object(a.useState)(null),ne=Object(r.a)(te,2),ae=ne[0],ce=ne[1],ie=Object(a.useState)(null),re=Object(r.a)(ie,2),oe=re[0],le=re[1],de=Object(a.useState)(null),je=Object(r.a)(de,2),ue=je[0],be=je[1],he=Object(a.useState)(null),me=Object(r.a)(he,2),Oe=me[0],xe=me[1],fe=new FormData,pe=Object(d.c)((function(e){return e.user.user})),ve=pe,ge=null===ve||void 0===ve?void 0:ve.ProfilePhotos,we=Object(o.g)();function ye(){var e=new FileReader,t=X[ae];if(t){var n=ue*xa,a=n+xa,c=t.slice(n,a);e.onload=function(e){return function(e){var t=X[ae],n=e.target.result,a=new URLSearchParams;a.set("name",t.name),a.set("postId",$),a.set("size",t.size),a.set("currentChunkIndex",ue),a.set("totalChunks",Math.ceil(t.size/xa));var c={"Content-Type":"application/octet-stream"},s="http://socialmediaserver.kallungal.tech/api/v1/user/upload?"+a.toString();q.a.post(s,n,{headers:c}).then((function(e){var t=X[ae],n=X[ae].size,a=Math.ceil(n/xa)-1;ue===a?(t.finalFilename=e.data.finalFilename,le(ae),be(null),Z(e.postId),M(!1),we.push("/")):be(ue+1)}))}(e)},e.readAsDataURL(c)}}return Object(a.useEffect)((function(){}),[H]),Object(a.useEffect)((function(){if(null!==oe){var e=oe===X.length-1;ce(e?null:ae+1)}}),[oe]),Object(a.useEffect)((function(){X.length>0&&null===ae&&ce(null===oe?0:oe+1)}),[$]),Object(a.useEffect)((function(){null!==ae&&be(0)}),[ae]),Object(a.useEffect)((function(){null!==ue&&ye()}),[ue]),Object(a.useEffect)((function(){null===X||void 0===X||X.map((function(e,t){if(xe(0),e.finalFilename)xe(100);else{var n=t===ae,a=Math.ceil(e.size/xa);xe(n?Math.round(ue/a*100):0)}}))}),[ue]),Object(se.jsx)("div",{className:"CreatePost",children:Object(se.jsxs)("div",{className:"card",children:[Object(se.jsxs)("div",{className:"Head",children:[Object(se.jsx)("div",{className:"backIcon",children:Object(se.jsxs)(F.a,{style:{backgroundColor:"#ffffff",marginRight:"20px"},children:["  ",Object(se.jsx)(Ln.a,{style:{color:"#007fff"}})]})}),Object(se.jsx)(R.a,{className:"Typography",children:"Create Post"})]}),Object(se.jsx)("div",{children:Oe>1?Object(se.jsx)(E.a,{sx:{width:"100%",marginTop:"25px"},children:Object(se.jsx)(Zn.a,{variant:"buffer",value:Oe})}):null}),Object(se.jsxs)("div",{className:"content",children:[Object(se.jsx)("div",{children:Object(se.jsx)("div",{className:"img",children:Object(se.jsx)("img",{src:ge?ge[ge.length-1]:null,alt:""})})}),Object(se.jsxs)("div",{className:"w-100",children:[Object(se.jsxs)("div",{children:[Object(se.jsx)("span",{className:"fw-bold",children:ve.name}),H.length>0||k?Object(se.jsxs)("span",{children:[" is ",H.length>0?Object(se.jsxs)("span",{children:["with ",Object(se.jsx)("span",{className:"fw-bold",children:H[0].user.name})]}):null," ",H.length>1?Object(se.jsxs)("span",{className:"fw-bold",children:["and ",Object(se.jsx)("span",{children:H.length-1})," others"]}):null," ",k?Object(se.jsxs)("span",{children:["in ",Object(se.jsx)("span",{className:"fw-bold",children:k})," "]}):null]}):null]}),Object(se.jsx)("textarea",{name:"",id:"",placeholder:"Create a Post",onChange:function(e){m(e.target.value)}})]})]}),Object(se.jsx)("div",{className:"imagePreview",children:n.length||X.length>0?Object(se.jsx)(se.Fragment,{children:Object(se.jsxs)(Ot.a,{pagination:!0,className:"mySwiper",children:[n.map((function(e){return Object(se.jsx)(Ot.b,{children:Object(se.jsx)("div",{className:"imgOne",children:Object(se.jsx)("img",{className:"mx-auto  ",src:e,alt:""})})})})),null===X||void 0===X?void 0:X.map((function(e){var t=URL.createObjectURL(e);return Object(se.jsxs)(Ot.b,{children:[" ",Object(se.jsxs)("video",{autoPlay:!0,muted:!0,className:"",children:[" ",Object(se.jsx)("source",{src:t}),"This browser doesn't support video tag."]})," "]})}))]})}):null}),Object(se.jsxs)("div",{className:"addtoPost",children:[Object(se.jsx)(R.a,{children:"Add to Your Post"}),Object(se.jsxs)("div",{children:[Object(se.jsxs)("label",{htmlFor:"contained-button-file",children:[Object(se.jsx)(Oa,{accept:"image/*",id:"contained-button-file",multiple:!0,onChange:function(e){var t=[];if(0!==e.target.files.length){var n,a=e.target.files;j(a);for(var s=0;s<a.length;s++)n=URL.createObjectURL(a[s]),t=[].concat(Object(Wt.a)(t),[n]),c(t)}else j([]),c([])},type:"file"}),Object(se.jsx)(F.a,{style:{backgroundColor:"#D0FAE4",marginRight:10},"aria-label":"upload picture",component:"span",children:Object(se.jsx)(Vn.a,{style:{color:"#06966A"}})})]}),Object(se.jsxs)("label",{htmlFor:"contained-button-video",children:[Object(se.jsx)(Oa,{accept:"video/*",id:"contained-button-video",multiple:!0,onChange:function(e){e.preventDefault(),URL.createObjectURL(e.target.files[0]),ee([].concat(Object(Wt.a)(X),Object(Wt.a)(e.target.files)))},type:"file"}),Object(se.jsx)(F.a,{style:{backgroundColor:"#ffb30999",marginRight:10},"aria-label":"upload video",component:"span",children:Object(se.jsx)(Yn.a,{style:{color:"#fff"}})})]}),Object(se.jsx)(F.a,{style:{backgroundColor:"#FEE2E2",marginRight:10},onClick:function(){return z("location")},children:Object(se.jsx)(Jn.a,{style:{color:"#DD2726"}})}),Object(se.jsx)(F.a,{style:{backgroundColor:"#DBEBFF",marginRight:10},onClick:function(){return z("tagFriend")},children:Object(se.jsx)($n.a,{style:{color:"#2764EA"}})})]})]}),Object(se.jsxs)("span",{className:"error",children:[y," "]}),Object(se.jsxs)("div",{className:"footer",children:[Object(se.jsxs)("div",{className:"p-3",children:["location"===T?Object(se.jsx)(ta,{setLocation:I}):null,"tagFriend"===T?Object(se.jsx)(ma,{userId:ve._id,setTag:K}):null]}),Object(se.jsxs)("div",{className:"buttons p-3",children:[Object(se.jsx)(C.a,{variant:"outlined",className:"me-4",children:"Cancel"}),Object(se.jsx)(C.a,{variant:"contained",onClick:function(e){if(e.preventDefault(),M(!0),fe.append("desc",h),fe.append("Accessibility",f),fe.append("userId",pe._id),fe.append("location",k),H.length>0){var t=[];H.map((function(e){t.push({_id:e.user._id,name:e.user.name})})),fe.append("tag",JSON.stringify(t))}if(""===h&&0===l.length&&0===X.length)N("post is empty"),M(!1);else if(0!==l.length){N("");for(var n=0;n<l.length;n++)fe.append("files",l[n]);J(fe).then((function(e){X.length>0?Z(e._id):(M(!1),we.push("/"))})).catch((function(e){M(!1),403==e.response.status&&(localStorage.removeItem("token"),localStorage.removeItem("user")),N(e.message)}))}else N(""),J(fe).then((function(e){X.length>0?Z(e._id):(M(!1),we.push("/"))})).catch((function(e){M(!1),403==e.response.status&&(localStorage.removeItem("token"),localStorage.removeItem("user"),we.push("/login")),N(e.message)}))},disabled:L,children:"POST"})]})]})]})})},pa=Object(Ae.a)({left:{padding:"20px"},right:{padding:"20px"},navItem:{maxWidth:"42px",maxHeight:"42px",minWidth:"42px",minHeight:"42px",borderRadius:10,backgroundColor:"#f1f1f1",padding:0},root:{background:"linear-gradient(45deg, #2196F3 30%, #21CBF3 90%)",border:0,borderRadius:3,boxShadow:"0 3px 5px 2px rgba(33, 203, 243, .3)",color:"#ffffff",height:42,padding:"0 30px"}});var va=function(){var e=pa(),t=Object(d.c)((function(e){return e.user.user}));return Object(se.jsxs)("div",{className:"CreatePostPage",children:[Object(se.jsx)(Re,{}),Object(se.jsxs)(I.a,{container:!0,className:"mt-5",children:[Object(se.jsx)(I.a,{item:!0,xs:12,md:2.5,sx:{display:{xs:"none",md:"none",lg:"block"}},className:e.left,children:Object(se.jsxs)("div",{style:{position:"sticky",top:"-150px"},children:[Object(se.jsx)(Me,{}),Object(se.jsx)(Ye,{}),Object(se.jsx)(Je,{})]})}),Object(se.jsx)(I.a,{item:!0,xs:12,md:6.5,className:"mx-auto mb-5 mt-4",children:Object(se.jsx)(fa,{})}),Object(se.jsx)(I.a,{item:!0,xs:12,md:3,sx:{display:{xs:"none",md:"none",lg:"block"}},className:e.right,children:Object(se.jsx)("div",{style:{position:"sticky",top:"100px"},children:Object(se.jsx)(Mt,{user:t})})})]}),Object(se.jsx)(We,{})]})};n(345),n(346);var ga=function(){var e=Object(d.c)((function(e){return e.user.user})),t=Object(d.c)((function(e){return e.socket.socket})),n=Object(d.b)(),c=Object(a.useState)([]),s=Object(r.a)(c,2),i=s[0],o=s[1],l=e;return console.log(l),Object(a.useEffect)((function(){(function(e){var t=e.userId;return new Promise((function(e,n){var a=localStorage.getItem("token");q.a.post(H+"/api/v1/user/getAllNotifications",{userId:t},{headers:{Authorization:a}}).then((function(t){e(t.data.notifications)})).catch((function(e){n(e)}))}))})({userId:l._id}).then((function(e){o(e)}))}),[e]),Object(a.useEffect)((function(){var e=l._id;null===t||void 0===t||t.emit("notificationSeen",e),n(p(null))}),[t]),Object(se.jsx)("div",{className:"Notification",children:Object(se.jsxs)("div",{className:"card ",children:[Object(se.jsxs)("div",{className:"Head",children:[Object(se.jsx)("div",{className:"backIcon",children:Object(se.jsxs)(F.a,{style:{backgroundColor:"#ffffff",marginRight:"20px"},children:["  ",Object(se.jsx)(Ln.a,{style:{color:"#007fff"}})]})}),"Notifications"]}),Object(se.jsx)("div",{className:"notifications",children:i?i.map((function(e){return"like"===e.type?Object(se.jsx)(wa,{notification:e}):"follow"===e.type?Object(se.jsx)(ya,{notification:e}):null})):null})]})})},wa=function(e){var t=e.notification;return Object(se.jsxs)("div",{className:t.read?"notification read":"notification",children:[Object(se.jsx)("div",{className:"img",children:Object(se.jsx)("img",{src:t.user.ProfilePhotos,alt:""})}),Object(se.jsxs)("div",{className:"content",children:[Object(se.jsxs)("p",{children:[Object(se.jsxs)(te.b,{className:"name",to:"/profile/".concat(t.from),children:[t.user.name,"  "]}),"liked your Post"]}),Object(se.jsxs)("span",{className:"time",children:[" ",ot()(t.date).fromNow()," "]})]})]})},ya=function(e){var t=e.notification;return Object(se.jsxs)("div",{className:t.read?"notification read":"notification",children:[Object(se.jsx)("div",{className:"img",children:Object(se.jsx)("img",{src:t.user.ProfilePhotos,alt:""})}),Object(se.jsxs)("div",{className:"content",children:[Object(se.jsxs)("p",{children:[Object(se.jsxs)(te.b,{className:"name",to:"/profile/".concat(t.from),children:[t.user.name,"  "]}),"Started to Follow You"]}),Object(se.jsxs)("span",{className:"time",children:[" ",ot()(t.date).fromNow()," "]})]})]})};var Na=function(){var e=Object(d.c)((function(e){return e.user.user}));return Object(se.jsx)("div",{children:Object(se.jsxs)("div",{className:"NotificationPage",children:[Object(se.jsx)(Re,{}),Object(se.jsxs)(I.a,{container:!0,children:[Object(se.jsx)(I.a,{item:!0,xs:12,md:2.5,sx:{display:{xs:"none",md:"none",lg:"block"}},className:"left",children:Object(se.jsxs)("div",{style:{position:"sticky",top:"-150px"},children:[Object(se.jsx)(Me,{}),Object(se.jsx)(Ye,{}),Object(se.jsx)(Je,{})]})}),Object(se.jsx)(I.a,{item:!0,xs:12,md:6.5,className:"mx-auto",children:Object(se.jsx)(ga,{})}),Object(se.jsx)(I.a,{item:!0,xs:12,md:3,sx:{display:{xs:"none",md:"none",lg:"block"}},className:"right",children:Object(se.jsx)("div",{style:{position:"sticky",top:"100px"},children:Object(se.jsx)(Mt,{user:e})})})]}),Object(se.jsx)(We,{})]})})},Sa=n(470);function Ca(e){return Object(se.jsxs)(R.a,Object(j.a)(Object(j.a)({variant:"body2",color:"text.secondary",align:"center"},e),{},{children:["Copyright \xa9 ",Object(se.jsx)(te.b,{color:"inherit",href:"https://mui.com/",children:"Your Website"})," ",(new Date).getFullYear(),"."]}))}var Pa=Object(D.a)();function ka(){var e=Object(o.g)(),t=Object(a.useState)({phone:"",name:"",username:"",password:"",usernameExist:!0,otp:""}),n=Object(r.a)(t,2),c=n[0],s=n[1],i=Object(a.useState)({usernameExist:"",name:"",username:"",password:"",phone:"",otp:""}),l=Object(r.a)(i,2),d=l[0],u=l[1],b=Object(a.useState)(!1),h=Object(r.a)(b,2),m=h[0],O=h[1],x=Object(a.useState)(!1),f=Object(r.a)(x,2),p=f[0],v=f[1],g=Object(a.useState)(!1),w=Object(r.a)(g,2),y=w[0],N=w[1],A=Object(a.useState)({minute:"",seconds:""}),D=Object(r.a)(A,2),L=D[0],U=D[1];Object(a.useEffect)((function(){var e=180;if(p);else var t=setInterval((function(){U({minute:Math.floor(e/60),seconds:Math.floor(e%60)}),-1===--e&&(clearInterval(t),N(!0),v(!0))}),1e3)}),[p]);var Y=function(e){if(e.preventDefault(),N(!0),""===d.name&&""!==c.name&&""===d.username&&""===d.usernameExist&&""!==c.username&&""===d.phone&&""!==c.phone&&""===d.password&&""!==c.password)console.log("test"),V(c).then((function(){O(!0)})).catch((function(e){console.log(e),N(!1)}));else{N(!1);!function(e){var t={};""===e.name&&(t=Object(j.a)(Object(j.a)({},t),{},{name:"name is requierd"})),""===e.username&&(t=Object(j.a)(Object(j.a)({},t),{},{username:"username is requierd"})),""===e.phone&&(t=Object(j.a)(Object(j.a)({},t),{},{phone:"Phone Number is requierd"})),""===e.password&&(t=Object(j.a)(Object(j.a)({},t),{},{password:"password is requierd"})),u(Object(j.a)(Object(j.a)({},d),t))}(c)}};return Object(se.jsx)(W.a,{theme:Pa,children:Object(se.jsxs)(z.a,{component:"main",maxWidth:"xs",children:[m?Object(se.jsxs)(T.a,{className:"card py-5 px-4 mt-5 shadow",children:[Object(se.jsx)(P.a,{}),Object(se.jsx)(R.a,{variant:"h4",className:"text-center fw-bold Typography ",style:{color:"#1877F2",fontFamily:"Montserrat"},children:"Social Media"}),Object(se.jsxs)(E.a,{sx:{marginTop:4,display:"flex",flexDirection:"column",alignItems:"center"},children:[Object(se.jsx)(R.a,{component:"h1",variant:"h5",children:"OTP VERIFICATION"}),Object(se.jsxs)(I.a,{container:!0,flexDirection:"column",alignItems:"center",className:"mt-5",children:[Object(se.jsx)(ne.a,{style:{fontSize:"50px"}}),Object(se.jsxs)(R.a,{children:["Enter the code we sent to ",c.phone]})]}),Object(se.jsxs)(E.a,{component:"form",noValidate:!0,onSubmit:Y,sx:{mt:3},children:[Object(se.jsx)(I.a,{container:!0,spacing:2,children:Object(se.jsxs)(I.a,{item:!0,xs:12,sm:12,children:[Object(se.jsx)(ee.a,{value:c.otp,onChange:function(e){s(Object(j.a)(Object(j.a)({},c),{},{otp:e})),console.log(c)},type:"number",numInputs:4,separator:Object(se.jsx)("span",{children:"-"}),name:"otp",inputStyle:{width:"2.5rem",height:"2.5rem",margin:"0 1rem",fontSize:"2rem",borderRadius:4,border:"1px solid rgba(0,0,0,0.3)"}}),d.otp?Object(se.jsx)(R.a,{component:"span",style:{color:"red",textAlign:"center",width:"100%",marginTop:"20px"},children:d.otp}):null]})}),Object(se.jsx)(C.a,{type:"submit",fullWidth:!0,variant:"contained",sx:{mt:3,mb:2},onClick:function(){var t;N(!0),O(!0),(t={phone:c.phone,otp:c.otp},new Promise(function(){var e=Object(B.a)(M.a.mark((function e(n,a){return M.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:q.a.post(H+"/api/v1/user/verifyMobileOtp",t).then((function(e){localStorage.setItem("token",e.data.token),localStorage.setItem("user",JSON.stringify(e.data.user)),n(e)})).catch((function(e){a(e)}));case 1:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}())).then((function(t){e.push("/")})).catch((function(e){N(!1),console.log(e)}))},disabled:y,children:"Verify OTP"}),Object(se.jsxs)(I.a,{container:!0,flexDirection:"column",alignItems:"center",className:"my-3",children:[Object(se.jsxs)(E.a,{children:[L.minute," : ",L.seconds]}),Object(se.jsx)(C.a,{disabled:!p,onClick:function(){N(!1),function(e){var t=e.phone;return new Promise(function(){var e=Object(B.a)(M.a.mark((function e(n,a){return M.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:q.a.post(H+"/api/v1/user/reSendEmailOtp",{phone:t}).then((function(e){n(e)})).catch((function(e){a(e.response.data)}));case 1:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}())}({phone:c.phone}).then((function(){v(!1)})).catch((function(){u(Object(j.a)(Object(j.a)({},d),{},{otp:"invalid Otp"}))}))},children:"Resend OTP"})]}),d.message?Object(se.jsx)(R.a,{component:"span",style:{color:"red"},children:d.message}):null,Object(se.jsx)(I.a,{container:!0,justifyContent:"flex-end",children:Object(se.jsxs)(I.a,{item:!0,children:[Object(se.jsx)(te.b,{to:"/login",variant:"body2",children:"Already have an account? Sign in"}),Object(se.jsx)(te.b,{to:"/signup;",children:"Signup"})]})})]})]})]}):Object(se.jsxs)(T.a,{className:"card py-5 px-4 mt-5 shadow",children:[Object(se.jsx)(P.a,{}),Object(se.jsx)(R.a,{variant:"h4",className:"text-center fw-bold Typography ",style:{color:"#1877F2",fontFamily:"Montserrat"},children:"Social Media"}),Object(se.jsxs)(E.a,{sx:{marginTop:4,display:"flex",flexDirection:"column",alignItems:"center"},children:[Object(se.jsx)(S.a,{sx:{m:1,bgcolor:"secondary.main"},children:Object(se.jsx)(_.a,{})}),Object(se.jsx)(R.a,{component:"h1",variant:"h5",children:"Sign up Using Mobile"}),Object(se.jsxs)(E.a,{component:"form",noValidate:!0,onSubmit:Y,sx:{mt:3},children:[Object(se.jsxs)(I.a,{container:!0,spacing:2,children:[Object(se.jsxs)(I.a,{item:!0,xs:12,sm:12,children:[Object(se.jsx)(k.a,{autoComplete:"off",name:"name",required:!0,fullWidth:!0,id:"firstName",label:"First Name",autoFocus:!0,onChange:function(e){var t=e.target.value.trim();if(s(Object(j.a)(Object(j.a)({},c),{},{name:t})),""===t){var n=Object(j.a)(Object(j.a)({},d),{},{name:"name is requierd"});u(n),console.log(d)}else if(new RegExp("^[A-Za-z\\s]{4,29}$").test(t)){var a=Object(j.a)(Object(j.a)({},d),{},{name:""});u(a)}else{var i=Object(j.a)(Object(j.a)({},d),{},{name:"Name containe mini 5 char or amx 29 char or name does't containe number or spesial char  "});u(i)}},error:d.name}),d.name?Object(se.jsx)(R.a,{component:"span",style:{color:"red"},children:d.name}):null]}),Object(se.jsxs)(I.a,{item:!0,xs:12,sm:12,children:[Object(se.jsx)(k.a,{required:!0,fullWidth:!0,id:"Username",label:"Username",name:"username",autoComplete:"off",onBlur:function(e){""===d.username&&""!==c.username&&(u(Object(j.a)(Object(j.a)({},d),{},{usernameExist:"username  Checking....."})),K({username:c.username}).then((function(e){e.data.usernameExist?(u(Object(j.a)(Object(j.a)({},d),{},{usernameExist:"username already  exist"})),s(Object(j.a)(Object(j.a)({},c),{},{usernameExist:!0}))):(s(Object(j.a)(Object(j.a)({},c),{},{usernameExist:!1})),u(Object(j.a)(Object(j.a)({},d),{},{usernameExist:""})))})).catch((function(e){})))},onChange:function(e){var t=e.target.value.trim();if(s(Object(j.a)(Object(j.a)({},c),{},{username:t})),""===t){var n=Object(j.a)(Object(j.a)({},d),{},{username:"username is requierd"});u(n)}else if(new RegExp("^[A-Za-z\\s]{4,29}$").test(t))u(Object(j.a)(Object(j.a)({},d),{},{username:""}));else{var a=Object(j.a)(Object(j.a)({},d),{},{username:" Username containe mini 5 char or amx 29 char or name does't containe number or spesial char  "});u(a)}},error:d.username||d.usernameExist}),d.username?Object(se.jsx)(R.a,{component:"span",style:{color:"red"},children:d.username}):null,d.usernameExist?Object(se.jsx)(R.a,{component:"span",style:{color:"red"},children:d.usernameExist}):null]}),Object(se.jsxs)(I.a,{item:!0,xs:12,children:[Object(se.jsx)(k.a,{autoComplete:"off",required:!0,fullWidth:!0,id:"phone",label:"Phone Number",type:"tel",name:"phone",onChange:function(e){var t=e.target.value.trim();if(s(Object(j.a)(Object(j.a)({},c),{},{phone:t})),""===t){var n=Object(j.a)(Object(j.a)({},d),{},{phone:"Phone Number is requierd"});u(n),console.log(d)}else if(new RegExp(/^([+]\d{2})?\d{10}$/).test(t)){var a=Object(j.a)(Object(j.a)({},d),{},{phone:""});u(a)}else{var i=Object(j.a)(Object(j.a)({},d),{},{phone:"Not  a valid Phone Number"});u(i)}},error:d.phone}),d.phone?Object(se.jsx)(R.a,{component:"span",style:{color:"red"},children:d.phone}):null]}),Object(se.jsxs)(I.a,{item:!0,xs:12,children:[Object(se.jsx)(k.a,{required:!0,fullWidth:!0,name:"password",label:"Password",type:"password",id:"password",autoComplete:"off",onChange:function(e){var t=e.target.value.trim();if(s(Object(j.a)(Object(j.a)({},c),{},{password:t})),""===t){var n=Object(j.a)(Object(j.a)({},d),{},{password:"password is requierd"});u(n)}else if(new RegExp("^(?=.*[0-9])(?=.*[a-z])(?=.*[A-Z])(?=.*[@#$%^&+=])(?=\\S+$).{8,20}$").test(t)){var a=Object(j.a)(Object(j.a)({},d),{},{password:""});u(a)}else{var i=Object(j.a)(Object(j.a)({},d),{},{password:"Minimum 8 and maximum 20 characters, at least one uppercase letter, one lowercase letter, one number and one special character:"});u(i)}},error:d.password}),d.password?Object(se.jsx)(R.a,{component:"span",style:{color:"red"},children:d.password}):null]})]}),Object(se.jsx)(C.a,{type:"submit",fullWidth:!0,variant:"contained",sx:{mt:3,mb:2},disabled:y,children:y?Object(se.jsx)(ce.a,{}):"Sign Up"}),d.message?Object(se.jsx)(R.a,{component:"span",style:{color:"red"},children:d.message}):null,Object(se.jsxs)(I.a,{container:!0,justifyContent:"center",flexDirection:"column",alignItems:"center",children:[Object(se.jsx)(F.a,{style:{borderRadius:10},size:"medium",onClick:function(){return e.push("/emailSignup")},children:Object(se.jsx)(Sa.a,{style:{color:"#1976D2",fontSize:"50",borderRadius:10,border:"3px solid #ffffff"},size:"large"})}),Object(se.jsx)(R.a,{children:"Signup with Email"})]}),Object(se.jsx)(I.a,{container:!0,justifyContent:"flex-end",className:"mt-3",children:Object(se.jsx)(I.a,{item:!0,children:Object(se.jsx)(te.b,{to:"/login",variant:"body2",children:"Already have an account? Sign in"})})})]})]})]}),Object(se.jsx)(Ca,{sx:{mt:5}})]})})}function Ia(e){return Object(se.jsxs)(R.a,Object(j.a)(Object(j.a)({variant:"body2",color:"text.secondary",align:"center"},e),{},{children:["Copyright \xa9 ",Object(se.jsx)(te.b,{color:"inherit",href:"https://mui.com/",children:"Your Website"})," ",(new Date).getFullYear(),"."]}))}var Ea=Object(D.a)();function Aa(){Object(o.g)();var e=Object(a.useState)({error:!1,emailErr:""}),t=Object(r.a)(e,2),n=t[0],c=t[1],s=Object(a.useState)({}),i=Object(r.a)(s,2),l=i[0],d=i[1],j=Object(a.useState)(!1),u=Object(r.a)(j,2),b=u[0],h=u[1],m=Object(a.useState)(!1),O=Object(r.a)(m,2),x=O[0],f=O[1];return Object(se.jsx)(W.a,{theme:Ea,children:Object(se.jsxs)(z.a,{component:"main",maxWidth:"sm",children:[x?Object(se.jsxs)(T.a,{className:"card py-5 px-4 mt-5 shadow",children:[Object(se.jsx)(P.a,{}),Object(se.jsx)(R.a,{variant:"h4",className:"text-center fw-bold Typography ",style:{color:"#1877F2",fontFamily:"Montserrat"},children:"Social Media"}),Object(se.jsxs)(E.a,{sx:{marginTop:4,display:"flex",flexDirection:"column",alignItems:"center"},children:[Object(se.jsx)(S.a,{sx:{m:1,bgcolor:"secondary.main"},children:Object(se.jsx)(_.a,{})}),Object(se.jsx)(R.a,{className:"Typography ",component:"h1",variant:"h5",color:"green",children:"Successfull ..........!"}),Object(se.jsxs)(E.a,{noValidate:!0,sx:{mt:1},children:[Object(se.jsx)(R.a,{className:"Typography ",component:"h1",variant:"h6",children:"Successfully send  Link in to Your Email"}),Object(se.jsx)("div",{className:"success-animation",children:Object(se.jsxs)("svg",{className:"checkmark",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 52 52",children:[Object(se.jsx)("circle",{className:"checkmark__circle",cx:"26",cy:"26",r:"25",fill:"none"}),Object(se.jsx)("path",{className:"checkmark__check",fill:"none",d:"M14.1 27.2l7.1 7.2 16.7-16.8"})]})}),Object(se.jsx)("hr",{}),Object(se.jsxs)(I.a,{container:!0,children:[Object(se.jsx)(I.a,{item:!0,xs:!0,className:"me-5",children:Object(se.jsx)(te.b,{to:"/login",variant:"body2",children:"Back to Login"})}),Object(se.jsx)(I.a,{item:!0,children:Object(se.jsx)(te.b,{to:"/signup",variant:"body2",children:"Don't have an account? Sign Up"})})]})]})]})]}):Object(se.jsxs)(T.a,{className:"card py-5 px-4 mt-5 shadow",children:[Object(se.jsx)(P.a,{}),Object(se.jsx)(R.a,{variant:"h4",className:"text-center fw-bold Typography ",style:{color:"#1877F2",fontFamily:"Montserrat"},children:"Social Media"}),Object(se.jsxs)(E.a,{sx:{marginTop:4,display:"flex",flexDirection:"column",alignItems:"center"},children:[Object(se.jsx)(S.a,{sx:{m:1,bgcolor:"secondary.main"},children:Object(se.jsx)(_.a,{})}),Object(se.jsx)(R.a,{className:"Typography ",component:"h1",variant:"h5",children:"Forgot Password"}),Object(se.jsxs)(E.a,{noValidate:!0,sx:{mt:1},children:[Object(se.jsx)(k.a,{margin:"normal",required:!0,fullWidth:!0,id:"email",label:"Email Address",name:"email",autoComplete:"email",autoFocus:!0,onChange:function(e){if("email"===e.target.name){var t=e.target.value.trim();new RegExp(/[a-z0-9._%+-]+@[a-z0-9.-]+\.[a-z]{2,15}/g).test(t)?(d({email:t}),c({error:!1,emailErr:""})):new RegExp(/^([+]\d{2})?\d{10}$/).test(t)?(d({phone:t}),c({error:!1,emailErr:""})):c({error:!0,emailErr:" Not valid a  detailes "})}}}),Object(se.jsx)(R.a,{variant:"span",style:{color:"red"},children:n.error?n.emailErr:null}),Object(se.jsx)(C.a,{type:"submit",fullWidth:!0,variant:"contained",sx:{mt:3,mb:2},disabled:b,onClick:function(){var e;void 0===l.email&&void 0==l.phone?c({error:!0,emailErr:" email or phone number is required "}):(h(!0),(e=l,new Promise(function(){var t=Object(B.a)(M.a.mark((function t(n,a){return M.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:q.a.post("http://localhost:4000/api/v1/user/forgotPasswordRequest",e).then((function(e){n(e.data.user)})).catch((function(e){a(e)}));case 1:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}())).then((function(){f(!0),h(!0)})).catch((function(e){console.log(e),c({error:!0,emailErr:e.response.data.message}),h(!1),console.log(e.response)})))},children:b?Object(se.jsxs)(E.a,{sx:{display:"flex"},children:[Object(se.jsx)(ce.a,{})," "]}):"send Reset Link"}),Object(se.jsx)("hr",{}),Object(se.jsxs)(I.a,{container:!0,children:[Object(se.jsx)(I.a,{item:!0,xs:!0,className:"me-5",children:Object(se.jsx)(te.b,{to:"/login",variant:"body2",children:"Back to Login"})}),Object(se.jsx)(I.a,{item:!0,children:Object(se.jsx)(te.b,{to:"/signup",variant:"body2",children:"Don't have an account? Sign Up"})})]})]})]})]}),Object(se.jsx)(Ia,{sx:{mt:8,mb:4}})]})})}var _a=n(222),Ra=n.n(_a),Ta=n(490),Fa=n(510),za=n(90),Da=n.n(za),Wa=n(89),La=n.n(Wa);n(356);function Ma(e){return Object(se.jsxs)(R.a,Object(j.a)(Object(j.a)({variant:"body2",color:"text.secondary",align:"center"},e),{},{children:["Copyright \xa9 ",Object(se.jsx)(te.b,{color:"inherit",href:"https://mui.com/",children:"Your Website"})," ",(new Date).getFullYear(),"."]}))}var Ba=function(){var e=Object(o.h)(),t=Object(a.useState)({}),n=Object(r.a)(t,2),c=n[0],s=n[1],i=Object(a.useState)(!1),l=Object(r.a)(i,2),d=l[0],u=l[1],b=Object(a.useState)({password:"",showPassword:!1}),h=Object(r.a)(b,2),m=h[0],O=h[1],x=Object(a.useState)({passwordErr:"",ConfirmPasswordErr:""}),f=Object(r.a)(x,2),p=f[0],v=f[1],g=Object(a.useState)(!1),w=Object(r.a)(g,2);w[0],w[1],Object(a.useEffect)((function(){var t=Ra.a.parse(e.search);s(t)}),[]);var y=function(e){return function(t){O(Object(j.a)(Object(j.a)({},m),{},Object(le.a)({},e,t.target.value))),"password"===e&&""==t.target.value&&v(Object(j.a)(Object(j.a)({},p),{},{passwordErr:"Password is required"})),"password"===e&&""!==t.target.value&&v(Object(j.a)(Object(j.a)({},p),{},{passwordErr:""})),"ConfirmPassword"===e&&""===t.target.value&&v(Object(j.a)(Object(j.a)({},p),{},{ConfirmPasswordErr:"ConfirmPassword is required"})),"ConfirmPassword"===e&&""!==t.target.value&&v(Object(j.a)(Object(j.a)({},p),{},{ConfirmPasswordErr:""}))}},N=function(){O(Object(j.a)(Object(j.a)({},m),{},{showPassword:!m.showPassword}))},k=function(e){e.preventDefault()},A=Object(D.a)();return Object(se.jsx)(W.a,{theme:A,children:Object(se.jsxs)(z.a,{component:"main",maxWidth:"xs",children:[d?Object(se.jsxs)(T.a,{className:"card py-5 px-4 mt-5 shadow",children:[Object(se.jsx)(P.a,{}),Object(se.jsx)(R.a,{variant:"h4",className:"text-center fw-bold Typography ",style:{color:"#1877F2",fontFamily:"Montserrat"},children:"Social Media"}),Object(se.jsxs)(E.a,{sx:{marginTop:4,display:"flex",flexDirection:"column",alignItems:"center"},children:[Object(se.jsx)(S.a,{sx:{m:1,bgcolor:"secondary.main"},children:Object(se.jsx)(_.a,{})}),Object(se.jsx)(R.a,{className:"Typography text-center",component:"h1",variant:"h5",children:"Your password has been updated Successfully"}),Object(se.jsxs)(E.a,{noValidate:!0,sx:{mt:1},children:[Object(se.jsx)("div",{className:"success-animation",children:Object(se.jsxs)("svg",{className:"checkmark",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 52 52",children:[Object(se.jsx)("circle",{className:"checkmark__circle",cx:"26",cy:"26",r:"25",fill:"none"}),Object(se.jsx)("path",{className:"checkmark__check",fill:"none",d:"M14.1 27.2l7.1 7.2 16.7-16.8"})]})}),Object(se.jsx)("hr",{}),Object(se.jsxs)(I.a,{container:!0,children:[Object(se.jsx)(I.a,{item:!0,xs:!0,className:"me-5",children:Object(se.jsx)(te.b,{to:"/login",variant:"body2",children:"Back to Login"})}),Object(se.jsx)(I.a,{item:!0,children:Object(se.jsx)(te.b,{to:"/signup",variant:"body2",children:"Don't have an account? Sign Up"})})]})]})]})]}):Object(se.jsxs)(T.a,{className:"card py-5 px-4 mt-5 shadow",children:[Object(se.jsx)(P.a,{}),Object(se.jsx)(R.a,{variant:"h4",className:"text-center fw-bold Typography ",style:{color:"#1877F2",fontFamily:"Montserrat"},children:"Social Media"}),Object(se.jsxs)(E.a,{sx:{marginTop:4,display:"flex",flexDirection:"column",alignItems:"center"},children:[Object(se.jsx)(R.a,{component:"h1",variant:"h5",children:"Reset Your Password"}),Object(se.jsxs)(E.a,{sx:{mt:3},children:[Object(se.jsxs)(I.a,{container:!0,spacing:2,children:[Object(se.jsxs)(I.a,{item:!0,xs:12,sm:12,children:[Object(se.jsxs)(pt.a,{sx:{m:1},variant:"outlined",fullWidth:!0,children:[Object(se.jsx)(ft.a,{htmlFor:"outlined-adornment-password",children:"New Password"}),Object(se.jsx)(Ta.a,{fullWidth:!0,id:"outlined-adornment-password",type:m.showPassword?"text":"password",value:m.password,onChange:y("password"),endAdornment:Object(se.jsx)(Fa.a,{position:"end",children:Object(se.jsx)(F.a,{"aria-label":"toggle password visibility",onClick:N,onMouseDown:k,edge:"end",children:m.showPassword?Object(se.jsx)(La.a,{}):Object(se.jsx)(Da.a,{})})}),label:"New Password"})]}),p.passwordErr?p.passwordErr:null]}),Object(se.jsxs)(I.a,{item:!0,xs:12,sm:12,children:[Object(se.jsxs)(pt.a,{sx:{m:1},variant:"outlined",fullWidth:!0,children:[Object(se.jsx)(ft.a,{htmlFor:"outlined-adornment-password",children:"Confirm password"}),Object(se.jsx)(Ta.a,{fullWidth:!0,id:"outlined-adornment-password",type:m.showPassword?"text":"password",value:m.ConfirmPassword,onChange:y("ConfirmPassword"),endAdornment:Object(se.jsx)(Fa.a,{position:"end",children:Object(se.jsx)(F.a,{"aria-label":"toggle password visibility",onClick:N,onMouseDown:k,edge:"end",children:m.showPassword?Object(se.jsx)(La.a,{}):Object(se.jsx)(Da.a,{})})}),label:"Confirm password"})]}),p.ConfirmPasswordErr?p.ConfirmPasswordErr:null]})]}),Object(se.jsx)(C.a,{type:"submit",fullWidth:!0,variant:"contained",sx:{mt:3,mb:2},onClick:function(){var e;""===m.password&&v(Object(j.a)(Object(j.a)({},p),{},{passwordErr:"Password is required"})),""===m.ConfirmPassword&&v(Object(j.a)(Object(j.a)({},p),{},{ConfirmPasswordErr:"Password is required"})),m.password!==m.ConfirmPassword&&v(Object(j.a)(Object(j.a)({},p),{},{ConfirmPasswordErr:"Confirm Password not Match with Password"})),m.password===m.ConfirmPassword&&(v(Object(j.a)(Object(j.a)({},p),{},{ConfirmPasswordErr:""})),(e={password:m.password,ConfirmPassword:m.ConfirmPassword,userId:c.id,Token:c.token},new Promise(function(){var t=Object(B.a)(M.a.mark((function t(n,a){return M.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:q.a.post("http://localhost:4000/api/v1/user/forgotPasswordReset",e).then((function(e){n(e.data.user)})).catch((function(e){a(e)}));case 1:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}())).then((function(){u(!0)})).catch((function(e){v(Object(j.a)(Object(j.a)({},e),{},{ConfirmPasswordErr:e.response.data.message}))})))},children:"Reset Password"}),Object(se.jsx)(I.a,{container:!0,justifyContent:"flex-end",children:Object(se.jsxs)(I.a,{item:!0,children:[Object(se.jsx)(te.b,{to:"/login",variant:"body2",className:"me-4",children:"Already have an account? Sign in"}),Object(se.jsx)(te.b,{to:"/dshfa;",children:"jbhvjbkll"})]})})]})]})]}),Object(se.jsx)(Ma,{sx:{mt:5}})]})})};n(357),n(358);var Ua=function(){var e=Object(o.g)(),t=Object(d.c)((function(e){return e.user.user})),n=Object(a.useState)({oldPassword:"",newPassword:"",confirmPassword:"",userId:"",showoldPassword:!1,showNewPassword:!1,showConfirmPassword:!1}),c=Object(r.a)(n,2),s=c[0],i=c[1],l=Object(a.useState)({oldPassword:"",NewPassword:"",ConfirmPassword:""}),u=Object(r.a)(l,2),b=u[0];u[1],Object(a.useEffect)((function(){i(Object(j.a)(Object(j.a)({},s),{},{userId:t._id}))}),[t]);var h=function(e){return function(t){i(Object(j.a)(Object(j.a)({},s),{},Object(le.a)({},e,t.target.value.trim())))}},m=function(e){i(Object(j.a)(Object(j.a)({},s),{},Object(le.a)({},e,!s.prop)))},O=function(e){e.preventDefault()};return Object(se.jsx)("div",{className:"ResetPassword",children:Object(se.jsxs)("div",{className:"card ",children:[Object(se.jsxs)("div",{className:"Head",children:[Object(se.jsx)("div",{className:"backIcon",children:Object(se.jsxs)(F.a,{style:{backgroundColor:"#ffffff",marginRight:"20px"},children:["  ",Object(se.jsx)(Ln.a,{style:{color:"#007fff"}})]})}),"Reset Password"]}),Object(se.jsxs)("div",{className:"Details p-3",children:[Object(se.jsx)(R.a,{variant:"h4",color:"#007fff",textAlign:"center",children:"Reset Password"}),Object(se.jsx)("form",{action:"",children:Object(se.jsxs)("div",{className:"row",children:[Object(se.jsx)("div",{className:"col-lg-7  mt-5 mx-auto",children:Object(se.jsxs)(pt.a,{sx:{m:1},fullWidth:!0,variant:"outlined",children:[Object(se.jsx)(ft.a,{htmlFor:"outlined-adornment-password",children:"Old Password"}),Object(se.jsx)(Ta.a,{id:"outlined-adornment-password",type:s.showoldPassword?"text":"password",value:s.oldPassword,onChange:h("oldPassword"),endAdornment:Object(se.jsx)(Fa.a,{position:"end",children:Object(se.jsx)(F.a,{"aria-label":"toggle password visibility",onClick:function(){return m("showoldPassword")},onMouseDown:O,edge:"end",children:s.showPassword?Object(se.jsx)(La.a,{}):Object(se.jsx)(Da.a,{})})}),label:"Old Password"}),Object(se.jsx)(R.a,{children:b.oldPassword})]})}),Object(se.jsx)("div",{className:"col-lg-7  mt-3 mx-auto",children:Object(se.jsxs)(pt.a,{sx:{m:1},fullWidth:!0,variant:"outlined",children:[Object(se.jsx)(ft.a,{htmlFor:"outlined-adornment-password",children:" New Password"}),Object(se.jsx)(Ta.a,{id:"outlined-adornment-password",type:s.showNewPassword?"text":"password",value:s.newPassword,onChange:h("newPassword"),endAdornment:Object(se.jsx)(Fa.a,{position:"end",children:Object(se.jsx)(F.a,{"aria-label":"toggle password visibility",onClick:m,onMouseDown:O,edge:"end",children:s.showNewPassword?Object(se.jsx)(La.a,{}):Object(se.jsx)(Da.a,{})})}),label:"New Password"}),Object(se.jsx)(R.a,{children:b.NewPassword})]})}),Object(se.jsx)("div",{className:"col-lg-7  mt-3 mx-auto",children:Object(se.jsxs)(pt.a,{sx:{m:1},fullWidth:!0,variant:"outlined",children:[Object(se.jsx)(ft.a,{htmlFor:"outlined-adornment-password",children:"Confirm Password"}),Object(se.jsx)(Ta.a,{id:"outlined-adornment-password",type:s.showConfirmPassword?"text":"password",value:s.confirmPassword,onChange:h("confirmPassword"),endAdornment:Object(se.jsx)(Fa.a,{position:"end",children:Object(se.jsx)(F.a,{"aria-label":"toggle password visibility",onClick:m,onMouseDown:O,edge:"end",children:s.showConfirmPassword?Object(se.jsx)(La.a,{}):Object(se.jsx)(Da.a,{})})}),label:"Confirm Password"}),Object(se.jsx)(R.a,{children:b.ConfirmPassword})]})}),Object(se.jsx)("div",{className:"saveButton",children:Object(se.jsx)(C.a,{variant:"contained",onClick:function(){var t;s.newPassword!==s.confirmPassword?an.a.fire({icon:"error",title:"Oops...",text:"password don't match"}):(t=s,new Promise(function(){var e=Object(B.a)(M.a.mark((function e(n,a){return M.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:q.a.post("http://localhost:4000/api/v1/user/resetPassword",t).then((function(e){n(e.data.user)})).catch((function(e){a(e.response.data.message)}));case 1:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}())).then((function(t){an.a.fire("Password Updated","Your Password has been Updated.","success").then((function(){e.push("/settings")}))})).catch((function(e){console.log(e),an.a.fire({icon:"error",title:"Oops...",text:e})}))},children:"Reset Pasword"})})]})})]})]})})},qa=Object(Ae.a)({left:{padding:"20px"},right:{padding:"20px"},navItem:{maxWidth:"42px",maxHeight:"42px",minWidth:"42px",minHeight:"42px",borderRadius:10,backgroundColor:"#f1f1f1",padding:0},root:{background:"linear-gradient(45deg, #2196F3 30%, #21CBF3 90%)",border:0,borderRadius:3,boxShadow:"0 3px 5px 2px rgba(33, 203, 243, .3)",color:"#ffffff",height:42,padding:"0 30px"}});var Ha=function(){var e=qa();return Object(se.jsxs)("div",{className:"ResetPasswordPage ",children:[Object(se.jsx)(Re,{}),Object(se.jsxs)(I.a,{container:!0,children:[Object(se.jsx)(I.a,{item:!0,xs:12,md:2.5,sx:{display:{xs:"none",md:"none",lg:"block"}},className:e.left,children:Object(se.jsxs)("div",{style:{position:"sticky",top:"-150px"},children:[Object(se.jsx)(Me,{}),Object(se.jsx)(Ye,{}),Object(se.jsx)(Je,{})]})}),Object(se.jsx)(I.a,{item:!0,xs:12,md:6.5,className:"mx-auto",children:Object(se.jsx)(Ua,{})}),Object(se.jsx)(I.a,{item:!0,xs:12,md:3,sx:{display:{xs:"none",md:"none",lg:"block"}},className:e.right,children:Object(se.jsxs)("div",{style:{position:"sticky",top:"100px"},children:[Object(se.jsx)($e,{}),Object(se.jsx)($e,{})]})})]}),Object(se.jsx)(We,{})]})},Ka=(n(194),n(359),n(477)),Va=n(223),Ya=n.n(Va),Ja=n(471),$a=n(472),Za=n(473),Ga=n(474);var Qa=function(e){var t=e.item,n=e.currentUser;return Object(se.jsx)("div",{className:"Message",children:Object(se.jsxs)("div",{className:(null===t||void 0===t?void 0:t.sender)===n?"content own":"content",children:[Object(se.jsx)("span",{children:t.message}),Object(se.jsx)("span",{className:"time",children:ot()(t.createdAt).fromNow()})]})})};var Xa=function(e){var t=e.currentUser,n=e.selectedChat,s=Object(o.g)(),i=c.a.useState(null),l=Object(r.a)(i,2),d=l[0],j=l[1],u=Boolean(d),b=Object(a.useRef)(),h=Object(a.useState)(""),m=Object(r.a)(h,2),O=m[0],x=m[1],f=Object(a.useState)([]),p=Object(r.a)(f,2),v=p[0],g=p[1],w=Object(a.useState)({}),y=Object(r.a)(w,2),C=y[0],P=y[1],k=Object(a.useState)(""),I=Object(r.a)(k,2),E=I[0],A=I[1];Object(a.useEffect)((function(){A(n)}),[n]),Object(a.useEffect)((function(){E&&t&&(function(e){var t=e.userId;return new Promise(function(){var e=Object(B.a)(M.a.mark((function e(n,a){var c;return M.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:c=localStorage.getItem("token"),q.a.get("http://localhost:4000/api/v1/user/getUserDetailes/".concat(t),{headers:{Authorization:c}}).then((function(e){n(e.data)})).catch((function(e){a(e.response)}));case 2:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}())}({userId:E}).then((function(e){P(e.user[0])})).catch((function(){})),function(e){var t=e.sender,n=e.userId;return new Promise(function(){var e=Object(B.a)(M.a.mark((function e(a,c){var s;return M.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:s=localStorage.getItem("token"),q.a.post(H+"/api/v1/user/getmessages",{sender:t,receiver:n},{headers:{Authorization:s}}).then((function(e){a(e.data.messages)})).catch((function(e){c(e)}));case 2:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}())}({sender:t,userId:E}).then((function(e){g(e)})))}),[E,t]),Object(a.useEffect)((function(){var e=[];return null===N||void 0===N||N.on("doReceiveMessage",(function(t){var a=t[0];e.push(t[0]),0!==e.length&&e[e.length-1].sender===n&&g((function(e){return[].concat(Object(Wt.a)(e),[a])}))})),function(){N.off("doReceiveMessage")}}),[E]),Object(a.useEffect)((function(){var e;null===b||void 0===b||null===(e=b.current)||void 0===e||e.scrollIntoView({behavior:"smooth"})}),[v]);var _=function(){console.log(15),j(null)},R=function(){console.log(8),""===O.trim()?console.log(9):(console.log(10),g((function(e){return[].concat(Object(Wt.a)(e),[{message:O,createdAt:new Date,sender:t}])})),N.emit("doSendMessage",{message:O,sender:t,receiver:E}),x(""))};return Object(se.jsxs)("div",{className:"ChatBox",children:[Object(se.jsxs)("div",{className:"header",children:[Object(se.jsxs)("div",{className:"detailes",children:[Object(se.jsx)("div",{className:"backbtn",children:Object(se.jsx)(F.a,{style:{background:"#ffffff"},onClick:s.goBack,children:Object(se.jsx)(Ja.a,{style:{color:"#007fff"}})})}),Object(se.jsx)("div",{className:"img",children:Object(se.jsx)("img",{src:C.ProfilePhotos?C.ProfilePhotos:Le,alt:""})}),Object(se.jsxs)("div",{children:[Object(se.jsx)("div",{className:"name",children:C.name}),Object(se.jsx)("span",{className:"lastseen",children:"1d ago"})]})]}),Object(se.jsxs)("div",{children:[Object(se.jsx)(Ka.a,{title:"Account settings",children:Object(se.jsx)(F.a,{onClick:function(e){console.log(14),j(e.currentTarget)},size:"large",sx:{ml:2},children:Object(se.jsx)($a.a,{style:{color:"#ffffff"}})})}),Object(se.jsxs)(fe.a,{anchorEl:d,open:u,onClose:_,onClick:_,PaperProps:{elevation:0,sx:{overflow:"visible",filter:"drop-shadow(0px 2px 8px rgba(0,0,0,0.32))",mt:1.5,"& .MuiAvatar-root":{width:32,height:32,ml:-.5,mr:1},"&:before":{content:'""',display:"block",position:"absolute",top:0,right:14,width:10,height:10,bgcolor:"background.paper",transform:"translateY(-50%) rotate(45deg)",zIndex:0}}},transformOrigin:{horizontal:"right",vertical:"top"},anchorOrigin:{horizontal:"right",vertical:"bottom"},children:[Object(se.jsxs)(pe.a,{children:[Object(se.jsx)(S.a,{})," Profile"]}),Object(se.jsxs)(pe.a,{children:[Object(se.jsx)(S.a,{})," My account"]}),Object(se.jsx)(ve.a,{}),Object(se.jsxs)(pe.a,{children:[Object(se.jsx)(ge.a,{children:Object(se.jsx)(Ya.a,{fontSize:"small"})}),"Add another account"]}),Object(se.jsxs)(pe.a,{children:[Object(se.jsx)(ge.a,{children:Object(se.jsx)(Se.a,{fontSize:"small"})}),"Settings"]}),Object(se.jsxs)(pe.a,{children:[Object(se.jsx)(ge.a,{children:Object(se.jsx)(ye.a,{fontSize:"small"})}),"Logout"]})]})]})]}),Object(se.jsx)("div",{className:"viewMessage",children:null===v||void 0===v?void 0:v.map((function(e,n){return Object(se.jsx)("div",{ref:b,children:Object(se.jsx)(Qa,{item:e,currentUser:t})},n)}))}),Object(se.jsxs)("div",{className:"sendMessage",children:[Object(se.jsx)(F.a,{children:Object(se.jsx)(Za.a,{style:{color:"#077fff"}})}),Object(se.jsx)(F.a,{children:Object(se.jsx)(Ga.a,{})}),Object(se.jsx)("input",{type:"text",className:"input",value:O,onChange:function(e){return x(e.target.value)},onKeyPress:function(e){13==e.charCode&&R()}}),Object(se.jsx)(F.a,{style:{background:"#007fff",marginLeft:"20px",marginRight:"20px"},onClick:R,children:Object(se.jsx)(Et.a,{style:{color:"#fff"}})})]})]})},ec=n(475);var tc=function(e){var t=e.user,n=e.handleChatSelected;return Object(se.jsxs)("div",{className:"UserCard",onClick:function(){return n(t._id)},children:[Object(se.jsxs)("div",{className:"Profile",children:[Object(se.jsx)("div",{className:"img",children:Object(se.jsx)("img",{src:t.profilePhotos?t.profilePhotos:Le,alt:""})}),Object(se.jsx)("div",{children:Object(se.jsxs)("span",{className:"fw-bold",children:[t.name,"   "]})})]}),Object(se.jsx)("div",{className:"badge",children:Object(se.jsx)("span",{})})]})},nc=Object(Ae.a)({logo:{color:"#ffffff",fontFamily:"Montserrat, sans-serif",fontWeight:700,fontSize:22}});var ac=function(e){var t=e.userId,n=e.handleChatSelected,c=nc(),s=Object(a.useState)([]),i=Object(r.a)(s,2),o=i[0],l=i[1];return Object(a.useEffect)((function(){console.log(t),void 0!==t&&$({userId:t}).then((function(e){console.log(e),l(e)})).catch((function(){}))}),[t]),Object(se.jsxs)("div",{className:"ChatList",children:[Object(se.jsxs)("div",{className:"header",children:[Object(se.jsx)(R.a,{className:c.logo,variant:"p",children:"Social Media"}),Object(se.jsx)(F.a,{children:Object(se.jsx)(ec.a,{style:{color:"#ffffff"}})})]}),Object(se.jsxs)("div",{className:"search",children:[Object(se.jsx)("input",{type:"text",placeholder:"Search Your Friends..........."}),Object(se.jsx)(F.a,{children:Object(se.jsx)(Pe.a,{style:{color:"#ffffff"}})})]}),Object(se.jsx)("div",{className:"userList",children:null===o||void 0===o?void 0:o.map((function(e){return Object(se.jsx)(tc,{user:e.user,handleChatSelected:n})}))})]})},cc=n.p+"static/media/messageFun.efa5801e.svg";var sc=function(){return Object(se.jsxs)("div",{className:"OpenMessageBox ChatBox",children:[Object(se.jsx)("div",{className:"header"}),Object(se.jsxs)("div",{className:"d-flex align-items-center justify-content-center w-100 h-100  flex-column ",children:[Object(se.jsx)("img",{src:cc,alt:"",style:{width:"250px "}}),Object(se.jsx)(R.a,{style:{color:"#007fff",fontWeight:"bold"},children:"Start Chating..........! "})]})]})};var ic=function(){var e=Object(o.i)().userId,t=Object(o.g)(),n=Object(d.c)((function(e){return e.user.user})),c=Object(a.useState)(""),s=Object(r.a)(c,2),i=(s[0],s[1],n);return Object(se.jsxs)("div",{className:"MessengerPage",children:[Object(se.jsxs)(I.a,{container:!0,children:[Object(se.jsx)(I.a,{item:!0,xs:0,md:4,sx:{display:{xs:"none",md:"block",lg:"block"}},style:{margin:"0px",padding:"0px"},children:i&&Object(se.jsx)(ac,{userId:i._id,handleChatSelected:function(e){t.push("/Messenger/".concat(e))}})}),Object(se.jsx)(I.a,{item:!0,xs:12,md:8,className:"",children:e?Object(se.jsx)(Xa,{selectedChat:e,currentUser:i._id}):null})]}),Object(se.jsx)(We,{})]})};var rc=function(){var e=Object(o.g)(),t=Object(d.c)((function(e){return e.user.user})),n=Object(a.useState)(""),c=Object(r.a)(n,2),s=(c[0],c[1]);return Object(se.jsxs)("div",{className:"MessengerPage",children:[Object(se.jsxs)(I.a,{container:!0,children:[Object(se.jsx)(I.a,{item:!0,xs:12,md:4,style:{margin:"0px",padding:"0px"},children:t&&Object(se.jsx)(ac,{userId:t._id,handleChatSelected:function(t){s(t),e.push("/Messenger/".concat(t))}})}),Object(se.jsx)(I.a,{item:!0,xs:0,md:8,sx:{display:{xs:"none",md:"block",lg:"block"}},className:"",children:Object(se.jsx)(sc,{})})]}),Object(se.jsx)(We,{})]})},oc=(n(360),Object(u.c)({name:"selectedStorySlice",initialState:{selectedStorySlice:null},reducers:{setselectedStorySlice:function(e,t){e.selectedStorySlice=t.payload},removeselectedStorySlice:function(e){e.selectedStorySlice=null}}})),lc=oc.actions,dc=lc.setselectedStorySlice,jc=(lc.removeselectedStorySlice,oc.reducer);var uc=function(){var e=Object(d.b)(),t=Object(d.c)((function(e){return e.user.user})),n=Object(o.g)(),c=Object(a.useState)(),s=Object(r.a)(c,2),i=s[0],l=s[1];Object(a.useEffect)((function(){var e;console.log(t),l(null===(e=t.ProfilePhotos)||void 0===e?void 0:e.slice(-1)[0])}),[t]);var j=Object(a.useState)(null),u=Object(r.a)(j,2),b=u[0],h=u[1];Object(a.useEffect)((function(){Q().then((function(e){h(e.stories)}))}),[]);var m=function(t){e(dc(t)),n.push("/viewStories")};return Object(se.jsxs)("div",{className:"SideBar ",children:[Object(se.jsxs)("div",{className:"d-flex justify-content-between align-items-center",children:[Object(se.jsx)("h3",{children:"Your Stories"}),Object(se.jsx)(F.a,{size:"large",style:{backgroundColor:"#eeeeee"},children:Object(se.jsx)(Se.a,{style:{color:"#111111"}})})]}),Object(se.jsx)("div",{children:Object(se.jsxs)("div",{className:"profile",onClick:m,children:[Object(se.jsx)("div",{className:"img",children:Object(se.jsx)("img",{src:i||Le,alt:""})}),Object(se.jsx)("div",{children:Object(se.jsx)("span",{children:null===t||void 0===t?void 0:t.name})})]})}),Object(se.jsx)("hr",{}),Object(se.jsx)("div",{children:null===b||void 0===b?void 0:b.map((function(e,t){var n,a,c;return console.log(e),Object(se.jsxs)("div",{className:"profile",onClick:function(){return m(e._id)},children:[Object(se.jsx)("div",{className:"img",children:Object(se.jsx)("img",{src:(null===e||void 0===e||null===(n=e.user)||void 0===n?void 0:n.ProfilePhotos)?null===e||void 0===e||null===(a=e.user)||void 0===a?void 0:a.ProfilePhotos:Le,alt:""})}),Object(se.jsx)("div",{children:Object(se.jsxs)("span",{children:[null===e||void 0===e||null===(c=e.user)||void 0===c?void 0:c.name,"    "]})})]})}))})]})},bc=n(476),hc=n(511);var mc=function(e){var t=e.files,n=e.submit,a=e.progress;return Object(se.jsxs)("div",{className:"Preview",children:[Object(se.jsx)(R.a,{sx:{display:{xs:"none",md:"block",lg:"block"}},variant:"h4",children:"Preview"}),Object(se.jsxs)("div",{className:"BlackScreen",children:[Object(se.jsxs)("div",{className:"screen",children:[a>1?Object(se.jsx)(E.a,{sx:{width:"360px",height:"10px",marginTop:"25px",position:"absolute",top:"10px",zIndex:100},children:Object(se.jsx)(Zn.a,{variant:"buffer",value:a})}):null,t.map((function(e){var t=URL.createObjectURL(e),n=e.type.split("/")[0];return"image"===n?Object(se.jsx)("img",{src:t,alt:""}):"video"===n?Object(se.jsxs)("video",{autoPlay:!0,muted:!0,className:"",children:[" ",Object(se.jsx)("source",{src:t}),"This browser doesn't support video tag."]}):void 0}))]}),Object(se.jsx)(hc.a,{color:"primary","aria-label":"add",sx:{position:"absolute",bottom:16,right:16},onClick:n,children:Object(se.jsx)(bc.a,{})})]})]})},Oc=n(500);var xc=function(e){var t=e.onInputChange;return Object(se.jsx)("div",{className:"Choosefile",children:Object(se.jsx)("div",{className:"select",children:Object(se.jsxs)("div",{className:"d-flex flex-column align-items-center",children:[Object(se.jsxs)("label",{htmlFor:"contained-button-file",children:[Object(se.jsx)(Oc.a,{accept:"image/*",id:"contained-button-file",onChange:t,style:{display:"none"},type:"file"}),Object(se.jsx)(F.a,{style:{backgroundColor:"#D0FAE4",marginRight:10},"aria-label":"upload picture",component:"span",children:Object(se.jsx)(Vn.a,{style:{color:"#06966A"}})})]}),"Create a Photo Story"]})})})},fc=5120;var pc=function(){var e=Object(a.useState)([]),t=Object(r.a)(e,2),n=t[0],c=t[1],s=Object(a.useState)(null),i=Object(r.a)(s,2),l=i[0],j=i[1],u=Object(a.useState)(null),b=Object(r.a)(u,2),h=b[0],m=b[1],O=Object(a.useState)(null),x=Object(r.a)(O,2),f=x[0],p=x[1],v=Object(a.useState)(null),g=Object(r.a)(v,2),w=g[0],y=g[1],N=Object(o.g)(),S=Object(d.c)((function(e){return e.user.user}));function C(){var e=new FileReader,t=n[l];if(t){var a=f*fc,c=a+fc,s=t.slice(a,c);e.onload=function(e){return function(e){var t=n[l],a=e.target.result,c=new URLSearchParams;c.set("name",t.name),c.set("size",t.size),c.set("userId",S._id),c.set("currentChunkIndex",f),c.set("totalChunks",Math.ceil(t.size/fc));var s={"Content-Type":"application/octet-stream"},i="http://localhost:4000/api/v1/user/addStory?"+c.toString();q.a.post(i,a,{headers:s}).then((function(e){var t=n[l],a=n[l].size,c=Math.ceil(a/fc)-1;f===c?(t.finalFilename=e.data.finalFilename,m(l),console.log(e),p(null),N.push("/")):p(f+1)}))}(e)},e.readAsDataURL(s)}}return Object(a.useEffect)((function(){if(null!==h){var e=h===n.length-1;j(e?null:l+1)}}),[h]),Object(a.useEffect)((function(){null!==l&&p(0)}),[l]),Object(a.useEffect)((function(){null!==f&&C(),null===n||void 0===n||n.map((function(e,t){if(y(0),e.finalFilename)y(100);else{var n=t===l,a=Math.ceil(e.size/fc);y(n?Math.round(f/a*100):0)}}))}),[f]),Object(se.jsxs)("div",{className:"CreateStories",children:[Object(se.jsx)(Re,{}),Object(se.jsxs)(I.a,{container:!0,children:[Object(se.jsx)(I.a,{item:!0,xs:12,md:3,sx:{display:{xs:"none",md:"none",lg:"block"}},className:"p-4 mt-5",children:Object(se.jsx)("div",{style:{position:"sticky",top:"-150px"},children:Object(se.jsx)(uc,{})})}),Object(se.jsx)(I.a,{item:!0,xs:12,md:9,className:" mt-4 mx-auto",children:(null===n||void 0===n?void 0:n.length)>0?Object(se.jsx)(mc,{files:n,submit:function(e){e.preventDefault(),n.length>0&&null===l&&j(null===h?0:h+1)},progress:w}):Object(se.jsx)(xc,{onInputChange:function(e){e.preventDefault(),c([].concat(Object(Wt.a)(n),Object(Wt.a)(e.target.files)))}})})]}),Object(se.jsx)(We,{})]})};n(361);xt.d.use([xt.a,xt.b]);var vc=function(e){var t=e.stories,n=Object(a.useRef)(null),c=Object(a.useState)(5e3),s=Object(r.a)(c,2),i=s[0],o=s[1],l=Object(d.c)((function(e){return e.selectedStorySlice.selectedStorySlice})),j=Object(a.useState)([]),u=Object(r.a)(j,2),b=u[0],h=u[1];return Object(a.useEffect)((function(){var e=t.findIndex((function(e){return e._id==l}));console.log("stories",t),console.log("stories.slice",t.slice(e,t.length)),h(t.slice(e,t.length))}),[l]),Object(se.jsxs)("div",{className:"ViewStories",children:[Object(se.jsx)(R.a,{sx:{display:{xs:"none",md:"block",lg:"block"}},variant:"h4",children:"View"}),Object(se.jsx)("div",{className:"BlackScreen",children:Object(se.jsx)("div",{className:"screen",children:Object(se.jsx)(Ot.a,{navigation:!0,onSlideChange:function(e){var t,a,c,s;(console.log(e),"VIDEO"===(null===n||void 0===n||null===(t=n.current)||void 0===t||null===(a=t.firstChild)||void 0===a?void 0:a.tagName))&&(o(null===n||void 0===n||null===(c=n.current)||void 0===c||null===(s=c.firstChild)||void 0===s?void 0:s.duration),console.log(i))},autoplay:{delay:2500,disableOnInteraction:!1},className:"mySwiper",children:null===b||void 0===b?void 0:b.map((function(e,t){var a,c,s,r,o,l;console.log(e.createdAt);var d=null===e||void 0===e||null===(a=e.files)||void 0===a||null===(c=a.file)||void 0===c?void 0:c.split("."),j=d[d.length-1];return Object(se.jsxs)(se.Fragment,{children:[("jpeg"===j||"jpg"===j||"png"===j)&&Object(se.jsxs)(Ot.b,{children:[Object(se.jsx)("img",{src:e.files.file,alt:"",className:"imgOne"}),Object(se.jsxs)("div",{className:"Profile",children:[Object(se.jsx)("div",{className:"img",children:Object(se.jsx)("img",{src:(null===e||void 0===e||null===(s=e.user)||void 0===s?void 0:s.ProfilePhotos)?null===e||void 0===e||null===(r=e.user)||void 0===r?void 0:r.ProfilePhotos:Le,style:{width:"50px",height:"50px",marginRight:"20px",marginLeft:"20px"},alt:""})}),Object(se.jsxs)("div",{children:[Object(se.jsx)("span",{children:e.user.name}),Object(se.jsx)("p",{children:ot()(e.files.createdAt).fromNow()})]})]})]},t),"mp4"===j&&Object(se.jsxs)(Ot.b,{"data-swiper-autoplay":1e3*i,ref:n,children:[Object(se.jsxs)("video",{autoPlay:!0,muted:!0,className:"imgOne video",loop:!0,children:[" ",Object(se.jsx)("source",{src:e.files.file}),"This browser doesn't support video tag."]}),Object(se.jsxs)("div",{className:"Profile",children:[Object(se.jsx)("div",{className:"img",children:Object(se.jsx)("img",{src:(null===e||void 0===e||null===(o=e.user)||void 0===o?void 0:o.ProfilePhotos)?null===e||void 0===e||null===(l=e.user)||void 0===l?void 0:l.ProfilePhotos:null,style:{width:"50px",height:"50px",marginRight:"20px",marginLeft:"20px"},alt:""})}),Object(se.jsx)("div",{children:Object(se.jsx)("span",{children:e.user.name})})]})]},t)]})}))})})})]})};var gc=function(){var e=Object(a.useState)([]),t=Object(r.a)(e,2),n=t[0],c=t[1];return Object(a.useEffect)((function(){G().then((function(e){c(e.stories)}))}),[]),Object(se.jsxs)("div",{children:[Object(se.jsx)(Re,{}),Object(se.jsxs)(I.a,{container:!0,children:[Object(se.jsx)(I.a,{item:!0,xs:12,md:3,sx:{display:{xs:"none",md:"none",lg:"block"}},className:"p-4 mt-5",children:Object(se.jsx)("div",{style:{position:"sticky",top:"-150px"},children:Object(se.jsx)(uc,{stories:n})})}),Object(se.jsx)(I.a,{item:!0,xs:12,md:9,className:" mt-4 mx-auto",children:Object(se.jsx)(vc,{stories:n})})]}),Object(se.jsx)(We,{})]})};n(362);var wc=function(e){var t,n=e.user,c=Object(a.useState)({}),s=Object(r.a)(c,2),i=s[0],l=s[1],d=Object(a.useState)(!1),u=Object(r.a)(d,2),b=u[0],h=u[1],m=Object(o.g)(),O=function(e){h(!0),l(Object(j.a)(Object(j.a)({},i),{},Object(le.a)({},e.target.name,e.target.value)))};return Object(a.useEffect)((function(){var e;void 0===n._id||(e=null===n||void 0===n?void 0:n._id,new Promise(function(){var t=Object(B.a)(M.a.mark((function t(n,a){var c;return M.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:c=localStorage.getItem("token"),q.a.get("http://localhost:4000/api/v1/user/getSocialAccounts/".concat(e),{headers:{Authorization:c}}).then((function(e){n(e.data)})).catch((function(e){a(e)}));case 2:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}())).then((function(e){l(null===e||void 0===e?void 0:e.socialAccounts[0])}))}),[n]),Object(se.jsx)("div",{className:"AddSocialAccount",children:Object(se.jsxs)("div",{className:"card ",children:[Object(se.jsxs)("div",{className:"Head",children:[Object(se.jsx)("div",{className:"backIcon",children:Object(se.jsxs)(F.a,{style:{backgroundColor:"#ffffff",marginRight:"20px"},children:["  ",Object(se.jsx)(Ln.a,{style:{color:"#007fff"}})]})}),"Account Details"]}),Object(se.jsxs)("div",{className:"profile p-3",children:[Object(se.jsx)("div",{className:"img",children:Object(se.jsx)("img",{src:null===n||void 0===n||null===(t=n.ProfilePhotos)||void 0===t?void 0:t.slice(-1).pop(),alt:""})}),Object(se.jsx)(R.a,{variant:"h5",children:null===n||void 0===n?void 0:n.name}),Object(se.jsx)(R.a,{variant:"h6",children:null===n||void 0===n?void 0:n.username})]}),Object(se.jsx)("div",{className:"Details p-3",children:Object(se.jsx)("form",{action:"",children:Object(se.jsxs)("div",{className:"row",children:[Object(se.jsx)("div",{className:"col-lg-6 p-4",children:Object(se.jsx)(k.a,{id:"input-with-icon-textfield",label:"Facebook",name:"Facebook",type:"url",fullWidth:!0,value:null===i||void 0===i?void 0:i.Facebook,onChange:O,placeholder:"https://www.facebook.com",InputProps:{startAdornment:Object(se.jsx)(Fa.a,{position:"start",children:Object(se.jsx)(Sn.a,{style:{color:"#4065AD"}})})},variant:"outlined"})}),Object(se.jsx)("div",{className:"col-lg-6 p-4",children:Object(se.jsx)(k.a,{id:"input-with-icon-textfield",label:"Twitter",type:"url",name:"Twitter",value:null===i||void 0===i?void 0:i.Twitter,fullWidth:!0,placeholder:"https://twitter.com",onChange:O,InputProps:{startAdornment:Object(se.jsx)(Fa.a,{position:"start",children:Object(se.jsx)(Cn.a,{style:{color:"#00acee"},Size:"40px"})})},variant:"outlined"})}),Object(se.jsx)("div",{className:"col-lg-6 p-4",children:Object(se.jsx)(k.a,{id:"input-with-icon-textfield",label:"LinkedIn",name:"LinkedIn",type:"url",fullWidth:!0,onChange:O,value:null===i||void 0===i?void 0:i.LinkedIn,placeholder:"https://www.linkedin.com",InputProps:{startAdornment:Object(se.jsx)(Fa.a,{position:"start",children:Object(se.jsx)(Pn.a,{style:{color:"#0e76a8"}})})},variant:"outlined"})}),Object(se.jsx)("div",{className:"col-lg-6 p-4",children:Object(se.jsx)(k.a,{id:"input-with-icon-textfield",label:"Instagram",name:"Instagram",type:"url",onChange:O,value:null===i||void 0===i?void 0:i.Instagram,fullWidth:!0,placeholder:"https://www.instagram.com",InputProps:{startAdornment:Object(se.jsx)(Fa.a,{position:"start",children:Object(se.jsx)(kn.a,{style:{color:"#E1416A",size:"40px"}})})},variant:"outlined"})}),Object(se.jsx)("div",{className:"d-flex align-items-center justify-content-center",children:Object(se.jsx)(C.a,{variant:"contained",onClick:function(){(function(e){var t=e.socialAccounts,n=e.userId;return new Promise(function(){var e=Object(B.a)(M.a.mark((function e(a,c){var s;return M.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:s=localStorage.getItem("token"),q.a.post(H+"/api/v1/user/AddSocialAccount",{socialAccounts:t,userId:n},{headers:{Authorization:s}}).then((function(e){localStorage.setItem("user",JSON.stringify(e.data)),a(e.data.user)})).catch((function(e){c(e)}));case 2:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}())})({socialAccounts:i,userId:n._id}).then((function(){an.a.fire("Updated!","Your profile is Updated.","success").then((function(){m.push("/settings")}))}))},disabled:!b,children:"Save"})})]})})})]})})};n(363);var yc=function(){var e=Object(d.c)((function(e){return e.user.user}));return Object(se.jsxs)("div",{className:"AddSocialAccountsPage",children:[Object(se.jsx)(Re,{}),Object(se.jsxs)(I.a,{container:!0,style:{marginTop:"70px"},children:[Object(se.jsx)(I.a,{item:!0,xs:12,md:2.5,sx:{display:{xs:"none",md:"none",lg:"block"}},className:"left",children:Object(se.jsxs)("div",{style:{position:"sticky",top:"-150px"},children:[Object(se.jsx)(Me,{}),Object(se.jsx)(Ye,{}),Object(se.jsx)(Je,{})]})}),Object(se.jsx)(I.a,{item:!0,xs:12,md:6.5,className:"mx-auto",style:{paddingTop:"20px"},children:Object(se.jsx)(wc,{user:e})}),Object(se.jsx)(I.a,{item:!0,xs:12,md:3,sx:{display:{xs:"none",md:"none",lg:"block"}},className:"right",children:Object(se.jsx)("div",{style:{position:"sticky",bottom:"100vh"},children:Object(se.jsx)(Mt,{user:e})})})]}),Object(se.jsx)(We,{})]})},Nc=an.a.mixin({toast:!0,position:"bottom-end",showConfirmButton:!1,timer:3e3,timerProgressBar:!0,didOpen:function(e){e.addEventListener("mouseenter",an.a.stopTimer),e.addEventListener("mouseleave",an.a.resumeTimer)}});var Sc=function(){var e=Object(o.g)(),t=Object(o.h)(),n=Object(d.b)(),c=Object(a.useState)(localStorage.getItem("token")),s=Object(r.a)(c,2),i=s[0],j=s[1],u=JSON.parse(localStorage.getItem("user"));Object(a.useEffect)((function(){var e=JSON.parse(localStorage.getItem("user"));return N.on("likemsg",(function(e){alert(e)})),N.on("sendLikeNotification",(function(e){var t=e.notifications,a=e.unReadNotificationsCount;n(p(a)),Nc.fire({title:"".concat(t.user.name," Liked Your Post")})})),N.on("sendCommentNotification",(function(e){var t=e.notifications,a=e.unReadNotificationsCount;n(p(a)),Nc.fire({title:"".concat(t.user.name," Commented Your Post")})})),N.on("save",(function(e){})),N.emit("getNotificationCound",{userId:null===e||void 0===e?void 0:e._id}),N.on("notificationCound",(function(e){n(p(e.notification))})),function(){N.off("likemsg"),N.off("sendLikeNotification"),N.off("sendCommentNotification"),N.off("save"),N.off("getNotificationCound"),N.off("notificationCound")}}),[u]),Object(a.useEffect)((function(){var e=localStorage.getItem("token");e?(n(m(JSON.parse(localStorage.getItem("user")))),j(e),1e3*Object(l.a)(e).exp<(new Date).getTime()&&b()):j(null)}),[t]);var b=function(){localStorage.removeItem("token"),localStorage.removeItem("user"),j(null),e.push("/login")};return Object(se.jsxs)(o.d,{children:[Object(se.jsx)(o.b,{exact:!0,path:"/",children:i?Object(se.jsx)(qt,{}):Object(se.jsx)(o.a,{to:"/login"})}),Object(se.jsx)(o.b,{exact:!0,path:"/login",children:i?Object(se.jsx)(o.a,{to:"/"}):Object(se.jsx)(he,{})}),Object(se.jsx)(o.b,{exact:!0,path:"/signup",children:i?Object(se.jsx)(o.a,{to:"/"}):Object(se.jsx)(ka,{})}),Object(se.jsx)(o.b,{exact:!0,path:"/emailSignup",children:i?Object(se.jsx)(o.a,{to:"/"}):Object(se.jsx)(oe,{})}),Object(se.jsx)(o.b,{exact:!0,path:"/forgotPassword",children:i?Object(se.jsx)(o.a,{to:"/"}):Object(se.jsx)(Aa,{})}),Object(se.jsx)(o.b,{path:"/profile/:userId",children:i?Object(se.jsx)(En,{}):Object(se.jsx)(o.a,{to:"/login"})}),Object(se.jsx)(o.b,{path:"/settings",children:i?Object(se.jsx)(Wn,{}):Object(se.jsx)(o.a,{to:"/login"})}),Object(se.jsx)(o.b,{path:"/AccountDetails",children:i?Object(se.jsx)(Bn,{}):Object(se.jsx)(o.a,{to:"/login"})}),Object(se.jsx)(o.b,{path:"/search",children:i?Object(se.jsx)(Kn,{}):Object(se.jsx)(o.a,{to:"/login"})}),Object(se.jsx)(o.b,{path:"/createpost",children:i?Object(se.jsx)(va,{}):Object(se.jsx)(o.a,{to:"/login"})}),Object(se.jsx)(o.b,{path:"/notification",children:i?Object(se.jsx)(Na,{}):Object(se.jsx)(o.a,{to:"/login"})}),Object(se.jsx)(o.b,{path:"/test",children:i?Object(se.jsx)(ta,{}):Object(se.jsx)(o.a,{to:"/login"})}),Object(se.jsx)(o.b,{path:"/passwordReset",children:Object(se.jsx)(Ba,{})}),Object(se.jsx)(o.b,{path:"/resetPasswords",children:i?Object(se.jsx)(Ha,{}):Object(se.jsx)(o.a,{to:"/login"})}),Object(se.jsx)(o.b,{exact:!0,path:"/Messenger",children:i?Object(se.jsx)(rc,{}):Object(se.jsx)(o.a,{to:"/login"})}),Object(se.jsx)(o.b,{path:"/Messenger/:userId",children:i?Object(se.jsx)(ic,{}):Object(se.jsx)(o.a,{to:"/login"})}),Object(se.jsx)(o.b,{path:"/createStories",children:i?Object(se.jsx)(pc,{}):Object(se.jsx)(o.a,{to:"/login"})}),Object(se.jsx)(o.b,{path:"/viewStories",children:i?Object(se.jsx)(gc,{}):Object(se.jsx)(o.a,{to:"/login"})}),Object(se.jsx)(o.b,{path:"/AddSocialAccount",children:i?Object(se.jsx)(yc,{}):Object(se.jsx)(o.a,{to:"/login"})})]})},Cc=n(164),Pc=Object(u.c)({name:"newPost",initialState:{post:null},reducers:{setNewPostAction:function(e,t){e.post=t.payload},removeNewPostAction:function(e){e.post=null}}}),kc=Pc.actions,Ic=(kc.setNewPostAction,kc.removeNewPostAction,Pc.reducer),Ec=Object(u.c)({name:"socket",initialState:{socket:null},reducers:{setSoketAction:function(e,t){e.socket=t.payload}}}),Ac=(Ec.actions.setSoketAction,Ec.reducer),_c=(Object(u.b)({isSerializable:function(e){return Cc.a.isIterable(e)||Object(u.e)(e)},getEntries:function(e){return Cc.a.isIterable(e)?e.entries():Object.entries(e)}}),Object(u.d)({serializableCheck:!1}),Object(u.a)({reducer:{user:x,newPost:Ic,socket:Ac,notificationCount:v,selectedStorySlice:jc},middleware:function(e){return e()}}));var Rc=function(){return Object(se.jsx)(d.a,{store:_c,children:Object(se.jsx)("div",{className:"App",children:Object(se.jsx)(Sc,{})})})};i.a.render(Object(se.jsx)(te.a,{children:Object(se.jsx)(c.a.StrictMode,{children:Object(se.jsx)(Rc,{})})}),document.getElementById("root"))}},[[364,1,2]]]);
//# sourceMappingURL=main.998b3014.chunk.js.map